var Lt=new Map([["number","Number"],["string","String"],["boolean","Boolean"],["symbol","Symbol"],["bigint","BigInt"],["undefined","(undefined)"]]),At="##INNER_TYPE##",Bt="@@INNER_TYPE@@";function Ft(e,r){if(Array.isArray(r)){for(let t=0;t<r.length;t++)if(Ft(e,r[t]))return!0;return!1}if(typeof r!="function")return r==="*"&&e!==null||r==="..."||r===null&&e===null||r===typeof e;switch(typeof e){case"function":case"object":break;default:e=Object(e);break}return e?.[Bt]?e[Bt]===r?.[At]:e instanceof r||e===r}function xt(e){if(e===null)return"null";if(e==="*")return"(any)";let r=typeof e;if(r in Lt)return Lt.get(r);let t=(e.name||e.constructor.name||"(unknown)").split(" ").pop();return[At,Bt].forEach(n=>{e?.[n]&&(t+=`<${xt(e?.[n])}>`)}),r==="function"&&t==="anonymous"?"(anonymous)":t}function c(e,r){let t=new Map,n=null;function i(...u){if(n)return n.apply(this,u);s(new Error,u)}function s(u,a){let h=u.stack.split(`
`).splice(3),m="",y=`
`,l="";h.forEach((x,g,z)=>{let b=x.trim().split(" "),S=b.length===3?b[1]:"(anonymous)",q=S.split(".").pop();z[g]={fullMethodName:S,methodName:q,link:b.length===3?b[2]:b[1]},g?y+=`${q}	${z[g].link}
`:l=q});let f=Array.from(t.keys()).find(x=>x.length===a.length);if(!f)throw m+=`The function "${l}" does not have an overload that takes ${a.length} arguments.`,m+=y,new Error(m);let d=!1;if(f.forEach((x,g)=>{if(!Ft(a[g],x)){let z=Array.isArray(x)?x.map(xt).join("\u3001"):xt(x);m+=`${d?`
`:""}Argument ${g+1}: Cannot convert from "${xt(a[g])}" to "${z}".`,d=!0}}),d)throw m=`Error calling function "${l}"
${m}`,m+=y,new Error(m)}function o(...u){if(!t.size)return i.apply(this,u);let a=Array.from(t.keys()).filter(h=>h.length===u.length||h[h.length-1]==="...");t:for(let h=0;h<a.length;h++){let m=a[h];if(typeof m[0]<"u"&&m[0]!=="..."&&u.length===0)continue t;for(let y=0;y<u.length;y++)if(!Ft(u[y],m[y]||m[m.length-1]))continue t;return t.get(m).apply(this,u)}return i.apply(this,u)}if(o.add=function(u,a){if(!Array.isArray(u))throw new TypeError('"types" must be an array.');if(typeof a!="function")throw new TypeError('"fn" must be a function.');for(let h=0;h<u.length;h++)if(u[h]==="..."&&h!==u.length-1)throw new Error('A "..." parameter must be the last parameter in a formal parameter list.');return t.size&&Array.from(t.keys()).forEach(h=>{if(h.length===u.length){for(let m=0;m<h.length;m++)if(h[m]!==u[m])return;throw new Error("Function with the same signature already exists.")}}),u.forEach(h=>{let m=Array.isArray(h);if(typeof h!="function"&&!m&&h!=="*"&&h!=="...")throw new Error('The expected type must be Class, Array, "*" or the last parameter type can also be "...".');if(m){for(let y=0;y<h.length;y++)if(typeof h[y]!="function"&&h[y]!==null&&h[y]!=="*")throw new Error('The predetermined type enumeration content must be a Class, null or "*".')}}),t.set(u,a),o},o.any=function(u){if(typeof u!="function")throw new TypeError('"fn" must be a function.');if(n)throw new Error('"any" function is already defined.');return n=u,o},Array.isArray(e)&&typeof r=="function")o.add(e,r);else if(e||r)throw new TypeError('"defaultTypes" must be an array and "defaultFn" must be a function.');return o}var O=class e{#t=[];#e=null;#n=null;get length(){return this.#t.length}get[Symbol.isConcatSpreadable](){return!0}get[Symbol.toStringTag](){return`List<${this.#e.name}>`}static#r=function(...r){return e.#r=c().add([Function],function(t){this.#e=t}).add([Function,[Array,e.T(typeof r?.[0]=="function"?r[0]:class{})]],function(t,n){this.#e=t;for(let i of n)this.add(i)}),e.#r.call(this,...r)};constructor(...r){return e.#r.apply(this,r),this.#i()}static T(...r){let t=new WeakMap;return e.T=c([Function],function(n){let i=t.get(n);return!i&&t.set(n,i=new Proxy(e,{get:(s,o,u)=>o==="##INNER_TYPE##"?n:s[o]})),i}),e.T(...r)}#i(){return this.#n=new Proxy(this,{get:(r,t,n)=>{if(t==="@@INNER_TYPE@@")return this.#e;let i=null;return typeof t=="symbol"?i=this[t]:typeof t=="string"&&(/^\d+$/.test(t)?i=this.#t[t]:i=this[t]),typeof i=="function"?i.bind(this):i},set:(r,t,n,i)=>{if(typeof t=="string"&&/^\d+$/.test(t)){if(t>=this.#t.length)throw new Error(`Index ${t} out of bounds, List length is ${this.#t.length}`);return c([this.#e],s=>{this.#t[t]=s}).call(this,n),!0}throw new Error(`Cannot set property "${t}" on List`)}})}#s(r){if(r<0)throw new Error(`Index ${r} out of bounds, Index must be greater than or equal to 0`);if(r>=this.#t.length)throw new Error(`Index ${r} out of bounds, List length is ${this.#t.length}`)}[Symbol.iterator]=function*(){for(let r=0;r<this.#t.length;r++)yield this.#t[r]};add(...r){return this.add=c([this.#e],function(t){this.#t.push(t)}),this.add(...r)}addRange(...r){return e.prototype.addRange=c([[Array,e]],function(t){for(let n of t)this.add(n)}).add(["..."],function(...t){for(let n of t)this.add(n)}),this.addRange(...r)}asReadOnly(...r){let t=["add","addRange","insert","insertRange","remove","removeAt","removeAll","removeRange","clear","reverse","sort","asReadOnly"];return e.prototype.asReadOnly=c([],function(){return new Proxy(this,{get:(n,i,s)=>{if(t.includes(i))throw new Error(`Cannot access method "${i}" on read-only List`);return this.#n[i]},set:(n,i,s,o)=>{throw new Error(`Cannot set property "${i}" on read-only List`)}})}),this.asReadOnly(...r)}concat(...r){return e.prototype.concat=c([[Array,e]],function(t){let n=new e(this.#e);for(let i of this)n.add(i);for(let i of t)n.add(i);return n}),this.concat(...r)}clear(...r){return e.prototype.clear=c([],function(){this.#t=[]}),this.clear(...r)}clone(...r){return e.prototype.clone=c([],function(){return new e(this.#e,this)}),this.clone(...r)}contains(...r){return this.contains=c([this.#e],function(t){return this.#t.includes(t)}),this.contains(...r)}copyTo(...r){return e.prototype.copyTo=c().add([Array],function(t){this.#t.forEach((n,i)=>{t[i]=n})}).add([Array,Number],function(t,n){this.#t.forEach((i,s)=>{t[n+s]=i})}).add([Array,Number,Number],function(t,n,i){for(let s=0;s<i;s++)t[n+s]=this.#t[s]}),this.copyTo(...r)}exists(...r){return e.prototype.exists=c([Function],function(t){return this.#t.some(t)}),this.exists(...r)}forEach(...r){return e.prototype.forEach=c([Function],function(t){this.#t.forEach(t)}),this.forEach(...r)}find(...r){return e.prototype.find=c([Function],function(t){return this.#t.find(t)}),this.find(...r)}findIndex(...r){return e.prototype.findIndex=c([Function],function(t){return this.#t.findIndex(t)}),this.findIndex(...r)}findLast(...r){return e.prototype.findLast=c([Function],function(t){this.#t.reverse();let n=this.#t.find(t);return this.#t.reverse(),n}),this.findLast(...r)}findLastIndex(...r){return e.prototype.findLastIndex=c([Function],function(t){this.#t.reverse();let n=this.#t.findIndex(t);return this.#t.reverse(),n}),this.findLastIndex(...r)}getInnerType(...r){return e.prototype.getInnerType=c([],function(){return this.#e}),this.getInnerType(...r)}insert(...r){return this.insert=c([Number,this.#e],function(t,n){this.#s(t),this.#t.splice(t,0,n)}),this.insert(...r)}insertRange(...r){return e.prototype.insertRange=c([Number,[Array,e]],function(t,n){this.#s(t);for(let i of n)this.insert(t++,i)}).add([Number,"..."],function(t,...n){this.#s(t);for(let i of n)this.insert(t++,i)}),this.insertRange(...r)}indexOf(...r){return this.indexOf=c([this.#e],function(t){return this.#t.indexOf(t)}),this.indexOf(...r)}lastIndexOf(...r){return this.lastIndexOf=c([this.#e],function(t){return this.#t.lastIndexOf(t)}),this.lastIndexOf(...r)}remove(...r){return this.remove=c([this.#e],function(t){let n=this.#t.indexOf(t);return n!==-1?(this.#t.splice(n,1),!0):!1}),this.remove(...r)}removeAt(...r){return e.prototype.removeAt=c([Number],function(t){this.#s(t),this.#t.splice(t,1)}),this.removeAt(...r)}removeAll(...r){return e.prototype.removeAll=c([Function],function(t){let n=0;for(let i=this.#t.length-1;i>=0;i--)t(this.#t[i])&&(this.#t.splice(i,1),n++);return n}),this.removeAll(...r)}removeRange(...r){return e.prototype.removeRange=c([Number,Number],function(t,n){this.#s(t),this.#s(t+n-1),this.#t.splice(t,n)}),this.removeRange(...r)}reverse(...r){return e.prototype.reverse=c([],function(){this.#t.reverse()}).add([Number,Number],function(t,n){this.#s(t),this.#s(t+n-1);let i=this.#t.splice(t,n);i.reverse(),this.#t.splice(t,0,...i)}),this.reverse(...r)}slice(...r){return e.prototype.slice=c().add([Number,Number],function(t,n){return new e(this.#e,this.#t.slice(t,n))}),this.slice(...r)}sort(...r){return e.prototype.sort=c().add([],function(){this.#t.sort()}).add([Function],function(t){this.#t.sort(t)}),this.sort(...r)}toArray(...r){return e.prototype.toArray=c([],function(){return this.#t.slice()}),this.toArray(...r)}trueForAll(...r){return e.prototype.trueForAll=c([Function],function(t){return this.#t.every(t)}),this.trueForAll(...r)}toString(...r){return e.prototype.toString=c().any(function(...t){return this.#t.toString(...t)}),this.toString(...r)}};var gt=Symbol("constructor"),E=class e{static get identity(){return new e(0,0,0,1)}#t=0;#e=0;#n=0;#r=0;static[gt]=function(...r){return e[gt]=c().add([],function(){[this.x,this.y,this.z,this.w]=[0,0,0,0]}).add([Number,Number,Number,Number],function(t,n,i,s){[this.x,this.y,this.z,this.w]=[t,n,i,s]}).add([p,Number],function(t,n){[this.x,this.y,this.z,this.w]=[t.x,t.y,t.z,n]}),e[gt].apply(this,r)};constructor(...r){return Object.defineProperties(this,{x:{get:()=>this.#t,set:c([Number],t=>this.#t=t)},y:{get:()=>this.#e,set:c([Number],t=>this.#e=t)},z:{get:()=>this.#n,set:c([Number],t=>this.#n=t)},w:{get:()=>this.#r,set:c([Number],t=>this.#r=t)}}),e[gt].apply(this,r)}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}static add(...r){return e.add=c([e,e],function(t,n){return new e(t.x+n.x,t.y+n.y,t.z+n.z,t.w+n.w)}),e.add.apply(this,r)}static concatenate(...r){return e.concatenate=c([e,e],function(t,n){let{x:i,y:s,z:o,w:u}=t,{x:a,y:h,z:m,w:y}=n;return new e(a*u+i*y+(h*o-m*s),h*u+s*y+(m*i-a*o),m*u+o*y+(a*s-h*i),y*u-(a*i+h*s+m*o))}),e.concatenate.apply(this,r)}static conjugate(...r){return e.conjugate=c([e],function(t){return new e(-t.x,-t.y,-t.z,t.w)}),e.conjugate.apply(this,r)}static createFromAxisAngle(...r){return e.createFromAxisAngle=c([p,Number],function(t,n){let{x:i,y:s,z:o}=t,u=n*.5,a=Math.sin(u),h=Math.cos(u);return new e(i*a,s*a,o*a,h)}),e.createFromAxisAngle.apply(this,r)}static createFromRotationMatrix(...r){return e.createFromRotationMatrix=c([M],function(t){let n=new e,i=t.m11+t.m22+t.m33,s,o;return i>0?(s=Math.sqrt(i+1),n.w=s*.5,s=.5/s,n.x=(t.m23-t.m32)*s,n.y=(t.m31-t.m13)*s,n.z=(t.m12-t.m21)*s,n):t.m11>=t.m22&&t.m11>=t.m33?(s=Math.sqrt(1+t.m11-t.m22-t.m33),o=.5/s,n.x=.5*s,n.y=(t.m12+t.m21)*o,n.z=(t.m13+t.m31)*o,n.w=(t.m23-t.m32)*o,n):t.m22>t.m33?(s=Math.sqrt(1+t.m22-t.m11-t.m33),o=.5/s,n.x=(t.m21+t.m12)*o,n.y=.5*s,n.z=(t.m32+t.m23)*o,n.w=(t.m31-t.m13)*o,n):(s=Math.sqrt(1+t.m33-t.m11-t.m22),o=.5/s,n.x=(t.m31+t.m13)*o,n.y=(t.m32+t.m23)*o,n.z=.5*s,n.w=(t.m12-t.m21)*o,n)}),e.createFromRotationMatrix.apply(this,r)}static createFromYawPitchRoll(...r){return e.createFromYawPitchRoll=c([Number,Number,Number],function(t,n,i){let s=i*.5,o=n*.5,u=t*.5,[a,h]=[Math.sin(s),Math.cos(s)],[m,y]=[Math.sin(o),Math.cos(o)],[l,f]=[Math.sin(u),Math.cos(u)];return new e(f*m*h+l*y*a,l*y*h-f*m*a,f*y*a-l*m*h,f*y*h+l*m*a)}),e.createFromYawPitchRoll.apply(this,r)}static divide(...r){return e.divide=c([e,e],function(t,n){let{x:i,y:s,z:o,w:u}=t,{x:a,y:h,z:m,w:y}=n,l=new e,d=1/n.lengthSquared(),x=-a*d,g=-h*d,z=-m*d,b=y*d,S=s*z-o*g,q=o*x-i*z,R=i*g-s*x,T=i*x+s*g+o*z;return l.x=i*b+x*u+S,l.y=s*b+g*u+q,l.z=o*b+z*u+R,l.w=u*b-T,l}),e.divide.apply(this,r)}static dot(...r){return e.dot=c([e,e],function(t,n){let{x:i,y:s,z:o,w:u}=t,{x:a,y:h,z:m,w:y}=n;return i*a+s*h+o*m+u*y}),e.dot.apply(this,r)}static inverse(...r){return e.inverse=c([e],function(t){let{x:n,y:i,z:s,w:o}=t,u=n*n,a=i*i,h=s*s,m=o*o,y=1/(u+a+h+m);return new e(-n*y,-i*y,-s*y,o*y)}),e.inverse.apply(this,r)}static lerp(...r){return e.lerp=c([e,e,Number],function(t,n,i){let{x:s,y:o,z:u,w:a}=t,{x:h,y:m,z:y,w:l}=n,f=1-i,d=this.dot(t,n)>=0?1:-1,x=(z,b)=>f*z+d*i*b,g=new e(x(s,h),x(o,m),x(u,y),x(a,l));return g.normalize(),g}),e.lerp.apply(this,r)}static multiply(...r){return e.multiply=c().add([e,Number],function(t,n){return new e(t.x*n,t.y*n,t.z*n,t.w*n)}).add([e,e],function(t,n){let{x:i,y:s,z:o,w:u}=t,{x:a,y:h,z:m,w:y}=n,l=s*m-o*h,f=o*a-i*m,d=i*h-s*a,x=i*a+s*h+o*m;return new e(i*y+a*u+l,s*y+h*u+f,o*y+m*u+d,u*y-x)}),e.multiply.apply(this,r)}static negate(...r){return e.negate=c([e],function(t){let{x:n,y:i,z:s,w:o}=t;return new e(-n,-i,-s,-o)}),e.negate.apply(this,r)}static normalize(...r){return e.normalize=c([e],function(t){let{x:n,y:i,z:s,w:o}=t,u=1/t.length();return new e(n*u,i*u,s*u,o*u)}),e.normalize.apply(this,r)}static slerp(...r){return e.slerp=c([e,e,Number],function(t,n,i){let{x:s,y:o,z:u,w:a}=t,{x:h,y:m,z:y,w:l}=n,f=this.dot(t,n),d=f<0;f=d?-f:f;let x,g;if(f>.999999)g=1-i,x=d?-i:i;else{let b=Math.acos(f),S=1/Math.sin(b);g=Math.sin((1-i)*b)*S,x=Math.sin(i*b)*S,d&&(x=-x)}let z=(b,S)=>g*b+x*S;return new e(z(s,h),z(o,m),z(u,y),z(a,l))}),e.slerp.apply(this,r)}static subtract(...r){return e.subtract=c([e,e],function(t,n){return new e(t.x-n.x,t.y-n.y,t.z-n.z,t.w-n.w)}),e.subtract.apply(this,r)}static"-"(...r){return e.negate(...r)}"+"(...r){return e.add(this,...r)}"-"(...r){return e.subtract(this,...r)}"*"(...r){return e.multiply(this,...r)}"/"(...r){return e.divide(this,...r)}"=="(...r){return this.equals(...r)}"!="(...r){return!this.equals(...r)}conjugate(...r){return e.prototype.conjugate=c([],function(){[this.x,this.y,this.z]=[-this.x,-this.y,-this.z]}),e.prototype.conjugate.apply(this,r)}length(...r){return e.prototype.length=c([],function(){return Math.sqrt(this.lengthSquared())}),e.prototype.length.apply(this,r)}lengthSquared(...r){return e.prototype.lengthSquared=c([],function(){let{x:t,y:n,z:i,w:s}=this;return t*t+n*n+i*i+s*s}),e.prototype.lengthSquared.apply(this,r)}normalize(...r){return e.prototype.normalize=c([],function(){let t=1/this.length();this.x*=t,this.y*=t,this.z*=t,this.w*=t}),e.prototype.normalize.apply(this,r)}equals(...r){return e.prototype.equals=c([e],function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z&&this.w===t.w}).any(()=>!1),e.prototype.equals.apply(this,r)}toString(...r){return e.prototype.toString=c([],function(){return JSON.stringify(this)}),e.prototype.toString.apply(this,r)}toJSON(){return{x:this.x,y:this.y,z:this.z,w:this.w}}};var w=class e{static get e(){return 2.71828175}static get log10e(){return .4342945}static get log2e(){return 1.442695}static get pi(){return 3.14159274}static get piOver2(){return 1.57079637}static get piOver4(){return .7853982}static get twoPi(){return 6.28318548}static barycentric=c([Number,Number,Number,Number,Number],(r,t,n,i,s)=>r+(t-r)*i+(n-r)*s);static catmullRom=c([Number,Number,Number,Number,Number],function(r,t,n,i,s){let o=s*s,u=o*s;return .5*(2*t+(n-r)*s+(2*r-5*t+4*n-i)*o+(3*t-r-3*n+i)*u)});static clamp=c([Number,Number,Number],(r,t,n)=>Math.min(Math.max(r,t),n));static distance=c([Number,Number],(r,t)=>Math.abs(r-t));static hermite=c([Number,Number,Number,Number,Number],function(r,t,n,i,s){let o=s*s*s,u=s*s;return s===0?r:s===1?n:(2*r-2*n+i+t)*o+(3*n-3*r-2*t-i)*u+t*s+r});static lerp=c([Number,Number,Number],(r,t,n)=>r+(t-r)*n);static max=c([Number,Number],(r,t)=>Math.max(r,t));static min=c([Number,Number],(r,t)=>Math.min(r,t));static smoothStep=c([Number,Number,Number],(r,t,n)=>e.hermite(r,0,t,0,e.clamp(n,0,1)));static toDegrees=c([Number],r=>r*57.29577793714917);static toRadians=c([Number],r=>r*.017453293);static wrapAngle=c([Number],function(r){let{pi:t,twoPi:n}=e;return r>-t&&r<=t?r:(r%=n,r<=-t?r+n:r)});static isPowerOfTwo=c([Number],r=>r>0&&(r&r-1)===0);static closestMSAAPower=c([Number],function(r){if(r===1)return 0;let t=r-1;return t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t+=1,t>r?t>>1:t});constructor(){throw new Error("This is a static class")}};var wt=Symbol("constructor"),V=class e{static get one(){return new e(1,1,1,1)}static get unitW(){return new e(0,0,0,1)}static get unitX(){return new e(1,0,0,0)}static get unitY(){return new e(0,1,0,0)}static get unitZ(){return new e(0,0,1,0)}static get zero(){return new e(0,0,0,0)}#t=0;#e=0;#n=0;#r=0;static[wt]=function(...r){return e[wt]=c().add([],function(){[this.x,this.y,this.z,this.w]=[0,0,0,0]}).add([Number],function(t){[this.x,this.y,this.z,this.w]=[t,t,t,t]}).add([Number,Number,Number,Number],function(t,n,i,s){[this.x,this.y,this.z,this.w]=[t,n,i,s]}).add([L,Number,Number],function(t,n,i){[this.x,this.y,this.z,this.w]=[t.x,t.y,n,i]}).add([p,Number],function(t,n){[this.x,this.y,this.z,this.w]=[t.x,t.y,t.z,n]}),e[wt].apply(this,r)};constructor(...r){return Object.defineProperties(this,{x:{get:()=>this.#t,set:c([Number],t=>this.#t=t)},y:{get:()=>this.#e,set:c([Number],t=>this.#e=t)},z:{get:()=>this.#n,set:c([Number],t=>this.#n=t)},w:{get:()=>this.#r,set:c([Number],t=>this.#r=t)}}),e[wt].apply(this,r)}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}static add(...r){return e.add=c([e,e],function(t,n){return new e(t.x+n.x,t.y+n.y,t.z+n.z,t.w+n.w)}),e.add.apply(this,r)}static barycentric(...r){return e.barycentric=c([e,e,e,Number,Number],function(t,n,i,s,o){return new e(w.barycentric(t.x,n.x,i.x,s,o),w.barycentric(t.y,n.y,i.y,s,o),w.barycentric(t.z,n.z,i.z,s,o),w.barycentric(t.w,n.w,i.w,s,o))}),e.barycentric.apply(this,r)}static catmullRom(...r){return e.catmullRom=c([e,e,e,e,Number],function(t,n,i,s,o){return new e(w.catmullRom(t.x,n.x,i.x,s.x,o),w.catmullRom(t.y,n.y,i.y,s.y,o),w.catmullRom(t.z,n.z,i.z,s.z,o),w.catmullRom(t.w,n.w,i.w,s.w,o))}),e.catmullRom.apply(this,r)}static clamp(...r){return e.clamp=c([e,e,e],function(t,n,i){return new e(w.clamp(t.x,n.x,i.x),w.clamp(t.y,n.y,i.y),w.clamp(t.z,n.z,i.z),w.clamp(t.w,n.w,i.w))}),e.clamp.apply(this,r)}static distance(...r){return e.distance=c([e,e],function(t,n){return Math.sqrt(this.distanceSquared(t,n))}),e.distance.apply(this,r)}static distanceSquared(...r){return e.distanceSquared=c([e,e],function(t,n){let i=t.w-n.w,s=t.x-n.x,o=t.y-n.y,u=t.z-n.z;return i*i+s*s+o*o+u*u}),e.distanceSquared.apply(this,r)}static divide(...r){return e.divide=c().add([e,Number],function(t,n){let i=1/n;return new e(t.x*i,t.y*i,t.z*i,t.w*i)}).add([e,e],function(t,n){return new e(t.x/n.x,t.y/n.y,t.z/n.z,t.w/n.w)}),e.divide.apply(this,r)}static dot(...r){return e.dot=c([e,e],function(t,n){let{x:i,y:s,z:o,w:u}=t,{x:a,y:h,z:m,w:y}=n;return i*a+s*h+o*m+u*y}),e.dot.apply(this,r)}static hermite(...r){return e.hermite=c([e,e,e,e,Number],function(t,n,i,s,o){return new e(w.hermite(t.x,n.x,i.x,s.x,o),w.hermite(t.y,n.y,i.y,s.y,o),w.hermite(t.z,n.z,i.z,s.z,o),w.hermite(t.w,n.w,i.w,s.w,o))}),e.hermite.apply(this,r)}static lerp(...r){return e.lerp=c([e,e,Number],function(t,n,i){return new e(w.lerp(t.x,n.x,i),w.lerp(t.y,n.y,i),w.lerp(t.z,n.z,i),w.lerp(t.w,n.w,i))}),e.lerp.apply(this,r)}static max(...r){return e.max=c([e,e],function(t,n){return new e(w.max(t.x,n.x),w.max(t.y,n.y),w.max(t.z,n.z),w.max(t.w,n.w))}),e.max.apply(this,r)}static min(...r){return e.min=c([e,e],function(t,n){return new e(w.min(t.x,n.x),w.min(t.y,n.y),w.min(t.z,n.z),w.min(t.w,n.w))}),e.min.apply(this,r)}static multiply(...r){return e.multiply=c().add([e,Number],function(t,n){return new e(t.x*n,t.y*n,t.z*n,t.w*n)}).add([e,e],function(t,n){return new e(t.x*n.x,t.y*n.y,t.z*n.z,t.w*n.w)}),e.multiply.apply(this,r)}static negate(...r){return e.negate=c([e],function(t){return new e(-t.x,-t.y,-t.z,-t.w)}),e.negate.apply(this,r)}static normalize(...r){return e.normalize=c([e],function(t){let{x:n,y:i,z:s,w:o}=t,a=1/Math.sqrt(n*n+i*i+s*s+o*o);return new e(n*a,i*a,s*a,o*a)}),e.normalize.apply(this,r)}static smoothStep(...r){return e.smoothStep=c([e,e,Number],function(t,n,i){return new e(w.smoothStep(t.x,n.x,i),w.smoothStep(t.y,n.y,i),w.smoothStep(t.z,n.z,i),w.smoothStep(t.w,n.w,i))}),e.smoothStep.apply(this,r)}static subtract(...r){return e.subtract=c([e,e],function(t,n){return new e(t.x-n.x,t.y-n.y,t.z-n.z,t.w-n.w)}),e.subtract.apply(this,r)}static transform(...r){return e.transform=c().add([L,M],function(t,n){let{x:i,y:s}=t,{m11:o,m21:u,m41:a,m12:h,m22:m,m42:y,m13:l,m23:f,m43:d,m14:x,m24:g,m44:z}=n;return new e(i*o+s*u+a,i*h+s*m+y,i*l+s*f+d,i*x+s*g+z)}).add([L,E],function(t,n){let{x:i,y:s}=t,{x:o,y:u,z:a,w:h}=n,[m,y,l]=[o+o,u+u,a+a],[f,d,x]=[h*m,h*y,h*l],[g,z,b]=[o*m,o*y,o*l],[S,q,R]=[u*y,u*l,a*l];return new e(i*(1-S-R)+s*(z-x),i*(z+x)+s*(1-g-R),i*(b-d)+s*(q+f),1)}).add([p,M],function(t,n){let{x:i,y:s,z:o}=t,{m11:u,m21:a,m31:h,m41:m,m12:y,m22:l,m32:f,m42:d,m13:x,m23:g,m33:z,m43:b,m14:S,m24:q,m34:R,m44:T}=n;return new e(i*u+s*a+o*h+m,i*y+s*l+o*f+d,i*x+s*g+o*z+b,i*S+s*q+o*R+T)}).add([p,E],function(t,n){let{x:i,y:s,z:o}=t,{x:u,y:a,z:h,w:m}=n,[y,l,f]=[u+u,a+a,h+h],[d,x,g]=[m*y,m*l,m*f],[z,b,S]=[u*y,u*l,u*f],[q,R,T]=[a*l,a*f,h*f];return new e(i*(1-q-T)+s*(b-g)+o*(S+x),i*(b+g)+s*(1-z-T)+o*(R-d),i*(S-x)+s*(R+d)+o*(1-z-q),1)}).add([e,M],function(t,n){let{x:i,y:s,z:o,w:u}=t,{m11:a,m21:h,m31:m,m41:y,m12:l,m22:f,m32:d,m42:x,m13:g,m23:z,m33:b,m43:S,m14:q,m24:R,m34:T,m44:F}=n;return new e(i*a+s*h+o*m+u*y,i*l+s*f+o*d+u*x,i*g+s*z+o*b+u*S,i*q+s*R+o*T+u*F)}).add([e,E],function(t,n){let i=this.transform(new p(t.x,t.y,t.z),n);return i.w=t.w,i}).add([O.T(e),Number,[M,E],O.T(e),Number,Number],function(t,n,i,s,o,u){if(t.length<n+u)throw new RangeError("The length of sourceArray is smaller than sourceIndex + length.");if(s.length<o+u)throw new RangeError("The length of destinationArray is smaller than destinationIndex + length.");for(let a=0;a<u;a++)s[o+a]=this.transform(t[n+a],i)}).add([O.T(e),M,O.T(e)],function(t,n,i){this.transform(t,0,n,i,0,t.length)}).add([O.T(e),E,O.T(e)],function(t,n,i){this.transform(t,0,n,i,0,t.length)}),e.transform.apply(this,r)}static"-"(...r){return e.negate(...r)}"+"(...r){return e.add(this,...r)}"-"(...r){return e.subtract(this,...r)}"*"(...r){return e.multiply(this,...r)}"/"(...r){return e.divide(this,...r)}"=="(...r){return this.equals(...r)}"!="(...r){return!this.equals(...r)}equals(...r){return e.prototype.equals=c([e],function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z&&this.w===t.w}).any(()=>!1),e.prototype.equals.apply(this,r)}length(...r){return e.prototype.length=c([],function(){return Math.sqrt(this.lengthSquared())}),e.prototype.length.apply(this,r)}lengthSquared(...r){return e.prototype.lengthSquared=c([],function(){let{x:t,y:n,z:i,w:s}=this;return t*t+n*n+i*i+s*s}),e.prototype.lengthSquared.apply(this,r)}normalize(...r){return e.prototype.normalize=c().add([],function(){let t=1/this.length();this.x*=t,this.y*=t,this.z*=t,this.w*=t}),e.prototype.normalize.apply(this,r)}toString(...r){return e.prototype.toString=c().add([],function(){return JSON.stringify(this)}),e.prototype.toString.apply(this,r)}toJSON(){return{x:this.x,y:this.y,z:this.z,w:this.w}}};var k=class e{#t;#e="";get description(){return this.#e}get valNumber(){return Number(this.#t)}get valString(){return""+(this.#t||"")}get valBoolean(){return!!this.#t}get valObject(){return Object(this.#t)}static#n=function(...r){return e.#n=c().add([],function(){this.#t=Symbol()}).add([e],function(t){this.#t=t.#t}).add(["*"],function(t){this.#t=t}).add([e,String],function(t,n){this.#t=t.#t,this.#e=n}).add(["*",String],function(t,n){this.#t=t,this.#e=n}),e.#n.apply(this,r)};constructor(...r){return e.#n.apply(this,r)}[Symbol.iterator]=function*(){yield this.#t};static getAll(...r){return e.getAll=c().add([],function(){let t=[],n=Object.getOwnPropertyNames(this);for(let i=0;i<n.length;i++){if(n[i]==="prototype")continue;let s=this[n[i]];typeof s=="object"&&s instanceof e&&t.push(s)}return t}),e.getAll.apply(this,r)}static getByValue(...r){let t=(n,i)=>{let s=this.getAll();for(let o=s.length;o--;)if(s[o][i]===n)return s[o];return null};return e.getByValue=c().add([Number],function(n){return t(n,"valNumber")}).add([String],function(n){return t(n,"valString")}).add([Boolean],function(n){return t(n,"valBoolean")}).add([e],function(n){return this.getByValue(n.valNumber)}).add([Object],function(n){return t(n,"valObject")}),e.getByValue.apply(this,r)}static getByDescription(...r){return e.getByDescription=c().add([String],function(t){let n=this.getAll();for(let i=n.length;i--;)if(n[i].description===t)return n[i];return null}),e.getByDescription.apply(this,r)}static set(...r){return e.set=c().add([Object],function(t){for(let n in t){let i=new this(t[n],n);Reflect.defineProperty(this,n,{writable:!1,enumerable:!0,configurable:!1,value:i})}Object.freeze(this)}),e.set.apply(this,r)}valueOf(){return this.#t}};var N=class extends k{static{this.set({disjoint:0,contains:1,intersects:2})}};var C=class extends k{static{this.set({front:0,back:1,intersecting:2})}};var zt=Symbol("constructor"),Y=class e{#t=null;#e=0;static[zt]=function(...r){return e[zt]=c().add([],function(){[this.center,this.radius]=[p.zero,0]}).add([p,Number],function(t,n){[this.center,this.radius]=[t,n]}),e[zt].apply(this,r)};constructor(...r){return Object.defineProperties(this,{center:{get:()=>this.#t,set:c([p],t=>this.#t=t)},radius:{get:()=>this.#e,set:c([Number],t=>this.#e=t)}}),e[zt].apply(this,r)}*[Symbol.iterator](){yield this.center,yield this.radius}static createFromBoundingBox(...r){return e.createFromBoundingBox=c([P],function(t){let n=new p((t.min.x+t.max.x)/2,(t.min.y+t.max.y)/2,(t.min.z+t.max.z)/2),i=p.distance(n,t.max);return new e(n,i)}),e.createFromBoundingBox.apply(this,r)}static createFromFrustum(...r){return e.createFromFrustum=c([j],function(t){return this.createFromPoints(t.getCorners())}),e.createFromFrustum.apply(this,r)}static createFromPoints(...r){return e.createFromPoints=c([O.T(p)],function(t){if(t.length===0)throw new Error("There should be at least one point in points.");let n=new p(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),i=new p(Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(let y of t)n.x=Math.min(n.x,y.x),i.x=Math.max(i.x,y.x),n.y=Math.min(n.y,y.y),i.y=Math.max(i.y,y.y),n.z=Math.min(n.z,y.z),i.z=Math.max(i.z,y.z);let s=p.distanceSquared(new p(n.x,0,0),new p(i.x,0,0)),o=p.distanceSquared(new p(0,n.y,0),new p(0,i.y,0)),u=p.distanceSquared(new p(0,0,n.z),new p(0,0,i.z));o>s&&o>u?(n=new p(0,n.y,0),i=new p(0,i.y,0)):u>s&&u>o?(n=new p(0,0,n.z),i=new p(0,0,i.z)):(n=new p(n.x,0,0),i=new p(i.x,0,0));let a=p.multiply(p.add(n,i),.5),h=p.distance(i,a),m=h*h;for(let y of t){let l=p.subtract(y,a),f=l.lengthSquared();if(f>m){let d=Math.sqrt(f),x=p.divide(l,d),g=p.subtract(a,p.multiply(x,h));a=p.divide(p.add(g,y),2),h=p.distance(y,a),m=h*h}}return new e(a,h)}),e.createFromPoints.apply(this,r)}static createMerged(...r){return e.createMerged=c([e,e],function(t,n){let i=p.subtract(n.center,t.center),s=i.length();if(s<=t.radius+n.radius){if(s<=t.radius-n.radius)return new e(t.center,t.radius);if(s<=n.radius-t.radius)return new e(n.center,n.radius)}let o=Math.max(t.radius-s,n.radius),u=Math.max(t.radius+s,n.radius),a=(o-u)/(2*s);return i=p.add(i,p.multiply(i,a)),new e(p.add(t.center,i),(o+u)/2)}),e.createMerged.apply(this,r)}"=="(...r){return this.equals(...r)}"!="(...r){return!this.equals(...r)}contains(...r){return e.prototype.contains=c().add([P],function(t){let n=!0;if(t.getCorners().forEach(u=>{this.contains(u)===N.disjoint&&(n=!1)}),n)return N.contains;let s=0,o=(u,a,h)=>u<a?(u-a)*(u-a):u>h?(u-h)*(u-h):0;return s+=o(this.center.x,t.min.x,t.max.x),s+=o(this.center.y,t.min.y,t.max.y),s+=o(this.center.z,t.min.z,t.max.z),s<=this.radius*this.radius?N.intersects:N.disjoint}).add([j],function(t){let n=!0,i=t.getCorners();for(var s=0;s<i.length;s++)if(this.contains(i[s])===N.disjoint){n=!1;break}return n?N.contains:0<=this.radius*this.radius?N.intersects:N.disjoint}).add([e],function(t){let n=p.distanceSquared(t.center,this.center),i=t.radius+this.radius,s=this.radius-t.radius;return n>i*i?N.disjoint:n<=s*s?N.contains:N.intersects}).add([p],function(t){let n=this.radius*this.radius,i=p.distanceSquared(t,this.center);return i>n?N.disjoint:i<n?N.contains:N.intersects}),e.prototype.contains.apply(this,r)}equals(...r){return e.prototype.equals=c([e],function(t){return this.center.equals(t.center)&&this.radius===t.radius}).any(()=>!1),e.prototype.equals.apply(this,r)}intersects(...r){return e.prototype.intersects=c().add([P],function(t){return t.intersects(this)}).add([j],function(t){return t.intersects(this)}).add([e],function(t){return!(p.distanceSquared(t.center,this.center)>(t.radius+this.radius)*(t.radius+this.radius))}).add([B],function(t){let n=p.dot(t.normal,this.center);return n+=t.d,n>this.radius?C.front:n<-this.radius?C.back:C.intersecting}).add([X],function(t){return t.intersects(this)}),e.prototype.intersects.apply(this,r)}transform(...r){return e.prototype.transform=c([M],function(t){let n=new e;n.center=p.transform(this.center,t);let{m11:i,m12:s,m13:o,m21:u,m22:a,m23:h,m31:m,m32:y,m33:l}=t,f=Math.max(i*i+s*s+o*o,u*u+a*a+h*h),d=Math.max(f,m*m+y*y+l*l);return n.radius=this.radius*Math.sqrt(d),n}),e.prototype.transform.apply(this,r)}toString(...r){return e.prototype.toString=c([],function(){return JSON.stringify(this)}),e.prototype.toString.apply(this,r)}toJSON(){return{center:this.center,radius:this.radius}}};var bt=Symbol("constructor"),X=class e{#t=null;#e=null;static[bt]=function(...r){return e[bt]=c().add([],function(){[this.position,this.direction]=[p.zero,p.zero]}).add([p,p],function(t,n){[this.position,this.direction]=[t,n]}),e[bt].apply(this,r)};constructor(...r){return Object.defineProperties(this,{position:{get:()=>this.#e,set:c([p],t=>this.#e=t)},direction:{get:()=>this.#t,set:c([p],t=>this.#t=t)}}),e[bt].apply(this,r)}*[Symbol.iterator](){yield this.position,yield this.direction}"=="(...r){return this.equals(...r)}"!="(...r){return!this.equals(...r)}intersects(...r){return e.prototype.intersects=c().add([P],function(t){let n=-1/0,i=1/0,{x:s,y:o,z:u}=this.position,{x:a,y:h,z:m}=this.direction,y=(l,f,d,x)=>{if(Math.abs(f)<Number.EPSILON){if(l<d||l>x)return!1}else{let g=(d-l)/f,z=(x-l)/f;if(g>z&&([g,z]=[z,g]),g>n&&(n=g),z<i&&(i=z),n>i)return!1}return!0};return!y(s,a,t.min.x,t.max.x)||!y(o,h,t.min.y,t.max.y)||!y(u,m,t.min.z,t.max.z)?null:n<0&&i>0?0:n<0?null:n}).add([j],function(t){return t.intersects(this)}).add([Y],function(t){let n=p.subtract(t.center,this.position),i=n.lengthSquared(),s=t.radius*t.radius;if(i<s)return 0;let o=p.dot(this.direction,n);if(o<0)return null;let u=s+o*o-i;return u<0?null:o-Math.sqrt(u)}).add([B],function(t){let n=p.dot(this.direction,t.normal);if(Math.abs(n)<1e-5)return null;let i=(-t.d-p.dot(t.normal,this.position))/n;if(i<0){if(i<-1e-5)return null;i=0}return i}),e.prototype.intersects.apply(this,r)}equals(...r){return e.prototype.equals=c([e],function(t){return this.direction.equals(t.direction)&&this.position.equals(t.position)}).any(()=>!1),e.prototype.equals.apply(this,r)}toString(...r){return e.prototype.toString=c([],function(){return JSON.stringify(this)}),e.prototype.toString.apply(this,r)}toJSON(){return{position:this.position,direction:this.direction}}};var Nt=Symbol("constructor"),j=class e{static get cornerCount(){return 8}static get#t(){return 6}#e=null;#n=null;#r=null;get near(){return this.#r[0]}get far(){return this.#r[1]}get left(){return this.#r[2]}get right(){return this.#r[3]}get top(){return this.#r[4]}get bottom(){return this.#r[5]}static[Nt]=function(...r){return e[Nt]=c([M],function(t){this.matrix=t}),e[Nt].apply(this,r)};constructor(...r){return Object.defineProperties(this,{matrix:{get:()=>this.#e,set:c([M],function(t){this.#e=t,this.#s(),this.#i()})}}),e[Nt].apply(this,r)}*[Symbol.iterator](){yield this.matrix}#i(){this.#n=new O(p);let r=this.#r;this.#n.addRange([this.#o(r[0],r[2],r[4]),this.#o(r[0],r[3],r[4]),this.#o(r[0],r[3],r[5]),this.#o(r[0],r[2],r[5]),this.#o(r[1],r[2],r[4]),this.#o(r[1],r[3],r[4]),this.#o(r[1],r[3],r[5]),this.#o(r[1],r[2],r[5])])}#s(){this.#r=new O(B);let r=this.#e,t=this.#r,{m11:n,m12:i,m13:s,m14:o,m21:u,m22:a,m23:h,m24:m,m31:y,m32:l,m33:f,m34:d,m41:x,m42:g,m43:z,m44:b}=r;t.addRange([new B(-s,-h,-f,-z),new B(s-o,h-m,f-d,z-b),new B(-o-n,-m-u,-d-y,-b-x),new B(n-o,u-m,y-d,x-b),new B(i-o,a-m,l-d,g-b),new B(-o-i,-m-a,-d-l,-b-g)]),this.#c(t[0]),this.#c(t[1]),this.#c(t[2]),this.#c(t[3]),this.#c(t[4]),this.#c(t[5])}#o(r,t,n){let i,s,o,u=p.cross(t.normal,n.normal),a=p.dot(r.normal,u);a*=-1,u=p.cross(t.normal,n.normal),i=p.multiply(u,r.d),u=p.cross(n.normal,r.normal),s=p.multiply(u,t.d),u=p.cross(r.normal,t.normal),o=p.multiply(u,n.d);let h=(i.x+s.x+o.x)/a,m=(i.y+s.y+o.y)/a,y=(i.z+s.z+o.z)/a;return new p(h,m,y)}#c(r){let t=1/r.normal.length();r.normal.x*=t,r.normal.y*=t,r.normal.z*=t,r.d*=t}"=="(...r){return this.equals(...r)}"!="(...r){return!this.equals(...r)}contains(...r){return e.prototype.contains=c().add([P],function(t){let n=!1,i=e.#t;for(let s=0;s<i;++s)switch(t.intersects(this.#r[s])){case C.front:return N.disjoint;case C.intersecting:n=!0;break}return n?N.intersects:N.contains}).add([e],function(t){if(this===t)return N.contains;let n=!1,i=e.#t;for(let s=0;s<i;++s)switch(t.intersects(this.#r[s])){case C.front:return N.disjoint;case C.intersecting:n=!0;break}return n?N.intersects:N.contains}).add([Y],function(t){let n=!1,i=e.#t;for(let s=0;s<i;++s)switch(t.intersects(this.#r[s])){case C.front:return N.disjoint;case C.intersecting:n=!0;break}return n?N.intersects:N.contains}).add([p],function(t){let n=e.#t;for(let i=0;i<n;++i){let s=this.#r[i];if(t.x*s.normal.x+t.y*s.normal.y+t.z*s.normal.z+s.d>0)return N.disjoint}return N.contains}),e.prototype.contains.apply(this,r)}equals(...r){return e.prototype.equals=c([e],function(t){return this.matrix.equals(t.matrix)}).any(()=>!1),e.prototype.equals.apply(this,r)}getCorners(...r){return e.prototype.getCorners=c().add([],function(){let t=new O(p),n=this.#n;for(let i=0;i<n.length;i++)t.add(new p(n[i].x,n[i].y,n[i].z));return t}).add([O.T(p)],function(t){if(t.length<e.cornerCount)throw new RangeError("corners length is less than BoundingFrustum.cornerCount.");let n=this.#n;for(let i=0;i<n.length;i++)t[i].x=n[i].x,t[i].y=n[i].y,t[i].z=n[i].z}),e.prototype.getCorners.apply(this,r)}intersects(...r){return e.prototype.intersects=c().add([P],function(t){return this.contains(t)!==N.disjoint}).add([e],function(t){return this.contains(t)!==N.disjoint}).add([Y],function(t){return this.contains(t)!==N.disjoint}).add([B],function(t){let n=this.#n,i=t.intersects(n[0]);for(var s=1;s<n.length;s++)t.intersects(n[s])!=i&&(i=C.intersecting);return i}).add([X],function(t){switch(this.contains(t.position)){case N.disjoint:return null;case N.contains:return 0;case N.intersects:return 0;default:throw new RangeError}}),e.prototype.intersects.apply(this,r)}toString(...r){return e.prototype.toString=c([],function(){return JSON.stringify(this)}),e.prototype.toString.apply(this,r)}toJSON(){return{near:this.near,far:this.far,left:this.left,right:this.right,top:this.top,bottom:this.bottom}}};var H=Symbol("constructor"),B=class e{#t=p.zero;#e=0;static[H]=function(...r){return e[H]=c().add([],function(){return e[H].call(this,0,0,0,0)}).add([Number,Number,Number,Number],function(t,n,i,s){this.#t.x=t,this.#t.y=n,this.#t.z=i,this.#e=s}).add([p,Number],function(t,n){return e[H].call(this,t.x,t.y,t.z,n)}).add([p,p,p],function(t,n,i){let s=p.subtract(n,t),o=p.subtract(i,t),u=p.cross(s,o),a=p.normalize(u);return e[H].call(this,a.x,a.y,a.z,-p.dot(a,t))}).add([V],function(t){return e[H].call(this,t.x,t.y,t.z,t.w)}),e[H].apply(this,r)};constructor(...r){return Object.defineProperties(this,{normal:{get:()=>this.#t,set:c([p],t=>this.#t=t)},d:{get:()=>this.#e,set:c([Number],t=>this.#e=t)}}),e[H].apply(this,r)}*[Symbol.iterator](){yield this.normal,yield this.d}static normalize(...r){return e.normalize=c([e],function(t){let n=new e;n.normal=p.normalize(t.normal);let{x:i,y:s,z:o}=n.normal,{x:u,y:a,z:h}=t.normal,m=Math.sqrt(i*i+s*s+o*o)/Math.sqrt(u*u+a*a+h*h);return n.d=t.d*m,n}),e.normalize.apply(this,r)}static transform(...r){return e.transform=c().add([e,M],function(t,n){let i=M.transpose(M.invert(n)),s=new V(t.normal,t.d),o=V.transform(s,i);return new e(o)}).add([e,E],function(t,n){let i=new e;return i.normal=p.transform(t.normal,n),i.d=t.d,i}),e.transform.apply(this,r)}"=="(...r){return this.equals(...r)}"!="(...r){return!this.equals(...r)}dot(...r){return e.prototype.dot=c([V],function(t){let{x:n,y:i,z:s}=this.normal,{x:o,y:u,z:a,w:h}=t;return n*o+i*u+s*a+this.d*h}),e.prototype.dot.apply(this,r)}dotCoordinate(...r){return e.prototype.dotCoordinate=c([p],function(t){let{x:n,y:i,z:s}=this.normal,{x:o,y:u,z:a}=t;return n*o+i*u+s*a+this.d}),e.prototype.dotCoordinate.apply(this,r)}dotNormal(...r){return e.prototype.dotNormal=c([p],function(t){let{x:n,y:i,z:s}=this.normal,{x:o,y:u,z:a}=t;return n*o+i*u+s*a}),e.prototype.dotNormal.apply(this,r)}equals(...r){return e.prototype.equals=c([e],function(t){return this.normal.equals(t.normal)&&this.d===t.d}).any(()=>!1),e.prototype.equals.apply(this,r)}intersects(...r){return e.prototype.intersects=c().add([P],function(t){return t.intersects(this)}).add([j],function(t){return t.intersects(this)}).add([Y],function(t){return t.intersects(this)}).add([p],function(t){let n=this.dotCoordinate(t);return n>0?C.front:n<0?C.back:C.intersecting}),e.prototype.intersects.apply(this,r)}normalize(...r){return e.prototype.normalize=c([],function(){let t=1/this.normal.length();this.normal=p.multiply(this.normal,t),this.d*=t}),e.prototype.normalize.apply(this,r)}toString(...r){return e.prototype.toString=c([],function(){return JSON.stringify(this)}),e.prototype.toString.apply(this,r)}toJSON(){return{normal:this.normal,d:this.d}}};var lt=Symbol("constructor"),M=class e{static get identity(){return new e(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)}#t=0;#e=0;#n=0;#r=0;#i=0;#s=0;#o=0;#c=0;#u=0;#a=0;#h=0;#m=0;#p=0;#y=0;#l=0;#f=0;static[lt]=function(...r){return e[lt]=c().add([],function(){return e[lt].call(this,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}).add([Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number],function(t,n,i,s,o,u,a,h,m,y,l,f,d,x,g,z){[this.m11,this.m12,this.m13,this.m14,this.m21,this.m22,this.m23,this.m24,this.m31,this.m32,this.m33,this.m34,this.m41,this.m42,this.m43,this.m44]=[t,n,i,s,o,u,a,h,m,y,l,f,d,x,g,z]}),e[lt].apply(this,r)};constructor(...r){return Object.defineProperties(this,{m11:{get:()=>this.#t,set:c([Number],t=>this.#t=t)},m12:{get:()=>this.#e,set:c([Number],t=>this.#e=t)},m13:{get:()=>this.#n,set:c([Number],t=>this.#n=t)},m14:{get:()=>this.#r,set:c([Number],t=>this.#r=t)},m21:{get:()=>this.#i,set:c([Number],t=>this.#i=t)},m22:{get:()=>this.#s,set:c([Number],t=>this.#s=t)},m23:{get:()=>this.#o,set:c([Number],t=>this.#o=t)},m24:{get:()=>this.#c,set:c([Number],t=>this.#c=t)},m31:{get:()=>this.#u,set:c([Number],t=>this.#u=t)},m32:{get:()=>this.#a,set:c([Number],t=>this.#a=t)},m33:{get:()=>this.#h,set:c([Number],t=>this.#h=t)},m34:{get:()=>this.#m,set:c([Number],t=>this.#m=t)},m41:{get:()=>this.#p,set:c([Number],t=>this.#p=t)},m42:{get:()=>this.#y,set:c([Number],t=>this.#y=t)},m43:{get:()=>this.#l,set:c([Number],t=>this.#l=t)},m44:{get:()=>this.#f,set:c([Number],t=>this.#f=t)},backward:{get:()=>new p(this.m31,this.m32,this.m33),set:c([p],function(t){this.m31=t.x,this.m32=t.y,this.m33=t.z})},down:{get:()=>new p(-this.m21,-this.m22,-this.m23),set:c([p],function(t){this.m21=-t.x,this.m22=-t.y,this.m23=-t.z})},forward:{get:()=>new p(-this.m31,-this.m32,-this.m33),set:c([p],function(t){this.m31=-t.x,this.m32=-t.y,this.m33=-t.z})},left:{get:()=>new p(-this.m11,-this.m12,-this.m13),set:c([p],function(t){this.m11=-t.x,this.m12=-t.y,this.m13=-t.z})},right:{get:()=>new p(this.m11,this.m12,this.m13),set:c([p],function(t){this.m11=t.x,this.m12=t.y,this.m13=t.z})},translation:{get:()=>new p(this.m41,this.m42,this.m43),set:c([p],function(t){this.m41=t.x,this.m42=t.y,this.m43=t.z})},up:{get:()=>new p(this.m21,this.m22,this.m23),set:c([p],function(t){this.m21=t.x,this.m22=t.y,this.m23=t.z})}}),e[lt].apply(this,r)}*[Symbol.iterator](){let r=[this.m11,this.m12,this.m13,this.m14,this.m21,this.m22,this.m23,this.m24,this.m31,this.m32,this.m33,this.m34,this.m41,this.m42,this.m43,this.m44];for(let t of r)yield t}static add(...r){return e.add=c([e,e],function(t,n){let i=[...t],s=[...n],o=i.map((u,a)=>u+s[a]);return new e(...o)}),e.add.apply(this,r)}static createBillboard(...r){return e.createBillboard=c([p,p,p,[p,null]],function(t,n,i,s){let{x:o,y:u,z:a}=t,h=new p(o-n.x,u-n.y,a-n.z),m=new p,y=new p;return h.lengthSquared()<1e-4?s===null?h=p.forward:(h.x=-s.x,h.y=-s.y,h.z=-s.z):h.normalize(),y=p.cross(i,h),y.normalize(),m=p.cross(h,y),new e(y.x,y.y,y.z,0,m.x,m.y,m.z,0,h.x,h.y,h.z,0,o,u,a,1)}),e.createBillboard.apply(this,r)}static createConstrainedBillboard(...r){return e.createConstrainedBillboard=c([p,p,p,[p,null],[p,null]],function(t,n,i,s,o){let{x:u,y:a,z:h}=t,m,y=new p,l=new p(u-n.x,a-n.y,h-n.z),f=new p,d=l.lengthSquared();d<1e-4?s?(l.x=-s.x,l.y=-s.y,l.z=-s.z):l=p.forward:l=p.multiply(l,1/Math.sqrt(d));let x=i;if(m=p.dot(i,l),Math.abs(m)>.9982547){let g=p.forward;o?(y=o,m=p.dot(i,y),Math.abs(m)>.9982547&&(m=i.x*g.x+i.y*g.y+i.z*g.z,y=Math.abs(m)>.9982547?p.right:g)):(m=i.x*g.x+i.y*g.y+i.z*g.z,y=Math.abs(m)>.9982547?p.right:g),f=p.cross(i,y),f.normalize(),y=p.cross(f,i),y.normalize()}else f=p.cross(i,l),f.normalize(),y=p.cross(f,x),y.normalize();return new e(f.x,f.y,f.z,0,x.x,x.y,x.z,0,y.x,y.y,y.z,0,u,a,h,1)}),e.createConstrainedBillboard.apply(this,r)}static createFromAxisAngle(...r){return e.createFromAxisAngle=c([p,Number],function(t,n){let{x:i,y:s,z:o}=t,u=Math.sin(n),a=Math.cos(n),h=i*i,m=s*s,y=o*o,l=i*s,f=i*o,d=s*o;return new e(h+a*(1-h),l-a*l+u*o,f-a*f-u*s,0,l-a*l-u*o,m+a*(1-m),d-a*d+u*i,0,f-a*f+u*s,d-a*d-u*i,y+a*(1-y),0,0,0,0,1)}),e.createFromAxisAngle.apply(this,r)}static createFromQuaternion(...r){return e.createFromQuaternion=c([E],function(t){let{x:n,y:i,z:s,w:o}=t,[u,a,h,m,y,l,f,d,x]=[n*n,i*i,s*s,n*i,n*s,i*s,o*n,o*i,o*s];return new e(1-2*(a+h),2*(m+x),2*(y-d),0,2*(m-x),1-2*(h+u),2*(l+f),0,2*(y+d),2*(l-f),1-2*(a+u),0,0,0,0,1)}),e.createFromQuaternion.apply(this,r)}static createFromYawPitchRoll(...r){return e.createFromYawPitchRoll=c([Number,Number,Number],function(t,n,i){let s=E.createFromYawPitchRoll(t,n,i);return this.createFromQuaternion(s)}),e.createFromYawPitchRoll.apply(this,r)}static createLookAt(...r){return e.createLookAt=c([p,p,p],function(t,n,i){let s=p.normalize(p.subtract(t,n)),o=p.normalize(p.cross(i,s)),u=p.cross(s,o);return new e(o.x,u.x,s.x,0,o.y,u.y,s.y,0,o.z,u.z,s.z,0,-p.dot(o,t),-p.dot(u,t),-p.dot(s,t),1)}),e.createLookAt.apply(this,r)}static createOrthographic(...r){return e.createOrthographic=c([Number,Number,Number,Number],function(t,n,i,s){let o=new e,u=2/t,a=2/n,h=1/(i-s),m=i/(i-s);return o.m11=u,o.m12=o.m13=o.m14=0,o.m22=a,o.m21=o.m23=o.m24=0,o.m33=h,o.m31=o.m32=o.m34=0,o.m41=o.m42=0,o.m43=m,o.m44=1,o}),e.createOrthographic.apply(this,r)}static createOrthographicOffCenter(...r){return e.createOrthographicOffCenter=c([Number,Number,Number,Number,Number,Number],function(t,n,i,s,o,u){return new e(2/(n-t),0,0,0,0,2/(s-i),0,0,0,0,1/(o-u),0,(t+n)/(t-n),(s+i)/(i-s),o/(o-u),1)}),e.createOrthographicOffCenter.apply(this,r)}static createPerspective(...r){return e.createPerspective=c([Number,Number,Number,Number],function(t,n,i,s){if(i<=0)throw new RangeError("nearPlaneDistance <= 0");if(s<=0)throw new RangeError("farPlaneDistance <= 0");if(i>=s)throw new RangeError("nearPlaneDistance >= farPlaneDistance");let o=new e;return o.m11=2*i/t,o.m22=2*i/n,o.m33=s/(i-s),o.m34=-1,o.m43=i*s/(i-s),o}),e.createPerspective.apply(this,r)}static createPerspectiveFieldOfView(...r){return e.createPerspectiveFieldOfView=c([Number,Number,Number,Number],function(t,n,i,s){if(t<=0||t>=w.pi)throw new RangeError("fieldOfView <= 0 or >= PI");if(i<=0)throw new RangeError("nearPlaneDistance <= 0");if(s<=0)throw new RangeError("farPlaneDistance <= 0");if(i>=s)throw new RangeError("nearPlaneDistance >= farPlaneDistance");let o=new e,a=1/Math.tan(t*.5),h=a/n,m=i-s;return o.m11=h,o.m22=a,o.m33=s/m,o.m34=-1,o.m43=i*s/m,o}),e.createPerspectiveFieldOfView.apply(this,r)}static createPerspectiveOffCenter(...r){return e.createPerspectiveOffCenter=c([Number,Number,Number,Number,Number,Number],function(t,n,i,s,o,u){if(o<=0)throw new RangeError("nearPlaneDistance <= 0");if(u<=0)throw new RangeError("farPlaneDistance <= 0");if(o>=u)throw new RangeError("nearPlaneDistance >= farPlaneDistance");let a=new e,h=2*o,m=n-t,y=s-i,l=o-u;return a.m11=h/m,a.m22=h/y,a.m31=(t+n)/m,a.m32=(s+i)/y,a.m33=u/l,a.m34=-1,a.m43=o*u/l,a}),e.createPerspectiveOffCenter.apply(this,r)}static createReflection(...r){return e.createReflection=c([B],function(t){let n=B.normalize(t),{x:i,y:s,z:o}=n.normal,u=-2*i,a=-2*s,h=-2*o;return new e(u*i+1,a*i,h*i,0,u*s,a*s+1,h*s,0,u*o,a*o,h*o+1,0,u*n.d,a*n.d,h*n.d,1)}),e.createReflection.apply(this,r)}static createRotationX(...r){return e.createRotationX=c([Number],function(t){let n=this.identity,i=Math.cos(t),s=Math.sin(t);return n.m22=i,n.m23=s,n.m32=-s,n.m33=i,n}),e.createRotationX.apply(this,r)}static createRotationY(...r){return e.createRotationY=c().add([Number],function(t){let n=this.identity,i=Math.cos(t),s=Math.sin(t);return n.m11=i,n.m13=-s,n.m31=s,n.m33=i,n}),e.createRotationY.apply(this,r)}static createRotationZ(...r){return e.createRotationZ=c().add([Number],function(t){let n=this.identity,i=Math.cos(t),s=Math.sin(t);return n.m11=i,n.m12=s,n.m21=-s,n.m22=i,n}),e.createRotationZ.apply(this,r)}static createScale(...r){return e.createScale=c().add([Number],function(t){return this.createScale(t,t,t)}).add([Number,Number,Number],function(t,n,i){let s=new e;return s.m11=t,s.m22=n,s.m33=i,s.m44=1,s}).add([p],function(t){return this.createScale(t.x,t.y,t.z)}),e.createScale.apply(this,r)}static createShadow(...r){return e.createShadow=c([p,B],function(t,n){let{x:i,y:s,z:o}=t,u=p.dot(n.normal,t),a=-n.normal.x,h=-n.normal.y,m=-n.normal.z,y=-n.d,l=new e;return l.m11=a*i+u,l.m12=a*s,l.m13=a*o,l.m14=0,l.m21=h*i,l.m22=h*s+u,l.m23=h*o,l.m24=0,l.m31=m*i,l.m32=m*s,l.m33=m*o+u,l.m34=0,l.m41=y*i,l.m42=y*s,l.m43=y*o,l.m44=u,l}),e.createShadow.apply(this,r)}static createTranslation(...r){return e.createTranslation=c().add([Number,Number,Number],function(t,n,i){let s=new e;return s.m11=1,s.m22=1,s.m33=1,s.m41=t,s.m42=n,s.m43=i,s.m44=1,s}).add([p],function(t){return this.createTranslation(t.x,t.y,t.z)}),e.createTranslation.apply(this,r)}static createWorld(...r){return e.createWorld=c().add([p,p,p],function(t,n,i){let s=p.normalize(n),o=p.cross(n,i),u=p.cross(o,n);o.normalize(),u.normalize();let a=new e;return a.right=o,a.up=u,a.forward=s,a.translation=t,a.m44=1,a}),e.createWorld.apply(this,r)}static divide(...r){return e.divide=c().add([e,Number],function(t,n){let i=1/n,s=[...t].map(o=>o*i);return new e(...s)}).add([e,e],function(t,n){let i=[...n],s=[...t].map((o,u)=>o/i[u]);return new e(...s)}),e.divide.apply(this,r)}static invert(...r){return e.invert=c([e],function(t){let{m11:n,m12:i,m13:s,m14:o,m21:u,m22:a,m23:h,m24:m,m31:y,m32:l,m33:f,m34:d,m41:x,m42:g,m43:z,m44:b}=t,S=new e,q=f*b-d*z,R=l*b-d*g,T=l*z-f*g,F=y*b-d*x,J=y*z-f*x,Z=y*g-l*x,G=a*q-h*R+m*T,ot=-(u*q-h*F+m*J),ct=u*R-a*F+m*Z,ut=-(u*T-a*J+h*Z),A=1/(n*G+i*ot+s*ct+o*ut);S.m11=G*A,S.m21=ot*A,S.m31=ct*A,S.m41=ut*A,S.m12=-(i*q-s*R+o*T)*A,S.m22=(n*q-s*F+o*J)*A,S.m32=-(n*R-i*F+o*Z)*A,S.m42=(n*T-i*J+s*Z)*A;let at=h*b-m*z,ht=a*b-m*g,mt=a*z-h*g,pt=u*b-m*x,yt=u*z-h*x,W=u*g-a*x;S.m13=(i*at-s*ht+o*mt)*A,S.m23=-(n*at-s*pt+o*yt)*A,S.m33=(n*ht-i*pt+o*W)*A,S.m43=-(n*mt-i*yt+s*W)*A;let K=h*d-m*f,D=a*d-m*l,v=a*f-h*l,_=u*d-m*y,tt=u*f-h*y,et=u*l-a*y;return S.m14=-(i*K-s*D+o*v)*A,S.m24=(n*K-s*_+o*tt)*A,S.m34=-(n*D-i*_+o*et)*A,S.m44=(n*v-i*tt+s*et)*A,S}),e.invert.apply(this,r)}static lerp(...r){return e.lerp=c([e,e,Number],function(t,n,i){let s=(h,m,y)=>h+(m-h)*y,o=[...t],u=[...n],a=[];for(let h=0;h<16;h++)a.push(s(o[h],u[h],i));return new e(...a)}),e.lerp.apply(this,r)}static multiply(...r){return e.multiply=c().add([e,Number],function(t,n){return new e(...[...t].map(i=>i*n))}).add([e,e],function(t,n){let i=new e;return this.multiply(t,n,i),i}).add([e,e,e],function(t,n,i){let s=(o,u)=>t[`m${o}1`]*n[`m1${u}`]+t[`m${o}2`]*n[`m2${u}`]+t[`m${o}3`]*n[`m3${u}`]+t[`m${o}4`]*n[`m4${u}`];for(let o=1;o<=4;o++)for(let u=1;u<=4;u++)i[`m${o}${u}`]=s(o,u);return i}),e.multiply.apply(this,r)}static negate(...r){return e.negate=c([e],function(t){let n=[...t];return new e(...n.map(i=>-i))}),e.negate.apply(this,r)}static subtract(...r){return e.subtract=c([e,e],function(t,n){let i=[...t],s=[...n];return new e(...i.map((o,u)=>o-s[u]))}),e.subtract.apply(this,r)}static transform(...r){return e.transform=c([e,E],function(t,n){let{x:i,y:s,z:o,w:u}=n,{m11:a,m12:h,m13:m,m21:y,m22:l,m23:f,m31:d,m32:x,m33:g,m41:z,m42:b,m43:S,m14:q,m24:R,m34:T,m44:F}=t,J=i+i,Z=s+s,G=o+o,ot=u*J,ct=u*Z,ut=u*G,A=i*J,at=i*Z,ht=i*G,mt=s*Z,pt=s*G,yt=o*G,W=1-mt-yt,K=at-ut,D=ht+ct,v=at+ut,_=1-A-yt,tt=pt-ot,et=ht-ct,ft=pt+ot,dt=1-A-mt;return new e(a*W+h*K+m*D,a*v+h*_+m*tt,a*et+h*ft+m*dt,q,y*W+l*K+f*D,y*v+l*_+f*tt,y*et+l*ft+f*dt,R,d*W+x*K+g*D,d*v+x*_+g*tt,d*et+x*ft+g*dt,T,z*W+b*K+S*D,z*v+b*_+S*tt,z*et+b*ft+S*dt,F)}),e.transform.apply(this,r)}static transpose(...r){return e.transpose=c([e],function(t){return new e(t.m11,t.m21,t.m31,t.m41,t.m12,t.m22,t.m32,t.m42,t.m13,t.m23,t.m33,t.m43,t.m14,t.m24,t.m34,t.m44)}),e.transpose.apply(this,r)}static"-"(...r){return e.negate(...r)}"+"(...r){return e.add(this,...r)}"-"(...r){return e.subtract(this,...r)}"*"(...r){return e.multiply(this,...r)}"/"(...r){return e.divide(this,...r)}"=="(...r){return this.equals(...r)}"!="(...r){return!this.equals(...r)}decompose(...r){return e.prototype.decompose=c([p,E,p],function(t,n,i){let{m11:s,m12:o,m13:u,m21:a,m22:h,m23:m,m31:y,m32:l,m33:f,m41:d,m42:x,m43:g,m14:z,m24:b,m34:S}=this;i.x=d,i.y=x,i.z=g;let q=Math.sign(s*o*u*z)<0?-1:1,R=Math.sign(a*h*m*b)<0?-1:1,T=Math.sign(y*l*f*S)<0?-1:1;if(t.x=q*Math.sqrt(s*s+o*o+u*u),t.y=R*Math.sqrt(a*a+h*h+m*m),t.z=T*Math.sqrt(y*y+l*l+f*f),t.x===0||t.y===0||t.z===0){let J=E.identity;return n.x=J.x,n.y=J.y,n.z=J.z,n.w=J.w,!1}let F=new e(s/t.x,o/t.x,u/t.x,0,a/t.y,h/t.y,m/t.y,0,y/t.z,l/t.z,f/t.z,0,0,0,0,1);return F=E.createFromRotationMatrix(F),n.x=F.x,n.y=F.y,n.z=F.z,n.w=F.w,!0}),e.prototype.decompose.apply(this,r)}determinant(...r){return e.prototype.determinant=c([],function(){let{m11:t,m12:n,m13:i,m14:s,m21:o,m22:u,m23:a,m24:h,m31:m,m32:y,m33:l,m34:f,m41:d,m42:x,m43:g,m44:z}=this,b=l*z-f*g,S=y*z-f*x,q=y*g-l*x,R=m*z-f*d,T=m*g-l*d,F=m*x-y*d;return t*(u*b-a*S+h*q)-n*(o*b-a*R+h*T)+i*(o*S-u*R+h*F)-s*(o*q-u*T+a*F)}),e.prototype.determinant.apply(this,r)}equals(...r){return e.prototype.equals=c([e],function(t){let n=[...this],i=[...t];for(let s=0;s<16;s++)if(n[s]!==i[s])return!1;return!0}).any(()=>!1),e.prototype.equals.apply(this,r)}toString(...r){return e.prototype.toString=c([],function(){return JSON.stringify(this)}),e.prototype.toString.apply(this,r)}toJSON(){return{m11:this.m11,m12:this.m12,m13:this.m13,m14:this.m14,m21:this.m21,m22:this.m22,m23:this.m23,m24:this.m24,m31:this.m31,m32:this.m32,m33:this.m33,m34:this.m34,m41:this.m41,m42:this.m42,m43:this.m43,m44:this.m44}}};var St=Symbol("constructor"),L=class e{static get one(){return new e(1,1)}static get unitX(){return new e(1,0)}static get unitY(){return new e(0,1)}static get zero(){return new e(0,0)}#t=0;#e=0;static[St]=function(...r){return e[St]=c().add([],function(){[this.x,this.y]=[0,0]}).add([Number],function(t){[this.x,this.y]=[t,t]}).add([Number,Number],function(t,n){[this.x,this.y]=[t,n]}),e[St].apply(this,r)};constructor(...r){return Object.defineProperties(this,{x:{get:()=>this.#t,set:c([Number],t=>this.#t=t)},y:{get:()=>this.#e,set:c([Number],t=>this.#e=t)}}),e[St].apply(this,r)}*[Symbol.iterator](){yield this.x,yield this.y}static add(...r){return e.add=c([e,e],function(t,n){return new e(t.x+n.x,t.y+n.y)}),e.add.apply(this,r)}static barycentric(...r){return e.barycentric=c([e,e,e,Number,Number],function(t,n,i,s,o){return new e(w.barycentric(t.x,n.x,i.x,s,o),w.barycentric(t.y,n.y,i.y,s,o))}),e.barycentric.apply(this,r)}static catmullRom(...r){return e.catmullRom=c([e,e,e,e,Number],function(t,n,i,s,o){return new e(w.catmullRom(t.x,n.x,i.x,s.x,o),w.catmullRom(t.y,n.y,i.y,s.y,o))}),e.catmullRom.apply(this,r)}static clamp(...r){return e.clamp=c([e,e,e],function(t,n,i){return new e(w.clamp(t.x,n.x,i.x),w.clamp(t.y,n.y,i.y))}),e.clamp.apply(this,r)}static distance(...r){return e.distance=c([e,e],function(t,n){return Math.sqrt(this.distanceSquared(t,n))}),e.distance.apply(this,r)}static distanceSquared(...r){return e.distanceSquared=c([e,e],function(t,n){let i=t.x-n.x,s=t.y-n.y;return i*i+s*s}),e.distanceSquared.apply(this,r)}static divide(...r){return e.divide=c().add([e,Number],function(t,n){let i=1/n;return new e(t.x*i,t.y*i)}).add([e,e],function(t,n){return new e(t.x/n.x,t.y/n.y)}),e.divide.apply(this,r)}static dot(...r){return e.dot=c([e,e],function(t,n){return t.x*n.x+t.y*n.y}),e.dot.apply(this,r)}static hermite(...r){return e.hermite=c([e,e,e,e,Number],function(t,n,i,s,o){return new e(w.hermite(t.x,n.x,i.x,s.x,o),w.hermite(t.y,n.y,i.y,s.y,o))}),e.hermite.apply(this,r)}static lerp(...r){return e.lerp=c([e,e,Number],function(t,n,i){return new e(w.lerp(t.x,n.x,i),w.lerp(t.y,n.y,i))}),e.lerp.apply(this,r)}static max(...r){return e.max=c([e,e],function(t,n){return new e(t.x>n.x?t.x:n.x,t.y>n.y?t.y:n.y)}),e.max.apply(this,r)}static min(...r){return e.min=c([e,e],function(t,n){return new e(t.x<n.x?t.x:n.x,t.y<n.y?t.y:n.y)}),e.min.apply(this,r)}static multiply(...r){return e.multiply=c().add([e,Number],function(t,n){return new e(t.x*n,t.y*n)}).add([e,e],function(t,n){return new e(t.x*n.x,t.y*n.y)}),e.multiply.apply(this,r)}static negate(...r){return e.negate=c([e],function(t){return new e(-t.x,-t.y)}),e.negate.apply(this,r)}static normalize(...r){return e.normalize=c([e],function(t){let n=1/Math.sqrt(t.x*t.x+t.y*t.y);return new e(t.x*n,t.y*n)}),e.normalize.apply(this,r)}static reflect(...r){return e.reflect=c([e,e],function(t,n){let i=2*(t.x*n.x+t.y*n.y);return new e(t.x-n.x*i,t.y-n.y*i)}),e.reflect.apply(this,r)}static smoothStep(...r){return e.smoothStep=c([e,e,Number],function(t,n,i){return new e(w.smoothStep(t.x,n.x,i),w.smoothStep(t.y,n.y,i))}),e.smoothStep.apply(this,r)}static subtract(...r){return e.subtract=c([e,e],function(t,n){return new e(t.x-n.x,t.y-n.y)}),e.subtract.apply(this,r)}static transform(...r){return e.transform=c().add([e,M],function(t,n){return new e(t.x*n.m11+t.y*n.m21+n.m41,t.x*n.m12+t.y*n.m22+n.m42)}).add([e,E],function(t,n){let{x:i,y:s,z:o,w:u}=n,{x:a,y:h}=t,m=new p(i+i,s+s,o+o),y=new p(i,i,u),l=new p(1,s,o),f=p.multiply(m,y),d=p.multiply(m,l);return new e(a*(1-d.y-d.z)+h*(f.y-f.z),a*(f.y+f.z)+h*(1-f.x-d.z))}).add([O.T(e),Number,M,O.T(e),Number,Number],function(t,n,i,s,o,u){if(t.length<n+u)throw new RangeError("The length of sourceArray is smaller than sourceIndex + length.");if(s.length<o+u)throw new RangeError("The length of destinationArray is smaller than destinationIndex + length.");for(let a=0;a<u;a++){let h=t[n+a],m=s[o+a];m.x=h.x*i.m11+h.y*i.m21+i.m41,m.y=h.x*i.m12+h.y*i.m22+i.m42,s[o+a]=m}}).add([O.T(e),Number,E,O.T(e),Number,Number],function(t,n,i,s,o,u){if(t.length<n+u)throw new RangeError("The length of sourceArray is less than sourceIndex + length.");if(s.length<o+u)throw new RangeError("The length of destinationArray is less than destinationIndex + length.");for(let a=0;a<u;a++){let h=t[n+a],m=s[o+a],y=this.transform(h,i);m.x=y.x,m.y=y.y,s[o+a]=m}}).add([O.T(e),M,O.T(e)],function(t,n,i){this.transform(t,0,n,i,0,t.length)}).add([O.T(e),E,O.T(e)],function(t,n,i){this.transform(t,0,n,i,0,t.length)}),e.transform.apply(this,r)}static transformNormal(...r){return e.transformNormal=c().add([e,M],function(t,n){return new e(t.x*n.m11+t.y*n.m21,t.x*n.m12+t.y*n.m22)}).add([O.T(e),Number,M,O.T(e),Number,Number],function(t,n,i,s,o,u){if(t.length<n+u)throw new RangeError("The length of sourceArray is smaller than sourceIndex + length.");if(s.length<o+u)throw new RangeError("The length of destinationArray is smaller than destinationIndex + length.");for(let a=0;a<u;a++)s[o+a]=this.transformNormal(t[n+a],i)}).add([O.T(e),M,O.T(e)],function(t,n,i){if(i.length<t.length)throw new RangeError("The length of destinationArray is smaller than the length of sourceArray.");for(let s=0;s<t.length;s++)i[s]=this.transformNormal(t[s],n)}),e.transformNormal.apply(this,r)}static"-"(...r){return e.negate(...r)}"+"(...r){return e.add(this,...r)}"-"(...r){return e.subtract(this,...r)}"*"(...r){return e.multiply(this,...r)}"/"(...r){return e.divide(this,...r)}"=="(...r){return this.equals(...r)}"!="(...r){return!this.equals(...r)}length(...r){return e.prototype.length=c([],function(){return Math.sqrt(this.lengthSquared())}),e.prototype.length.apply(this,r)}lengthSquared(...r){return e.prototype.lengthSquared=c([],function(){return this.x*this.x+this.y*this.y}),e.prototype.lengthSquared.apply(this,r)}normalize(...r){return e.prototype.normalize=c([],function(){let t=1/this.length();this.x*=t,this.y*=t}),e.prototype.normalize.apply(this,r)}equals(...r){return e.prototype.equals=c([e],function(t){return this.x===t.x&&this.y===t.y}).any(()=>!1),e.prototype.equals.apply(this,r)}toString(...r){return e.prototype.toString=c([],function(){return JSON.stringify(this)}),e.prototype.toString.apply(this,r)}toJSON(){return{x:this.x,y:this.y}}};var Ot=Symbol("constructor"),p=class e{static get backward(){return new e(0,0,1)}static get down(){return new e(0,-1,0)}static get forward(){return new e(0,0,-1)}static get left(){return new e(-1,0,0)}static get one(){return new e(1,1,1)}static get right(){return new e(1,0,0)}static get unitX(){return new e(1,0,0)}static get unitY(){return new e(0,1,0)}static get unitZ(){return new e(0,0,1)}static get up(){return new e(0,1,0)}static get zero(){return new e(0,0,0)}#t=0;#e=0;#n=0;static[Ot]=function(...r){return e[Ot]=c().add([],function(){[this.x,this.y,this.z]=[0,0,0]}).add([Number],function(t){[this.x,this.y,this.z]=[t,t,t]}).add([Number,Number,Number],function(t,n,i){[this.x,this.y,this.z]=[t,n,i]}).add([L,Number],function(t,n){[this.x,this.y,this.z]=[t.x,t.y,n]}),e[Ot].apply(this,r)};constructor(...r){return Object.defineProperties(this,{x:{get:()=>this.#t,set:c([Number],t=>this.#t=t)},y:{get:()=>this.#e,set:c([Number],t=>this.#e=t)},z:{get:()=>this.#n,set:c([Number],t=>this.#n=t)}}),e[Ot].apply(this,r)}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}static add(...r){return e.add=c([e,e],function(t,n){return new e(t.x+n.x,t.y+n.y,t.z+n.z)}),e.add.apply(this,r)}static barycentric(...r){return e.barycentric=c([e,e,e,Number,Number],function(t,n,i,s,o){return new e(w.barycentric(t.x,n.x,i.x,s,o),w.barycentric(t.y,n.y,i.y,s,o),w.barycentric(t.z,n.z,i.z,s,o))}),e.barycentric.apply(this,r)}static catmullRom(...r){return e.catmullRom=c([e,e,e,e,Number],function(t,n,i,s,o){return new e(w.catmullRom(t.x,n.x,i.x,s.x,o),w.catmullRom(t.y,n.y,i.y,s.y,o),w.catmullRom(t.z,n.z,i.z,s.z,o))}),e.catmullRom.apply(this,r)}static clamp(...r){return e.clamp=c([e,e,e],function(t,n,i){return new e(w.clamp(t.x,n.x,i.x),w.clamp(t.y,n.y,i.y),w.clamp(t.z,n.z,i.z))}),e.clamp.apply(this,r)}static cross(...r){return e.cross=c([e,e],function(t,n){let{x:i,y:s,z:o}=t,{x:u,y:a,z:h}=n,m=s*h-a*o,y=-(i*h-u*o),l=i*a-u*s;return new e(m,y,l)}),e.cross.apply(this,r)}static distance(...r){return e.distance=c([e,e],function(t,n){return Math.sqrt(this.distanceSquared(t,n))}),e.distance.apply(this,r)}static distanceSquared(...r){return e.distanceSquared=c([e,e],function(t,n){let{x:i,y:s,z:o}=t,{x:u,y:a,z:h}=n;return(i-u)**2+(s-a)**2+(o-h)**2}),e.distanceSquared.apply(this,r)}static divide(...r){return e.divide=c().add([e,Number],function(t,n){let i=1/n;return new e(t.x*i,t.y*i,t.z*i)}).add([e,e],function(t,n){return new e(t.x/n.x,t.y/n.y,t.z/n.z)}),e.divide.apply(this,r)}static dot(...r){return e.dot=c([e,e],function(t,n){let{x:i,y:s,z:o}=t,{x:u,y:a,z:h}=n;return i*u+s*a+o*h}),e.dot.apply(this,r)}static hermite(...r){return e.hermite=c([e,e,e,e,Number],function(t,n,i,s,o){return new e(w.hermite(t.x,n.x,i.x,s.x,o),w.hermite(t.y,n.y,i.y,s.y,o),w.hermite(t.z,n.z,i.z,s.z,o))}),e.hermite.apply(this,r)}static lerp(...r){return e.lerp=c([e,e,Number],function(t,n,i){return new e(w.lerp(t.x,n.x,i),w.lerp(t.y,n.y,i),w.lerp(t.z,n.z,i))}),e.lerp.apply(this,r)}static max(...r){return e.max=c([e,e],function(t,n){return new e(w.max(t.x,n.x),w.max(t.y,n.y),w.max(t.z,n.z))}),e.max.apply(this,r)}static min(...r){return e.min=c([e,e],function(t,n){return new e(w.min(t.x,n.x),w.min(t.y,n.y),w.min(t.z,n.z))}),e.min.apply(this,r)}static multiply(...r){return e.multiply=c().add([e,Number],function(t,n){return new e(t.x*n,t.y*n,t.z*n)}).add([e,e],function(t,n){return new e(t.x*n.x,t.y*n.y,t.z*n.z)}),e.multiply.apply(this,r)}static negate(...r){return e.negate=c([e],function(t){return new e(-t.x,-t.y,-t.z)}),e.negate.apply(this,r)}static normalize(...r){return e.normalize=c([e],function(t){let n=1/this.distance(t,this.zero);return new e(t.x*n,t.y*n,t.z*n)}),e.normalize.apply(this,r)}static reflect(...r){return e.reflect=c([e,e],function(t,n){let s=2*(t.x*n.x+t.y*n.y+t.z*n.z);return new e(t.x-n.x*s,t.y-n.y*s,t.z-n.z*s)}),e.reflect.apply(this,r)}static smoothStep(...r){return e.smoothStep=c([e,e,Number],function(t,n,i){return new e(w.smoothStep(t.x,n.x,i),w.smoothStep(t.y,n.y,i),w.smoothStep(t.z,n.z,i))}),e.smoothStep.apply(this,r)}static subtract(...r){return e.subtract=c([e,e],function(t,n){return new e(t.x-n.x,t.y-n.y,t.z-n.z)}),e.subtract.apply(this,r)}static transform(...r){return e.transform=c().add([e,M],function(t,n){let{x:i,y:s,z:o}=t,{m11:u,m12:a,m13:h,m21:m,m22:y,m23:l,m31:f,m32:d,m33:x,m41:g,m42:z,m43:b}=n,S=i*u+s*m+o*f+g,q=i*a+s*y+o*d+z,R=i*h+s*l+o*x+b;return new e(S,q,R)}).add([e,E],function(t,n){let{x:i,y:s,z:o,w:u}=n,{x:a,y:h,z:m}=t,y=2*(s*m-o*h),l=2*(o*a-i*m),f=2*(i*h-s*a);return new e(a+y*u+(s*f-o*l),h+l*u+(o*y-i*f),m+f*u+(i*l-s*y))}).add([O.T(e),Number,M,O.T(e),Number,Number],function(t,n,i,s,o,u){if(t.length<n+u)throw new RangeError("The length of sourceArray is smaller than sourceIndex + length.");if(s.length<o+u)throw new RangeError("The length of destinationArray is smaller than destinationIndex + length.");let{m11:a,m12:h,m13:m,m21:y,m22:l,m23:f,m31:d,m32:x,m33:g,m41:z,m42:b,m43:S}=i;for(let q=0;q<u;q++){let{x:R,y:T,z:F}=t[n+q];s[o+q]=new e(R*a+T*y+F*d+z,R*h+T*l+F*x+b,R*m+T*f+F*g+S)}}).add([O.T(e),Number,E,O.T(e),Number,Number],function(t,n,i,s,o,u){if(t.length<n+u)throw new RangeError("The length of sourceArray is smaller than sourceIndex + length.");if(s.length<o+u)throw new RangeError("The length of destinationArray is smaller than destinationIndex + length.");let{x:a,y:h,z:m,w:y}=i;for(let l=0;l<u;l++){let{x:f,y:d,z:x}=t[n+l],g=2*(h*x-m*d),z=2*(m*f-a*x),b=2*(a*d-h*f);s[o+l]=new e(f+g*y+(h*b-m*z),d+z*y+(m*g-a*b),x+b*y+(a*z-h*g))}}).add([O.T(e),M,O.T(e)],function(t,n,i){this.transform(t,0,n,i,0,t.length)}).add([O.T(e),E,O.T(e)],function(t,n,i){this.transform(t,0,n,i,0,t.length)}),e.transform.apply(this,r)}static transformNormal(...r){return e.transformNormal=c().add([e,M],function(t,n){let{x:i,y:s,z:o}=t,{m11:u,m12:a,m13:h,m21:m,m22:y,m23:l,m31:f,m32:d,m33:x}=n,g=i*u+s*m+o*f,z=i*a+s*y+o*d,b=i*h+s*l+o*x;return new e(g,z,b)}).add([O.T(e),Number,M,O.T(e),Number,Number],function(t,n,i,s,o,u){if(t.length<n+u)throw new RangeError("sourceArray length is smaller than sourceIndex + length.");if(s.length<o+u)throw new RangeError("destinationArray length is smaller than destinationIndex + length.");let{m11:a,m12:h,m13:m,m21:y,m22:l,m23:f,m31:d,m32:x,m33:g}=i;for(let z=0;z<u;z++){let{x:b,y:S,z:q}=t[n+z];s[o+z]=new e(b*a+S*y+q*d,b*h+S*l+q*x,b*m+S*f+q*g)}}).add([O.T(e),M,O.T(e)],function(t,n,i){if(i.length<t.length)throw new RangeError("The length of destinationArray is smaller than the length of sourceArray.");let{m11:s,m12:o,m13:u,m21:a,m22:h,m23:m,m31:y,m32:l,m33:f}=n;for(let d=0;d<t.length;d++){let{x,y:g,z}=t[d];i[d]=new e(x*s+g*a+z*y,x*o+g*h+z*l,x*u+g*m+z*f)}}),e.transformNormal.apply(this,r)}static"-"(...r){return e.negate(...r)}"+"(...r){return e.add(this,...r)}"-"(...r){return e.subtract(this,...r)}"*"(...r){return e.multiply(this,...r)}"/"(...r){return e.divide(this,...r)}"=="(...r){return this.equals(...r)}"!="(...r){return!this.equals(...r)}equals(...r){return e.prototype.equals=c([e],function(t){return this.x===t.x&&this.y===t.y&&this.z===t.z}).any(()=>!1),e.prototype.equals.apply(this,r)}length(...r){return e.prototype.length=c([],function(){return Math.sqrt(e.distanceSquared(this,e.zero))}),e.prototype.length.apply(this,r)}lengthSquared(...r){return e.prototype.lengthSquared=c([],function(){return e.distanceSquared(this,e.zero)}),e.prototype.lengthSquared.apply(this,r)}normalize(...r){return e.prototype.normalize=c([],function(){let t=1/e.distance(this,e.zero);this.x*=t,this.y*=t,this.z*=t}),e.prototype.normalize.apply(this,r)}toString(...r){return e.prototype.toString=c([],function(){return JSON.stringify(this)}),e.prototype.toString.apply(this,r)}toJSON(){return{x:this.x,y:this.y,z:this.z}}};var qt=Symbol("constructor"),P=class e{static get cornerCount(){return 8}static get#t(){return new p(Number.MAX_SAFE_INTEGER)}static get#e(){return new p(Number.MIN_SAFE_INTEGER)}#n=null;#r=null;static[qt]=function(...r){return e[qt]=c().add([],function(){[this.min,this.max]=[p.zero,p.zero]}).add([p,p],function(t,n){[this.min,this.max]=[t,n]}),e[qt].apply(this,r)};constructor(...r){return Object.defineProperties(this,{min:{get:()=>this.#r,set:c([p],t=>this.#r=t)},max:{get:()=>this.#n,set:c([p],t=>this.#n=t)}}),e[qt].apply(this,r)}*[Symbol.iterator](){yield this.min,yield this.max}static createFromPoints(...r){return e.createFromPoints=c([O.T(p)],function(t){let n=!0,i=e.#t,s=e.#e;for(let o=0;o<t.length;o++){let{x:u,y:a,z:h}=t[o];i.x=i.x<u?i.x:u,i.y=i.y<a?i.y:a,i.z=i.z<h?i.z:h,s.x=s.x>u?s.x:u,s.y=s.y>a?s.y:a,s.z=s.z>h?s.z:h,n=!1}if(n)throw new RangeError("No points in the list.");return new e(i,s)}),e.createFromPoints.apply(this,r)}static createFromSphere(...r){return e.createFromSphere=c([Y],function(t){let n=new p(t.radius);return new e(p.subtract(t.center,n),p.add(t.center,n))}),e.createFromSphere.apply(this,r)}static createMerged(...r){return e.createMerged=c([e,e],function(t,n){let[i,s]=[t.min,t.max],[o,u]=[n.min,n.max],a=new p(Math.min(i.x,o.x),Math.min(i.y,o.y),Math.min(i.z,o.z)),h=new p(Math.max(s.x,u.x),Math.max(s.y,u.y),Math.max(s.z,u.z));return new e(a,h)}),e.createMerged.apply(this,r)}"=="(...r){return this.equals(...r)}"!="(...r){return!this.equals(...r)}contains(...r){return e.prototype.contains=c().add([e],function(t){let[n,i]=[t.min,t.max],[s,o]=[this.min,this.max];return i.x<s.x||n.x>o.x||i.y<s.y||n.y>o.y||i.z<s.z||n.z>o.z?N.disjoint:n.x>=s.x&&i.x<=o.x&&n.y>=s.y&&i.y<=o.y&&n.z>=s.z&&i.z<=o.z?N.contains:N.intersects}).add([j],function(t){let n,i,s=t.getCorners();for(n=0;n<s.length&&(i=this.contains(s[n]),i!==N.disjoint);n++);if(n===s.length)return N.contains;if(n!==0)return N.intersects;for(n++;n<s.length;n++)if(i=this.contains(s[n]),i!==N.contains)return N.intersects;return N.contains}).add([Y],function(t){let n=t.radius,{x:i,y:s,z:o}=t.center,{x:u,y:a,z:h}=this.min,{x:m,y,z:l}=this.max;if(i-u>=n&&s-a>=n&&o-h>=n&&m-i>=n&&y-s>=n&&l-o>=n)return N.contains;let f=0,d=[{c:i,min:u,max:m},{c:s,min:a,max:y},{c:o,min:h,max:l}];for(let{c:x,min:g,max:z}of d){let b=x-g;if(b<0){if(b<-n)return N.disjoint;f+=b*b}else if(b=x-z,b>0){if(b>n)return N.disjoint;f+=b*b}}return f<=n*n?N.intersects:N.disjoint}).add([p],function(t){let{x:n,y:i,z:s}=t,{x:o,y:u,z:a}=this.min,{x:h,y:m,z:y}=this.max;return n<o||n>h||i<u||i>m||s<a||s>y?N.disjoint:n==o||n==h||i==u||i==m||s==a||s==y?N.intersects:N.contains}),e.prototype.contains.apply(this,r)}equals(...r){return e.prototype.equals=c([e],function(t){return this.min.equals(t.min)&&this.max.equals(t.max)}).any(()=>!1),e.prototype.equals.apply(this,r)}getCorners(...r){return e.prototype.getCorners=c().add([],function(){let{x:t,y:n,z:i}=this.min,{x:s,y:o,z:u}=this.max;return new O(p,[new p(t,o,u),new p(s,o,u),new p(s,n,u),new p(t,n,u),new p(t,o,i),new p(s,o,i),new p(s,n,i),new p(t,n,i)])}).add([O.T(p)],function(t){if(t.length<8)throw new RangeError("List must have at least 8 elements.");let{x:n,y:i,z:s}=this.min,{x:o,y:u,z:a}=this.max,h=[{x:n,y:u,z:a},{x:o,y:u,z:a},{x:o,y:i,z:a},{x:n,y:i,z:a},{x:n,y:u,z:s},{x:o,y:u,z:s},{x:o,y:i,z:s},{x:n,y:i,z:s}];for(let m=0;m<t.length;m++)t[m].x=h[m].x,t[m].y=h[m].y,t[m].z=h[m].z}),e.prototype.getCorners.apply(this,r)}intersects(...r){return e.prototype.intersects=c().add([e],function(t){let{x:n,y:i,z:s}=this.min,{x:o,y:u,z:a}=this.max,{x:h,y:m,z:y}=t.min,{x:l,y:f,z:d}=t.max;return o>=h&&n<=l?u<m||i>f?!1:a>=y&&s<=d:!1}).add([j],function(t){return t.intersects(this)}).add([Y],function(t){return this.contains(t)!==N.disjoint}).add([B],function(t){let n=new p,i=new p,{x:s,y:o,z:u}=t.normal,a=t.d,{x:h,y:m,z:y}=this.min,{x:l,y:f,z:d}=this.max,x=(z,b,S,q,R,T)=>{z>=0?(q[T]=S,R[T]=b):(q[T]=b,R[T]=S)};x(s,h,l,n,i,"x"),x(o,m,f,n,i,"y"),x(u,y,d,n,i,"z");let g=s*i.x+o*i.y+u*i.z+a;return g>0?C.front:(g=s*n.x+o*n.y+u*n.z+a,g<0?C.back:C.intersecting)}).add([X],function(t){return t.intersects(this)}),e.prototype.intersects.apply(this,r)}toString(...r){return e.prototype.toString=c([],function(){return JSON.stringify(this)}),e.prototype.toString.apply(this,r)}toJSON(){return{min:this.min,max:this.max}}};var nt=Symbol("constructor"),Mt=class e{static get linear(){return new e(0,0,1,1)}static get ease(){return new e(.25,.1,.25,1)}static get easeIn(){return new e(.42,0,1,1)}static get easeOut(){return new e(0,0,.58,1)}static get easeInOut(){return new e(.42,0,.58,1)}static get easeInSine(){return new e(.12,0,.39,0)}static get easeOutSine(){return new e(.61,1,.88,1)}static get easeInOutSine(){return new e(.37,0,.63,1)}static get easeInQuad(){return new e(.11,0,.5,0)}static get easeOutQuad(){return new e(.5,1,.89,1)}static get easeInOutQuad(){return new e(.45,0,.55,1)}static get easeInCubic(){return new e(.32,0,.67,0)}static get easeOutCubic(){return new e(.33,1,.68,1)}static get easeInOutCubic(){return new e(.65,0,.35,1)}static get easeInQuart(){return new e(.5,0,.75,0)}static get easeOutQuart(){return new e(.25,1,.5,1)}static get easeInOutQuart(){return new e(.76,0,.24,1)}static get easeInQuint(){return new e(.64,0,.78,0)}static get easeOutQuint(){return new e(.22,1,.36,1)}static get easeInOutQuint(){return new e(.83,0,.17,1)}static get easeInExpo(){return new e(.7,0,.84,0)}static get easeOutExpo(){return new e(.16,1,.3,1)}static get easeInOutExpo(){return new e(.87,0,.13,1)}static get easeInCirc(){return new e(.55,0,1,.45)}static get easeOutCirc(){return new e(0,.55,.45,1)}static get easeInOutCirc(){return new e(.85,0,.15,1)}static get easeInBack(){return new e(.36,0,.66,-.56)}static get easeOutBack(){return new e(.34,1.56,.64,1)}static get easeInOutBack(){return new e(.68,-.6,.32,1.6)}static get easeInElastic(){return new e(.7,-1,.84,1)}static get easeOutElastic(){return new e(.16,-1,.3,2)}static get easeInOutElastic(){return new e(.87,-1,.13,2)}static get easeInBounce(){return new e(.7,1.56,.84,1)}static get easeOutBounce(){return new e(.16,-.56,.3,1)}static get easeInOutBounce(){return new e(.87,1.56,.13,1)}#t=!1;#e=0;#n=0;#r=0;#i=0;#s=null;#o=null;#c=null;get v1(){return new L(0,0)}get v2(){return new L(this.x1,this.y1)}get v3(){return new L(this.x2,this.y2)}get v4(){return new L(1,1)}static[nt]=function(...r){return e[nt]=c().add([],function(){return e[nt].call(this,0,0,1,1)}).add([L,L],function(t,n){return e[nt].call(this,t.x,t.y,n.x,n.y)}).add([Number,Number,Number,Number],function(t,n,i,s){this.#t=!0,[this.x1,this.y1,this.x2,this.y2]=[t,n,i,s],this.#s=new L,this.#o=new L,this.#c=new L,this.#t=!1,this.#u()}),e[nt].apply(this,r)};constructor(...r){return Object.defineProperties(this,{x1:{get:()=>this.#e,set:c([Number],function(t){this.#e=w.clamp(t,0,1),this.#u()})},y1:{get:()=>this.#n,set:c([Number],function(t){this.#n=t,this.#u()})},x2:{get:()=>this.#r,set:c([Number],function(t){this.#r=w.clamp(t,0,1),this.#u()})},y2:{get:()=>this.#i,set:c([Number],function(t){this.#i=t,this.#u()})}}),e[nt].apply(this,r)}#u(){this.#t||(this.#c.x=3*this.#e,this.#c.y=3*this.#n,this.#o.x=3*(this.#r-this.#e)-this.#c.x,this.#o.y=3*(this.#i-this.#n)-this.#c.y,this.#s.x=1-this.#c.x-this.#o.x,this.#s.y=1-this.#c.y-this.#o.y)}"=="(...r){return this.equals(...r)}"!="(...r){return!this.equals(...r)}getX(...r){return e.prototype.getX=c([Number],function(t){return((this.#s.x*t+this.#o.x)*t+this.#c.x)*t}),e.prototype.getX.apply(this,r)}getY(...r){return e.prototype.getY=c().add([Number],function(t){return((this.#s.y*t+this.#o.y)*t+this.#c.y)*t}),e.prototype.getY.apply(this,r)}solve(...r){return e.prototype.solve=c().add([Number],function(t){if(t===0||t===1)return this.getY(t);let n=t;for(let i=0;i<8;i++){let s=this.getX(n)-t;if(Math.abs(s)<Number.EPSILON)return this.getY(n);let o=(3*this.#s.x*n+2*this.#o.x)*n+this.#c.x;if(Math.abs(o)<Number.EPSILON)break;n-=s/o}return this.getY(n)}),e.prototype.solve.apply(this,r)}equals(...r){return e.prototype.equals=c([e],function(t){return this.v1.equals(t.v1)&&this.v2.equals(t.v2)&&this.v3.equals(t.v3)&&this.v4.equals(t.v4)}).any(()=>!1),e.prototype.equals.apply(this,r)}toString(...r){return e.prototype.toString=c([],function(){return JSON.stringify(this)}),e.prototype.toString.apply(this,r)}toJSON(){return{v1:this.v1.toJSON(),v2:this.v2.toJSON(),v3:this.v3.toJSON(),v4:this.v4.toJSON()}}};var U=class extends k{static{this.set({smooth:0,step:1})}};var rt=Symbol("constructor"),it=class e{#t=null;#e=0;#n=0;#r=0;#i=0;get position(){return this.#e}static[rt]=function(...r){return e[rt]=c().add([Number,Number],function(t,n){return e[rt].call(this,t,n,0,0,U.smooth)}).add([Number,Number,Number,Number],function(t,n,i,s){return e[rt].call(this,t,n,i,s,U.smooth)}).add([Number,Number,Number,Number,U],function(t,n,i,s,o){[this.continuity,this.tangentIn,this.tangentOut,this.value]=[o,i,s,n],this.#e=t}),e[rt].apply(this,r)};constructor(...r){return Object.defineProperties(this,{continuity:{get:()=>this.#t,set:c([U],t=>this.#t=t)},tangentIn:{get:()=>this.#n,set:c([Number],t=>this.#n=t)},tangentOut:{get:()=>this.#r,set:c([Number],t=>this.#r=t)},value:{get:()=>this.#i,set:c([Number],t=>this.#i=t)}}),e[rt].apply(this,r)}*[Symbol.iterator](){yield this.continuity,yield this.position,yield this.tangentIn,yield this.tangentOut,yield this.value}"=="(...r){return this.equals(...r)}"!="(...r){return!this.equals(...r)}clone(...r){return e.prototype.clone=c([],function(){return new e(this.position,this.value,this.tangentIn,this.tangentOut,this.continuity)}),e.prototype.clone.apply(this,r)}compareTo(...r){return e.prototype.compareTo=c([e],function(t){return this.position>t.position?1:this.position<t.position?-1:0}),e.prototype.compareTo.apply(this,r)}equals(...r){return e.prototype.equals=c([e],function(t){return this.position===t.position&&this.value===t.value&&this.tangentIn===t.tangentIn&&this.tangentOut===t.tangentOut&&this.continuity===t.continuity}).any(()=>!1),e.prototype.equals.apply(this,r)}toString(...r){return e.prototype.toString=c([],function(){return JSON.stringify(this)}),e.prototype.toString.apply(this,r)}toJSON(){return{position:this.position,value:this.value,tangentIn:this.tangentIn,tangentOut:this.tangentOut,continuity:this.continuity}}};var st=class e extends O{constructor(){super(it)}"=="(...r){return this.equals(...r)}"!="(...r){return!this.equals(...r)}clone(...r){return e.prototype.clone=c([],function(){let t=new e;for(let n=0;n<this.length;n++)t.add(this[n]);return t}),e.prototype.clone.apply(this,r)}equals(...r){return e.prototype.equals=c([e],function(t){if(this.length!==t.length)return!1;for(let n=0;n<this.length;n++)if(!this[n].equals(t[n]))return!1;return!0}).any(()=>!1),e.prototype.equals.apply(this,r)}toString(...r){return e.prototype.toString=c([],function(){return JSON.stringify(this)}),e.prototype.toString.apply(this,r)}toJSON(){return this.map(r=>r.toJSON())}};var I=class extends k{static{this.set({constant:0,cycle:1,cycleOffset:2,oscillate:3,linear:4})}};var $=class extends k{static{this.set({flat:0,linear:1,smooth:2})}};var Rt=Symbol("constructor"),Tt=class e{#t=null;#e=null;#n=null;get isConstant(){return this.#n.length<=1}get keys(){return this.#n}static[Rt]=function(...r){return e[Rt]=c([],function(){this.#t=I.constant,this.#e=I.constant,this.#n=new st}),e[Rt].apply(this,r)};constructor(...r){return Object.defineProperties(this,{postLoop:{get:()=>this.#t,set:c([I],t=>this.#t=t)},preLoop:{get:()=>this.#e,set:c([I],t=>this.#e=t)}}),e[Rt].apply(this,r)}*[Symbol.iterator](){yield this.postLoop,yield this.preLoop}#r(r){let t=(r-this.keys[0].position)/(this.keys[this.keys.length-1].position-this.keys[0].position);return t<0&&t--,parseInt(t)}#i(r){let t=this.keys[0],n;for(let i=1;i<this.keys.length;++i){if(n=this.keys[i],n.position>=r){if(t.continuity==CurveContinuity.step)return r>=1?n.value:t.value;let s=(r-t.position)/(n.position-t.position),o=s*s,u=o*s;return(2*u-3*o+1)*t.value+(u-2*o+s)*t.tangentOut+(3*o-2*u)*n.value+(u-o)*n.tangentIn}t=n}return 0}"=="(...r){return this.equals(...r)}"!="(...r){return!this.equals(...r)}clone(...r){return e.prototype.clone=c([],function(){let t=new e;return t.#n=this.#n.clone(),t.#e=this.#e,t.#t=this.#t,t}),e.prototype.clone.apply(this,r)}computeTangent(...r){return e.prototype.computeTangent=c().add([Number,I],function(t,n){this.computeTangent(t,n,n)}).add([Number,I,I],function(t,n,i){let s=this.#n[t],o,u,a;o=u=a=s.position;let h,m,y;h=m=y=s.value,t>0&&(o=this.#n[t-1].position,h=this.#n[t-1].value);let l=this.#n.length;switch(t<l-1&&(a=this.#n[t+1].position,y=this.#n[t+1].value),n){case $.flat:s.tangentIn=0;break;case $.linear:s.tangentIn=m-h;break;case $.smooth:let f=a-o;Math.abs(f)<Number.EPSILON?s.tangentIn=0:s.tangentIn=(y-h)*((u-o)/f);break}switch(i){case $.flat:s.tangentOut=0;break;case $.linear:s.tangentOut=y-m;break;case $.smooth:let f=a-o;Math.abs(f)<Number.EPSILON?s.tangentOut=0:s.tangentOut=(y-h)*((a-u)/f);break}}),e.prototype.computeTangent.apply(this,r)}computeTangents(...r){return e.prototype.computeTangents=c().add([I],function(t){this.computeTangents(t,t)}).add([I,I],function(t,n){for(let i=0;i<this.keys.length;++i)this.computeTangent(i,t,n)}),e.prototype.computeTangents.apply(this,r)}evaluate(...r){return e.prototype.evaluate=c([Number],function(t){if(this.keys.length===0)return 0;if(this.keys.length===1)return this.keys[0].value;let n=this.keys[0],i=this.keys[this.keys.length-1],s,o;if(t<n.position)switch(this.preLoop){case I.constant:return n.value;case I.linear:return n.value-n.tangentIn*(n.position-t);case I.cycle:return s=this.#r(t),o=t-s*(i.position-n.position),this.#i(o);case I.cycleOffset:return s=this.#r(t),o=t-s*(i.position-n.position),this.#i(o)+s*(i.value-n.value);case I.oscillate:return s=this.#r(t),s%2==0?o=t-s*(i.position-n.position):o=i.position-t+n.position+s*(i.position-n.position),this.#i(o)}else if(t>i.position)switch(this.postLoop){case I.constant:return i.value;case I.linear:return i.value+n.tangentOut*(t-i.position);case I.cycle:return s=this.#r(t),o=t-s*(i.position-n.position),this.#i(o);case I.cycleOffset:return s=this.#r(t),o=t-s*(i.position-n.position),this.#i(o)+s*(i.value-n.value);case I.oscillate:return s=this.#r(t),o=t-s*(i.position-n.position),s%2==0?o=t-s*(i.position-n.position):o=i.position-t+n.position+s*(i.position-n.position),this.#i(o)}return this.#i(t)}),e.prototype.evaluate.apply(this,r)}equals(...r){return e.prototype.equals=c([e],function(t){return this.postLoop===t.postLoop&&this.preLoop===t.preLoop&&this.keys.equals(t.keys)}).any(()=>!1),e.prototype.equals.apply(this,r)}toString(...r){return e.prototype.toString=c([],function(){return JSON.stringify(this)}),e.prototype.toString.apply(this,r)}toJSON(){return{postLoop:this.postLoop,preLoop:this.preLoop,keys:this.keys}}};var Et=Symbol("constructor"),Q=class e{static get zero(){return new e(0,0)}#t=0;#e=0;static[Et]=function(...r){return e[Et]=c().add([],function(){[this.x,this.y]=[0,0]}).add([Number,Number],function(t,n){[this.x,this.y]=[t,n]}),e[Et].apply(this,r)};constructor(...r){return Object.defineProperties(this,{x:{get:()=>this.#t,set:c([Number],t=>this.#t=parseInt(t))},y:{get:()=>this.#e,set:c([Number],t=>this.#e=parseInt(t))}}),e[Et].apply(this,r)}*[Symbol.iterator](){yield this.#t,yield this.#e}static"-"(...r){return e.prototype["-"]=c([e],function(t){return new e(-t.x,-t.y)}),e.prototype["-"].apply(this,r)}"+"(...r){return e.prototype["+"]=c([e],function(t){return new e(this.x+t.x,this.y+t.y)}),e.prototype["+"].apply(this,r)}"-"(...r){return e.prototype["-"]=c([e],function(t){return new e(this.x-t.x,this.y-t.y)}),e.prototype["-"].apply(this,r)}"*"(...r){return e.prototype["*"]=c().add([Number],function(t){return new e(this.x*t,this.y*t)}).add([e],function(t){return new e(this.x*t.x,this.y*t.y)}),e.prototype["*"].apply(this,r)}"/"(...r){return e.prototype["/"]=c().add([Number],function(t){return new e(this.x/t,this.y/t)}).add([e],function(t){return new e(this.x/t.x,this.y/t.y)}),e.prototype["/"].apply(this,r)}"=="(...r){return this.equals(...r)}"!="(...r){return!this.equals(...r)}equals(...r){return e.prototype.equals=c([e],function(t){return this.#t===t.x&&this.#e===t.y}).any(()=>!1),e.prototype.equals.apply(this,r)}toString(...r){return e.prototype.toString=c([],function(){return JSON.stringify(this)}),e.prototype.toString.apply(this,r)}toJSON(){return{x:this.#t,y:this.#e}}};var It=Symbol("constructor"),Ct=class e{static get empty(){return new e}#t=0;#e=0;#n=0;#r=0;get isEmpty(){return this.#t===0&&this.#e===0&&this.#n===0&&this.#r===0}get bottom(){return this.#e+this.#r}get center(){return new Q(this.#t+this.#n/2,this.#e+this.#r/2)}get left(){return this.#t}get right(){return this.#t+this.#n}get top(){return this.#e}static[It]=function(...r){return e[It]=c().add([],function(){[this.x,this.y,this.width,this.height]=[0,0,0,0]}).add([Number,Number,Number,Number],function(t,n,i,s){[this.x,this.y,this.width,this.height]=[t,n,i,s]}),e[It].apply(this,r)};constructor(...r){return Object.defineProperties(this,{x:{get:()=>this.#t,set:c([Number],t=>this.#t=parseInt(t))},y:{get:()=>this.#e,set:c([Number],t=>this.#e=parseInt(t))},width:{get:()=>this.#n,set:c([Number],t=>this.#n=parseInt(t))},height:{get:()=>this.#r,set:c([Number],t=>this.#r=parseInt(t))},location:{get:()=>new Q(this.#t,this.#e),set:c([Q],t=>[this.#t,this.#e]=[t.x,t.y])}}),e[It].apply(this,r)}*[Symbol.iterator](){yield this.#t,yield this.#e,yield this.#n,yield this.#r}static intersect(...r){return e.intersect=c([e,e],function(t,n){if(t.intersects(n)){let[i,s,o,u]=[t.#t,t.#e,t.#n,t.#r],[a,h,m,y]=[n.#t,n.#e,n.#n,n.#r],l=w.min(i+o,a+m),f=w.max(i,a),d=w.max(s,h),x=w.min(s+u,h+y);return new e(f,d,l-f,x-d)}return e.empty}),e.intersect.apply(this,r)}static union(...r){return e.union=c([e,e],function(t,n){let i,s,o,u,a,h,m,y;[i,s,o,u]=[t.#t,t.#e,t.right,t.bottom],[a,h,m,y]=[n.#t,n.#e,n.right,n.bottom];let l=w.min(i,a),f=w.min(s,h),d=w.max(o,m),x=w.max(u,y);return new e(l,f,d-l,x-f)}),e.union.apply(this,r)}"=="(...r){return this.equals(...r)}"!="(...r){return!this.equals(...r)}contains(...r){return e.prototype.contains=c().add([Number,Number],function(t,n){let i=this.#t<=t&&t<this.#t+this.#n,s=this.#e<=n&&n<this.#e+this.#r;return i&&s}).add([Q],function(t){let n=this.#t<=t.x&&t.x<this.#t+this.#n,i=this.#e<=t.y&&t.y<this.#e+this.#r;return n&&i}).add([e],function(t){let n=this.#t<=t.#t&&t.#t+t.#n<=this.#t+this.#n,i=this.#e<=t.#e&&t.#e+t.#r<=this.#e+this.#r;return n&&i}),e.prototype.contains.apply(this,r)}equals(...r){return e.prototype.equals=c([e],function(t){let{x:n,y:i,width:s,height:o}=t;return Object.is(this.#t,n)&&Object.is(this.#e,i)&&Object.is(this.#n,s)&&Object.is(this.#r,o)}).any(()=>!1),e.prototype.equals.apply(this,r)}inflate(...r){return e.prototype.inflate=c([Number,Number],function(t,n){this.x-=t,this.y-=n,this.width+=t*2,this.height+=n*2}),e.prototype.inflate.apply(this,r)}intersects(...r){return e.prototype.intersects=c([e],function(t){let{left:n,right:i,top:s,bottom:o}=t,u=this.left,a=this.right,h=this.top,m=this.bottom;return n<a&&u<i&&s<m&&h<o}),e.prototype.intersects.apply(this,r)}offset(...r){return e.prototype.offset=c().add([Number,Number],function(t,n){this.x+=t,this.y+=n}).add([Q],function(t){this.x+=t.x,this.y+=t.y}),e.prototype.offset.apply(this,r)}toString(...r){return e.prototype.toString=c([],function(){return JSON.stringify(this)}),e.prototype.toString.apply(this,r)}toJSON(){return{x:this.#t,y:this.#e,width:this.#n,height:this.#r}}};export{P as BoundingBox,j as BoundingFrustum,Y as BoundingSphere,N as ContainmentType,Mt as CubicBezier,Tt as Curve,U as CurveContinuity,it as CurveKey,st as CurveKeyCollection,I as CurveLoopType,$ as CurveTangent,w as MathHelper,M as Matrix,B as Plane,C as PlaneIntersectionType,Q as Point,E as Quaternion,X as Ray,Ct as Rectangle,L as Vector2,p as Vector3,V as Vector4};
//# sourceMappingURL=geometry.js.map
