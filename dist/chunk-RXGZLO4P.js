import{a as c}from"./chunk-3E4MERNI.js";import{a as y}from"./chunk-R2YUQVCG.js";import{a as R}from"./chunk-RQHJYRUT.js";import{b as A}from"./chunk-U5ZGQWBN.js";import{a as J}from"./chunk-5JQ3MAT3.js";import{a as P,b as M,c as E,d as w,f as s,g as k,h as b,i as h,j as f}from"./chunk-VX2CSBSY.js";var N=Symbol("constructor"),j,z,v,I,g,p,l,T,C,a=class a{constructor(...o){E(I,5,this);k(this,l);k(this,v,null);k(this,g,null);k(this,p,null);a[N].apply(this,o)}get postLoop(){return s(this,v)}set postLoop(o){b(this,v,o)}get preLoop(){return s(this,g)}set preLoop(o){b(this,g,o)}get keys(){return s(this,p)}get isConstant(){return s(this,p).length<=1}static[(z=[A(()=>c)],j=[A(()=>c)],N)](...o){return a[N]=f([],function(){b(this,v,c.constant),b(this,g,c.constant),b(this,p,new R)}),a[N].apply(this,o)}*[Symbol.iterator](){yield s(this,v),yield s(this,g)}"=="(...o){return this.equals.apply(this,o)}"!="(...o){return!this.equals.apply(this,o)}clone(...o){return a.prototype.clone=f([],function(){let t=new a;return b(t,p,s(this,p).clone()),b(t,g,s(this,g)),b(t,v,s(this,v)),t}),a.prototype.clone.apply(this,o)}computeTangent(...o){return a.prototype.computeTangent=f().add([Number,y],function(t,u){this.computeTangent(t,u,u)}).add([Number,y,y],function(t,u,n){let i=s(this,p).toArray(),e=i[t],r,m,L;r=m=L=e.position;let O,q,d;O=q=d=e.value,t>0&&(r=i[t-1].position,O=i[t-1].value);let B=i.length;switch(t<B-1&&(L=i[t+1].position,d=i[t+1].value),u){case y.flat:e.tangentIn=0;break;case y.linear:e.tangentIn=q-O;break;case y.smooth:let S=L-r;Math.abs(S)<Number.EPSILON?e.tangentIn=0:e.tangentIn=(d-O)*((m-r)/S);break}switch(n){case y.flat:e.tangentOut=0;break;case y.linear:e.tangentOut=d-q;break;case y.smooth:let S=L-r;Math.abs(S)<Number.EPSILON?e.tangentOut=0:e.tangentOut=(d-O)*((L-m)/S);break}}),a.prototype.computeTangent.apply(this,o)}computeTangents(...o){return a.prototype.computeTangents=f().add([y],function(t){this.computeTangents(t,t)}).add([y,y],function(t,u){for(let n=0;n<s(this,p).length;++n)this.computeTangent(n,t,u)}),a.prototype.computeTangents.apply(this,o)}evaluate(...o){return a.prototype.evaluate=f([Number],function(t){if(s(this,p).length===0)return 0;let u=s(this,p).toArray();if(u.length===1)return u[0].value;let n=u[0],i=u[u.length-1],e,r;if(t<n.position)switch(this.preLoop){case c.constant:return n.value;case c.linear:return n.value-n.tangentIn*(n.position-t);case c.cycle:return e=h(this,l,T).call(this,t),r=t-e*(i.position-n.position),h(this,l,C).call(this,r);case c.cycleOffset:return e=h(this,l,T).call(this,t),r=t-e*(i.position-n.position),h(this,l,C).call(this,r)+e*(i.value-n.value);case c.oscillate:return e=h(this,l,T).call(this,t),e%2==0?r=t-e*(i.position-n.position):r=i.position-t+n.position+e*(i.position-n.position),h(this,l,C).call(this,r)}else if(t>i.position)switch(this.postLoop){case c.constant:return i.value;case c.linear:return i.value+n.tangentOut*(t-i.position);case c.cycle:return e=h(this,l,T).call(this,t),r=t-e*(i.position-n.position),h(this,l,C).call(this,r);case c.cycleOffset:return e=h(this,l,T).call(this,t),r=t-e*(i.position-n.position),h(this,l,C).call(this,r)+e*(i.value-n.value);case c.oscillate:return e=h(this,l,T).call(this,t),r=t-e*(i.position-n.position),e%2==0?r=t-e*(i.position-n.position):r=i.position-t+n.position+e*(i.position-n.position),h(this,l,C).call(this,r)}return h(this,l,C).call(this,t)}),a.prototype.evaluate.apply(this,o)}equals(...o){return a.prototype.equals=f([a],function(t){return s(this,v)===s(t,v)&&s(this,g)===s(t,g)&&s(this,p).equals(s(t,p))}).any(()=>!1),a.prototype.equals.apply(this,o)}toString(...o){return a.prototype.toString=f([],function(){return JSON.stringify(this)}),a.prototype.toString.apply(this,o)}toJSON(){return{postLoop:s(this,v),preLoop:s(this,g),keys:s(this,p)}}};I=P(null),v=new WeakMap,g=new WeakMap,p=new WeakMap,l=new WeakSet,T=function(o){let t=s(this,p).toArray(),u=(o-t[0].position)/(t[t.length-1].position-t[0].position);return u<0&&u--,u|0},C=function(o){let t=s(this,p).toArray(),u=t[0],n;for(let i=1;i<t.length;++i){if(n=t[i],n.position>=o){if(u.continuity==J.step)return o>=1?n.value:u.value;let e=(o-u.position)/(n.position-u.position),r=e*e,m=r*e;return(2*m-3*r+1)*u.value+(m-2*r+e)*u.tangentOut+(3*r-2*m)*n.value+(m-r)*n.tangentIn}u=n}return 0},w(I,3,"postLoop",z,a),w(I,3,"preLoop",j,a),M(I,a);var K=a;export{K as a};
//# sourceMappingURL=chunk-RXGZLO4P.js.map
