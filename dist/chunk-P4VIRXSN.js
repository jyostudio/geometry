import{a as F}from"./chunk-N6DLHBLF.js";import{a as Nt}from"./chunk-YLJQPBAI.js";import{a as D}from"./chunk-JRVENJUN.js";import{a as _}from"./chunk-DF3HQIKL.js";import{a as st,b as Mt}from"./chunk-U5ZGQWBN.js";import{a as zt,b as gt,c as wt,d as H,f as t,g as rt,h as p,i as Rt,j as g}from"./chunk-VX2CSBSY.js";var un=Symbol("constructor"),Sn,Rn,Bn,Tn,Z,nn,J,U,W,B=class B{constructor(...s){wt(nn,5,this);rt(this,Z,0);rt(this,J,0);rt(this,U,0);rt(this,W,0);B[un].apply(this,s)}static get identity(){return new B(0,0,0,1)}get x(){return t(this,Z)}set x(s){p(this,Z,s)}get y(){return t(this,J)}set y(s){p(this,J,s)}get z(){return t(this,U)}set z(s){p(this,U,s)}get w(){return t(this,W)}set w(s){p(this,W,s)}static"##STRUCT_CONSTRUCTOR##"(){return new B}static[(Tn=[st(Number)],Bn=[st(Number)],Rn=[st(Number)],Sn=[st(Number)],un)](...s){return B[un]=g().add([],function(){}).add([Number,Number,Number,Number],function(n,c,e,i){p(this,Z,n),p(this,J,c),p(this,U,e),p(this,W,i)}).add([z,Number],function(n,c){p(this,Z,n.x),p(this,J,n.y),p(this,U,n.z),p(this,W,c)}),B[un].apply(this,s)}*[Symbol.iterator](){yield t(this,Z),yield t(this,J),yield t(this,U),yield t(this,W)}static add(...s){return B.add=g().add([B,B],function(n,c){return new B(t(n,Z)+t(c,Z),t(n,J)+t(c,J),t(n,U)+t(c,U),t(n,W)+t(c,W))}).add([B,B,B],function(n,c,e){p(e,Z,t(n,Z)+t(c,Z)),p(e,J,t(n,J)+t(c,J)),p(e,U,t(n,U)+t(c,U)),p(e,W,t(n,W)+t(c,W))}),B.add.apply(this,s)}static concatenate(...s){return B.concatenate=g().add([B,B],function(n,c){let e=t(n,Z),i=t(n,J),r=t(n,U),u=t(n,W),a=t(c,Z),y=t(c,J),h=t(c,U),b=t(c,W);return new B(a*u+e*b+(y*r-h*i),y*u+i*b+(h*e-a*r),h*u+r*b+(a*i-y*e),b*u-(a*e+y*i+h*r))}).add([B,B,B],function(n,c,e){let i=t(n,Z),r=t(n,J),u=t(n,U),a=t(n,W),y=t(c,Z),h=t(c,J),b=t(c,U),m=t(c,W);p(e,Z,y*a+i*m+(h*u-b*r)),p(e,J,h*a+r*m+(b*i-y*u)),p(e,U,b*a+u*m+(y*r-h*i)),p(e,W,m*a-(y*i+h*r+b*u))}),B.concatenate.apply(this,s)}static conjugate(...s){return B.conjugate=g().add([B],function(n){return new B(-t(n,Z),-t(n,J),-t(n,U),t(n,W))}).add([B,B],function(n,c){p(c,Z,-t(n,Z)),p(c,J,-t(n,J)),p(c,U,-t(n,U)),p(c,W,t(n,W))}),B.conjugate.apply(this,s)}static createFromAxisAngle(...s){return B.createFromAxisAngle=g().add([z,Number],function(n,c){let e=n.x,i=n.y,r=n.z,u=c*.5,a=Math.sin(u),y=Math.cos(u);return new B(e*a,i*a,r*a,y)}).add([z,Number,B],function(n,c,e){let i=n.x,r=n.y,u=n.z,a=c*.5,y=Math.sin(a),h=Math.cos(a);p(e,Z,i*y),p(e,J,r*y),p(e,U,u*y),p(e,W,h)}),B.createFromAxisAngle.apply(this,s)}static createFromRotationMatrix(...s){return B.createFromRotationMatrix=g().add([tt],function(n){let c=n.m11+n.m22+n.m33,e,i,r=new B;return c>0?(e=Math.sqrt(c+1),p(r,W,e*.5),e=.5/e,p(r,Z,(n.m23-n.m32)*e),p(r,J,(n.m31-n.m13)*e),p(r,U,(n.m12-n.m21)*e)):n.m11>=n.m22&&n.m11>=n.m33?(e=Math.sqrt(1+n.m11-n.m22-n.m33),i=.5/e,p(r,Z,.5*e),p(r,J,(n.m12+n.m21)*i),p(r,U,(n.m13+n.m31)*i),p(r,W,(n.m23-n.m32)*i)):n.m22>n.m33?(e=Math.sqrt(1+n.m22-n.m11-n.m33),i=.5/e,p(r,Z,(n.m21+n.m12)*i),p(r,J,.5*e),p(r,U,(n.m32+n.m23)*i),p(r,W,(n.m31-n.m13)*i)):(e=Math.sqrt(1+n.m33-n.m11-n.m22),i=.5/e,p(r,Z,(n.m31+n.m13)*i),p(r,J,(n.m32+n.m23)*i),p(r,U,.5*e),p(r,W,(n.m12-n.m21)*i)),r}).add([tt,B],function(n,c){let e=n.m11+n.m22+n.m33,i,r;e>0?(i=Math.sqrt(e+1),p(c,W,i*.5),i=.5/i,p(c,Z,(n.m23-n.m32)*i),p(c,J,(n.m31-n.m13)*i),p(c,U,(n.m12-n.m21)*i)):n.m11>=n.m22&&n.m11>=n.m33?(i=Math.sqrt(1+n.m11-n.m22-n.m33),r=.5/i,p(c,Z,.5*i),p(c,J,(n.m12+n.m21)*r),p(c,U,(n.m13+n.m31)*r),p(c,W,(n.m23-n.m32)*r)):n.m22>n.m33?(i=Math.sqrt(1+n.m22-n.m11-n.m33),r=.5/i,p(c,Z,(n.m21+n.m12)*r),p(c,J,.5*i),p(c,U,(n.m32+n.m23)*r),p(c,W,(n.m31-n.m13)*r)):(i=Math.sqrt(1+n.m33-n.m11-n.m22),r=.5/i,p(c,Z,(n.m31+n.m13)*r),p(c,J,(n.m32+n.m23)*r),p(c,U,.5*i),p(c,W,(n.m12-n.m21)*r))}),B.createFromRotationMatrix.apply(this,s)}static createFromYawPitchRoll(...s){return B.createFromYawPitchRoll=g().add([Number,Number,Number],function(n,c,e){let i=e*.5,r=c*.5,u=n*.5,a=Math.sin(i),y=Math.cos(i),h=Math.sin(r),b=Math.cos(r),m=Math.sin(u),V=Math.cos(u);return new B(V*h*y+m*b*a,m*b*y-V*h*a,V*b*a-m*h*y,V*b*y+m*h*a)}).add([Number,Number,Number,B],function(n,c,e,i){let r=e*.5,u=c*.5,a=n*.5,y=Math.sin(r),h=Math.cos(r),b=Math.sin(u),m=Math.cos(u),V=Math.sin(a),M=Math.cos(a);p(i,Z,M*b*h+V*m*y),p(i,J,V*m*h-M*b*y),p(i,U,M*m*y-V*b*h),p(i,W,M*m*h+V*b*y)}),B.createFromYawPitchRoll.apply(this,s)}static divide(...s){return B.divide=g().add([B,B],function(n,c){let e=t(n,Z),i=t(n,J),r=t(n,U),u=t(n,W),a=t(c,Z),y=t(c,J),h=t(c,U),b=t(c,W),V=1/c.lengthSquared(),M=-a*V,S=-y*V,N=-h*V,R=b*V,C=i*N-r*S,T=r*M-e*N,P=e*S-i*M,j=e*M+i*S+r*N;return new B(e*R+M*u+C,i*R+S*u+T,r*R+N*u+P,u*R-j)}).add([B,B,B],function(n,c,e){let i=t(n,Z),r=t(n,J),u=t(n,U),a=t(n,W),y=t(c,Z),h=t(c,J),b=t(c,U),m=t(c,W),M=1/c.lengthSquared(),S=-y*M,N=-h*M,R=-b*M,C=m*M,T=r*R-u*N,P=u*S-i*R,j=i*N-r*S,X=i*S+r*N+u*R;p(e,Z,i*C+S*a+T),p(e,J,r*C+N*a+P),p(e,U,u*C+R*a+j),p(e,W,a*C-X)}),B.divide.apply(this,s)}static dot(...s){return B.dot=g().add([B,B],function(n,c){let e=t(n,Z),i=t(n,J),r=t(n,U),u=t(n,W),a=t(c,Z),y=t(c,J),h=t(c,U),b=t(c,W);return e*a+i*y+r*h+u*b}),B.dot.apply(this,s)}static inverse(...s){return B.inverse=g().add([B],function(n){let c=t(n,Z),e=t(n,J),i=t(n,U),r=t(n,W),u=c*c,a=e*e,y=i*i,h=r*r,b=1/(u+a+y+h);return new B(-c*b,-e*b,-i*b,r*b)}).add([B,B],function(n,c){let e=t(n,Z),i=t(n,J),r=t(n,U),u=t(n,W),a=e*e,y=i*i,h=r*r,b=u*u,m=1/(a+y+h+b);p(c,Z,-e*m),p(c,J,-i*m),p(c,U,-r*m),p(c,W,u*m)}),B.inverse.apply(this,s)}static lerp(...s){return B.lerp=g().add([B,B,Number],function(n,c,e){let i=t(n,Z),r=t(n,J),u=t(n,U),a=t(n,W),y=t(c,Z),h=t(c,J),b=t(c,U),m=t(c,W),V=1-e,M=B.dot(n,c)>=0?1:-1,S=(R,C)=>V*R+M*e*C,N=new B(S(i,y),S(r,h),S(u,b),S(a,m));return B.normalize(N,N),N}).add([B,B,Number,B],function(n,c,e,i){let r=t(n,Z),u=t(n,J),a=t(n,U),y=t(n,W),h=t(c,Z),b=t(c,J),m=t(c,U),V=t(c,W),M=1-e,S=B.dot(n,c)>=0?1:-1,N=(R,C)=>M*R+S*e*C;p(i,Z,N(r,h)),p(i,J,N(u,b)),p(i,U,N(a,m)),p(i,W,N(y,V)),B.normalize(i,i)}),B.lerp.apply(this,s)}static multiply(...s){return B.multiply=g().add([B,Number],function(n,c){return new B(t(n,Z)*c,t(n,J)*c,t(n,U)*c,t(n,W)*c)}).add([B,Number,B],function(n,c,e){p(e,Z,t(n,Z)*c),p(e,J,t(n,J)*c),p(e,U,t(n,U)*c),p(e,W,t(n,W)*c)}).add([B,B],function(n,c){let e=t(n,Z),i=t(n,J),r=t(n,U),u=t(n,W),a=t(c,Z),y=t(c,J),h=t(c,U),b=t(c,W),m=i*h-r*y,V=r*a-e*h,M=e*y-i*a,S=e*a+i*y+r*h;return new B(e*b+a*u+m,i*b+y*u+V,r*b+h*u+M,u*b-S)}).add([B,B,B],function(n,c,e){let i=t(n,Z),r=t(n,J),u=t(n,U),a=t(n,W),y=t(c,Z),h=t(c,J),b=t(c,U),m=t(c,W),V=r*b-u*h,M=u*y-i*b,S=i*h-r*y,N=i*y+r*h+u*b;p(e,Z,i*m+y*a+V),p(e,J,r*m+h*a+M),p(e,U,u*m+b*a+S),p(e,W,a*m-N)}),B.multiply.apply(this,s)}static negate(...s){return B.negate=g().add([B],function(n){return new B(-t(n,Z),-t(n,J),-t(n,U),-t(n,W))}).add([B,B],function(n,c){p(c,Z,-t(n,Z)),p(c,J,-t(n,J)),p(c,U,-t(n,U)),p(c,W,-t(n,W))}),B.negate.apply(this,s)}static normalize(...s){return B.normalize=g().add([B],function(n){let c=1/Math.sqrt(t(n,Z)**2+t(n,J)**2+t(n,U)**2+t(n,W)**2);return new B(t(n,Z)*c,t(n,J)*c,t(n,U)*c,t(n,W)*c)}).add([B,B],function(n,c){let e=1/Math.sqrt(t(n,Z)**2+t(n,J)**2+t(n,U)**2+t(n,W)**2);p(c,Z,t(n,Z)*e),p(c,J,t(n,J)*e),p(c,U,t(n,U)*e),p(c,W,t(n,W)*e)}),B.normalize.apply(this,s)}static slerp(...s){return B.slerp=g().add([B,B,Number],function(n,c,e){let i=t(n,Z),r=t(n,J),u=t(n,U),a=t(n,W),y=t(c,Z),h=t(c,J),b=t(c,U),m=t(c,W),V=B.dot(n,c),M=V<0;V=M?-V:V;let S,N;if(V>.999999)N=1-e,S=M?-e:e;else{let C=Math.acos(V),T=1/Math.sin(C);N=Math.sin((1-e)*C)*T,S=Math.sin(e*C)*T,M&&(S=-S)}let R=(C,T)=>N*C+S*T;return new B(R(i,y),R(r,h),R(u,b),R(a,m))}).add([B,B,Number,B],function(n,c,e,i){let r=t(n,Z),u=t(n,J),a=t(n,U),y=t(n,W),h=t(c,Z),b=t(c,J),m=t(c,U),V=t(c,W),M=B.dot(n,c),S=M<0;M=S?-M:M;let N,R;if(M>.999999)R=1-e,N=S?-e:e;else{let T=Math.acos(M),P=1/Math.sin(T);R=Math.sin((1-e)*T)*P,N=Math.sin(e*T)*P,S&&(N=-N)}let C=(T,P)=>R*T+N*P;p(i,Z,C(r,h)),p(i,J,C(u,b)),p(i,U,C(a,m)),p(i,W,C(y,V))}),B.slerp.apply(this,s)}static subtract(...s){return B.subtract=g().add([B,B],function(n,c){return new B(t(n,Z)-t(c,Z),t(n,J)-t(c,J),t(n,U)-t(c,U),t(n,W)-t(c,W))}).add([B,B,B],function(n,c,e){p(e,Z,t(n,Z)-t(c,Z)),p(e,J,t(n,J)-t(c,J)),p(e,U,t(n,U)-t(c,U)),p(e,W,t(n,W)-t(c,W))}),B.subtract.apply(this,s)}static"-"(...s){return B["-"]=g([B],function(n){return B.negate(n)}),B["-"].apply(this,s)}"+"(...s){return B.prototype["+"]=g([B],function(n){return B.add(this,n)}),B.prototype["+"].apply(this,s)}"-"(...s){return B.prototype["-"]=g([B],function(n){return B.subtract(this,n)}),B.prototype["-"].apply(this,s)}"*"(...s){return B.prototype["*"]=g().add([B],function(n){return B.multiply(this,n)}).add([Number],function(n){return B.multiply(this,n)}),B.prototype["*"].apply(this,s)}"/"(...s){return B.prototype["/"]=g([B],function(n){return B.divide(this,n)}),B.prototype["/"].apply(this,s)}"=="(...s){return B.prototype["=="]=g([B],function(n){return this.equals(n)}),B.prototype["=="].apply(this,s)}"!="(...s){return B.prototype["!="]=g([B],function(n){return!this.equals(n)}),B.prototype["!="].apply(this,s)}conjugate(...s){return B.prototype.conjugate=g([],function(){p(this,Z,-t(this,Z)),p(this,J,-t(this,J)),p(this,U,-t(this,U))}),B.prototype.conjugate.apply(this,s)}length(...s){return B.prototype.length=g([],function(){return Math.sqrt(t(this,Z)**2+t(this,J)**2+t(this,U)**2+t(this,W)**2)}),B.prototype.length.apply(this,s)}lengthSquared(...s){return B.prototype.lengthSquared=g([],function(){return t(this,Z)**2+t(this,J)**2+t(this,U)**2+t(this,W)**2}),B.prototype.lengthSquared.apply(this,s)}normalize(...s){return B.prototype.normalize=g([],function(){let n=1/Math.sqrt(t(this,Z)**2+t(this,J)**2+t(this,U)**2+t(this,W)**2);p(this,Z,t(this,Z)*n),p(this,J,t(this,J)*n),p(this,U,t(this,U)*n),p(this,W,t(this,W)*n)}),B.prototype.normalize.apply(this,s)}equals(...s){return B.prototype.equals=g([B],function(n){return t(this,Z)===t(n,Z)&&t(this,J)===t(n,J)&&t(this,U)===t(n,U)&&t(this,W)===t(n,W)}).any(()=>!1),B.prototype.equals.apply(this,s)}toString(...s){return B.prototype.toString=g([],function(){return JSON.stringify(this)}),B.prototype.toString.apply(this,s)}toJSON(){return{x:t(this,Z),y:t(this,J),z:t(this,U),w:t(this,W)}}};nn=zt(null),Z=new WeakMap,J=new WeakMap,U=new WeakMap,W=new WeakMap,H(nn,3,"x",Tn,B),H(nn,3,"y",Bn,B),H(nn,3,"z",Rn,B),H(nn,3,"w",Sn,B),gt(nn,B);var ht=B;var pn=Symbol("constructor"),qn,Qn,Cn,v,en,O,L,d=class d{constructor(...s){wt(en,5,this);rt(this,v,0);rt(this,O,0);rt(this,L,0);d[pn].apply(this,s)}static get backward(){return new d(0,0,1)}static get down(){return new d(0,-1,0)}static get forward(){return new d(0,0,-1)}static get left(){return new d(-1,0,0)}static get one(){return new d(1,1,1)}static get right(){return new d(1,0,0)}static get unitX(){return new d(1,0,0)}static get unitY(){return new d(0,1,0)}static get unitZ(){return new d(0,0,1)}static get up(){return new d(0,1,0)}static get zero(){return new d(0,0,0)}get x(){return t(this,v)}set x(s){p(this,v,s)}get y(){return t(this,O)}set y(s){p(this,O,s)}get z(){return t(this,L)}set z(s){p(this,L,s)}static"##STRUCT_CONSTRUCTOR##"(){return d.zero}static[(Cn=[st(Number)],Qn=[st(Number)],qn=[st(Number)],pn)](...s){return d[pn]=g().add([],function(){}).add([Number],function(n){p(this,v,n),p(this,O,n),p(this,L,n)}).add([Number,Number,Number],function(n,c,e){p(this,v,n),p(this,O,c),p(this,L,e)}).add([Ut,Number],function(n,c){p(this,v,n.x),p(this,O,n.y),p(this,L,c)}),d[pn].apply(this,s)}*[Symbol.iterator](){yield t(this,v),yield t(this,O),yield t(this,L)}static add(...s){return d.add=g().add([d,d],function(n,c){return new d(t(n,v)+t(c,v),t(n,O)+t(c,O),t(n,L)+t(c,L))}).add([d,d,d],function(n,c,e){p(e,v,t(n,v)+t(c,v)),p(e,O,t(n,O)+t(c,O)),p(e,L,t(n,L)+t(c,L))}),d.add.apply(this,s)}static barycentric(...s){return d.barycentric=g().add([d,d,d,Number,Number],function(n,c,e,i,r){return new d(F.barycentric(t(n,v),t(c,v),t(e,v),i,r),F.barycentric(t(n,O),t(c,O),t(e,O),i,r),F.barycentric(t(n,L),t(c,L),t(e,L),i,r))}).add([d,d,d,Number,Number,d],function(n,c,e,i,r,u){p(u,v,F.barycentric(t(n,v),t(c,v),t(e,v),i,r)),p(u,O,F.barycentric(t(n,O),t(c,O),t(e,O),i,r)),p(u,L,F.barycentric(t(n,L),t(c,L),t(e,L),i,r))}),d.barycentric.apply(this,s)}static catmullRom(...s){return d.catmullRom=g().add([d,d,d,d,Number],function(n,c,e,i,r){return new d(F.catmullRom(t(n,v),t(c,v),t(e,v),t(i,v),r),F.catmullRom(t(n,O),t(c,O),t(e,O),t(i,O),r),F.catmullRom(t(n,L),t(c,L),t(e,L),t(i,L),r))}).add([d,d,d,d,Number,d],function(n,c,e,i,r,u){p(u,v,F.catmullRom(t(n,v),t(c,v),t(e,v),t(i,v),r)),p(u,O,F.catmullRom(t(n,O),t(c,O),t(e,O),t(i,O),r)),p(u,L,F.catmullRom(t(n,L),t(c,L),t(e,L),t(i,L),r))}),d.catmullRom.apply(this,s)}static clamp(...s){return d.clamp=g().add([d,d,d],function(n,c,e){return new d(F.clamp(t(n,v),t(c,v),t(e,v)),F.clamp(t(n,O),t(c,O),t(e,O)),F.clamp(t(n,L),t(c,L),t(e,L)))}).add([d,d,d,d],function(n,c,e,i){p(i,v,F.clamp(t(n,v),t(c,v),t(e,v))),p(i,O,F.clamp(t(n,O),t(c,O),t(e,O))),p(i,L,F.clamp(t(n,L),t(c,L),t(e,L)))}),d.clamp.apply(this,s)}static cross(...s){return d.cross=g().add([d,d],function(n,c){let e=t(n,v),i=t(n,O),r=t(n,L),u=t(c,v),a=t(c,O),y=t(c,L),h=i*y-a*r,b=-(e*y-u*r),m=e*a-u*i;return new d(h,b,m)}).add([d,d,d],function(n,c,e){let i=t(n,v),r=t(n,O),u=t(n,L),a=t(c,v),y=t(c,O),h=t(c,L);p(e,v,r*h-y*u),p(e,O,-(i*h-a*u)),p(e,L,i*y-a*r)}),d.cross.apply(this,s)}static distance(...s){return d.distance=g().add([d,d],function(n,c){let e=t(n,v),i=t(n,O),r=t(n,L),u=t(c,v),a=t(c,O),y=t(c,L);return Math.sqrt((e-u)**2+(i-a)**2+(r-y)**2)}),d.distance.apply(this,s)}static distanceSquared(...s){return d.distanceSquared=g().add([d,d],function(n,c){let e=t(n,v),i=t(n,O),r=t(n,L),u=t(c,v),a=t(c,O),y=t(c,L);return(e-u)**2+(i-a)**2+(r-y)**2}),d.distanceSquared.apply(this,s)}static divide(...s){return d.divide=g().add([d,Number],function(n,c){let e=1/c;return new d(t(n,v)*e,t(n,O)*e,t(n,L)*e)}).add([d,Number,d],function(n,c,e){let i=1/c;p(e,v,t(n,v)*i),p(e,O,t(n,O)*i),p(e,L,t(n,L)*i)}).add([d,d],function(n,c){return new d(t(n,v)/t(c,v),t(n,O)/t(c,O),t(n,L)/t(c,L))}).add([d,d,d],function(n,c,e){p(e,v,t(n,v)/t(c,v)),p(e,O,t(n,O)/t(c,O)),p(e,L,t(n,L)/t(c,L))}),d.divide.apply(this,s)}static dot(...s){return d.dot=g().add([d,d],function(n,c){let e=t(n,v),i=t(n,O),r=t(n,L),u=t(c,v),a=t(c,O),y=t(c,L);return e*u+i*a+r*y}),d.dot.apply(this,s)}static hermite(...s){return d.hermite=g().add([d,d,d,d,Number],function(n,c,e,i,r){return new d(F.hermite(t(n,v),t(c,v),t(e,v),t(i,v),r),F.hermite(t(n,O),t(c,O),t(e,O),t(i,O),r),F.hermite(t(n,L),t(c,L),t(e,L),t(i,L),r))}).add([d,d,d,d,Number,d],function(n,c,e,i,r,u){p(u,v,F.hermite(t(n,v),t(c,v),t(e,v),t(i,v),r)),p(u,O,F.hermite(t(n,O),t(c,O),t(e,O),t(i,O),r)),p(u,L,F.hermite(t(n,L),t(c,L),t(e,L),t(i,L),r))}),d.hermite.apply(this,s)}static lerp(...s){return d.lerp=g().add([d,d,Number],function(n,c,e){return new d(F.lerp(t(n,v),t(c,v),e),F.lerp(t(n,O),t(c,O),e),F.lerp(t(n,L),t(c,L),e))}).add([d,d,Number,d],function(n,c,e,i){p(i,v,F.lerp(t(n,v),t(c,v),e)),p(i,O,F.lerp(t(n,O),t(c,O),e)),p(i,L,F.lerp(t(n,L),t(c,L),e))}),d.lerp.apply(this,s)}static max(...s){return d.max=g().add([d,d],function(n,c){return new d(Math.max(t(n,v),t(c,v)),Math.max(t(n,O),t(c,O)),Math.max(t(n,L),t(c,L)))}).add([d,d,d],function(n,c,e){p(e,v,Math.max(t(n,v),t(c,v))),p(e,O,Math.max(t(n,O),t(c,O))),p(e,L,Math.max(t(n,L),t(c,L)))}),d.max.apply(this,s)}static min(...s){return d.min=g().add([d,d],function(n,c){return new d(Math.min(t(n,v),t(c,v)),Math.min(t(n,O),t(c,O)),Math.min(t(n,L),t(c,L)))}).add([d,d,d],function(n,c,e){p(e,v,Math.min(t(n,v),t(c,v))),p(e,O,Math.min(t(n,O),t(c,O))),p(e,L,Math.min(t(n,L),t(c,L)))}),d.min.apply(this,s)}static multiply(...s){return d.multiply=g().add([d,Number],function(n,c){return new d(t(n,v)*c,t(n,O)*c,t(n,L)*c)}).add([d,Number,d],function(n,c,e){p(e,v,t(n,v)*c),p(e,O,t(n,O)*c),p(e,L,t(n,L)*c)}).add([d,d],function(n,c){return new d(t(n,v)*t(c,v),t(n,O)*t(c,O),t(n,L)*t(c,L))}).add([d,d,d],function(n,c,e){p(e,v,t(n,v)*t(c,v)),p(e,O,t(n,O)*t(c,O)),p(e,L,t(n,L)*t(c,L))}),d.multiply.apply(this,s)}static negate(...s){return d.negate=g().add([d],function(n){return new d(-t(n,v),-t(n,O),-t(n,L))}).add([d,d],function(n,c){p(c,v,-t(n,v)),p(c,O,-t(n,O)),p(c,L,-t(n,L))}),d.negate.apply(this,s)}static normalize(...s){return d.normalize=g().add([d],function(n){let c=1/Math.sqrt(t(n,v)**2+t(n,O)**2+t(n,L)**2);return new d(t(n,v)*c,t(n,O)*c,t(n,L)*c)}).add([d,d],function(n,c){let e=1/Math.sqrt(t(n,v)**2+t(n,O)**2+t(n,L)**2);p(c,v,t(n,v)*e),p(c,O,t(n,O)*e),p(c,L,t(n,L)*e)}),d.normalize.apply(this,s)}static reflect(...s){return d.reflect=g().add([d,d],function(n,c){let i=2*(t(n,v)*t(c,v)+t(n,O)*t(c,O)+t(n,L)*t(c,L));return new d(t(n,v)-t(c,v)*i,t(n,O)-t(c,O)*i,t(n,L)-t(c,L)*i)}).add([d,d,d],function(n,c,e){let r=2*(t(n,v)*t(c,v)+t(n,O)*t(c,O)+t(n,L)*t(c,L));p(e,v,t(n,v)-t(c,v)*r),p(e,O,t(n,O)-t(c,O)*r),p(e,L,t(n,L)-t(c,L)*r)}),d.reflect.apply(this,s)}static smoothStep(...s){return d.smoothStep=g().add([d,d,Number],function(n,c,e){return new d(F.smoothStep(t(n,v),t(c,v),e),F.smoothStep(t(n,O),t(c,O),e),F.smoothStep(t(n,L),t(c,L),e))}).add([d,d,Number,d],function(n,c,e,i){p(i,v,F.smoothStep(t(n,v),t(c,v),e)),p(i,O,F.smoothStep(t(n,O),t(c,O),e)),p(i,L,F.smoothStep(t(n,L),t(c,L),e))}),d.smoothStep.apply(this,s)}static subtract(...s){return d.subtract=g().add([d,d],function(n,c){return new d(t(n,v)-t(c,v),t(n,O)-t(c,O),t(n,L)-t(c,L))}).add([d,d,d],function(n,c,e){p(e,v,t(n,v)-t(c,v)),p(e,O,t(n,O)-t(c,O)),p(e,L,t(n,L)-t(c,L))}),d.subtract.apply(this,s)}static transform(...s){return d.transform=g().add([d,tt],function(n,c){let e=t(n,v),i=t(n,O),r=t(n,L),u=e*c.m11+i*c.m21+r*c.m31+c.m41,a=e*c.m12+i*c.m22+r*c.m32+c.m42,y=e*c.m13+i*c.m23+r*c.m33+c.m43;return new d(u,a,y)}).add([d,tt,d],function(n,c,e){let i=t(n,v),r=t(n,O),u=t(n,L);p(e,v,i*c.m11+r*c.m21+u*c.m31+c.m41),p(e,O,i*c.m12+r*c.m22+u*c.m32+c.m42),p(e,L,i*c.m13+r*c.m23+u*c.m33+c.m43)}).add([d,ht],function(n,c){let e=c.x,i=c.y,r=c.z,u=c.w,a=t(n,v),y=t(n,O),h=t(n,L),b=2*(i*h-r*y),m=2*(r*a-e*h),V=2*(e*y-i*a);return new d(a+b*u+(i*V-r*m),y+m*u+(r*b-e*V),h+V*u+(e*m-i*b))}).add([d,ht,d],function(n,c,e){let i=c.x,r=c.y,u=c.z,a=c.w,y=t(n,v),h=t(n,O),b=t(n,L),m=2*(r*b-u*h),V=2*(u*y-i*b),M=2*(i*h-r*y);p(e,v,y+m*a+(r*M-u*V)),p(e,O,h+V*a+(u*m-i*M)),p(e,L,b+M*a+(i*V-r*m))}).add([_.T(d),Number,tt,_.T(d),Number,Number],function(n,c,e,i,r,u){if(n.length<c+u)throw new RangeError("sourceArray \u7684\u957F\u5EA6\u5C0F\u4E8E sourceIndex + length\u3002");if(i.length<r+u)throw new RangeError("destinationArray \u7684\u957F\u5EA6\u5C0F\u4E8E destinationIndex + length\u3002");for(let a=0;a<u;a++){let y=n[c+a],h=t(y,v),b=t(y,O),m=t(y,L);i[r+a]=new d(h*e.m11+b*e.m21+m*e.m31+e.m41,h*e.m12+b*e.m22+m*e.m32+e.m42,h*e.m13+b*e.m23+m*e.m33+e.m43)}}).add([_.T(d),Number,ht,_.T(d),Number,Number],function(n,c,e,i,r,u){if(n.length<c+u)throw new RangeError("sourceArray \u7684\u957F\u5EA6\u5C0F\u4E8E sourceIndex + length\u3002");if(i.length<r+u)throw new RangeError("destinationArray \u7684\u957F\u5EA6\u5C0F\u4E8E destinationIndex + length\u3002");let{x:a,y,z:h,w:b}=e;for(let m=0;m<u;m++){let V=n[c+m],M=t(V,v),S=t(V,O),N=t(V,L),R=2*(y*N-h*S),C=2*(h*M-a*N),T=2*(a*S-y*M);i[r+m]=new d(M+R*b+(y*T-h*C),S+C*b+(h*R-a*T),N+T*b+(a*C-y*R))}}).add([_.T(d),tt,_.T(d)],function(n,c,e){d.transform(n,0,c,e,0,n.length)}).add([_.T(d),ht,_.T(d)],function(n,c,e){d.transform(n,0,c,e,0,n.length)}),d.transform.apply(this,s)}static transformNormal(...s){return d.transformNormal=g().add([d,tt],function(n,c){let e=t(n,v),i=t(n,O),r=t(n,L),u=e*c.m11+i*c.m21+r*c.m31,a=e*c.m12+i*c.m22+r*c.m32,y=e*c.m13+i*c.m23+r*c.m33;return new d(u,a,y)}).add([d,tt,d],function(n,c,e){let i=t(n,v),r=t(n,O),u=t(n,L);p(e,v,i*c.m11+r*c.m21+u*c.m31),p(e,O,i*c.m12+r*c.m22+u*c.m32),p(e,L,i*c.m13+r*c.m23+u*c.m33)}).add([_.T(d),Number,tt,_.T(d),Number,Number],function(n,c,e,i,r,u){if(n.length<c+u)throw new RangeError("sourceArray \u7684\u957F\u5EA6\u5C0F\u4E8E sourceIndex + length\u3002");if(i.length<r+u)throw new RangeError("destinationArray \u7684\u957F\u5EA6\u5C0F\u4E8E destinationIndex + length\u3002");for(let a=0;a<u;a++){let y=n[c+a],h=t(y,v),b=t(y,O),m=t(y,L);i[r+a]=new d(h*e.m11+b*e.m21+m*e.m31,h*e.m12+b*e.m22+m*e.m32,h*e.m13+b*e.m23+m*e.m33)}}).add([_.T(d),tt,_.T(d)],function(n,c,e){d.transformNormal(n,0,c,e,0,n.length)}),d.transformNormal.apply(this,s)}static"-"(...s){return d["-"]=g([d],function(n){return d.negate(n)}),d["-"].apply(this,s)}"+"(...s){return d.prototype["+"]=g([d],function(n){return d.add(this,n)}),d.prototype["+"].apply(this,s)}"-"(...s){return d.prototype["-"]=g([d],function(n){return d.subtract(this,n)}),d.prototype["-"].apply(this,s)}"*"(...s){return d.prototype["*"]=g([d],function(n){return d.multiply(this,n)}),d.prototype["*"].apply(this,s)}"/"(...s){return d.prototype["/"]=g([d],function(n){return d.divide(this,n)}),d.prototype["/"].apply(this,s)}"=="(...s){return d.prototype["=="]=g([d],function(n){return this.equals(n)}),d.prototype["=="].apply(this,s)}"!="(...s){return d.prototype["!="]=g([d],function(n){return!this.equals(n)}),d.prototype["!="].apply(this,s)}equals(...s){return d.prototype.equals=g([d],function(n){return t(this,v)===t(n,v)&&t(this,O)===t(n,O)&&t(this,L)===t(n,L)}).any(()=>!1),d.prototype.equals.apply(this,s)}length(...s){return d.prototype.length=g([],function(){return Math.sqrt(t(this,v)**2+t(this,O)**2+t(this,L)**2)}),d.prototype.length.apply(this,s)}lengthSquared(...s){return d.prototype.lengthSquared=g([],function(){return t(this,v)**2+t(this,O)**2+t(this,L)**2}),d.prototype.lengthSquared.apply(this,s)}normalize(...s){return d.prototype.normalize=g([],function(){let n=1/Math.sqrt(t(this,v)**2+t(this,O)**2+t(this,L)**2);p(this,v,t(this,v)*n),p(this,O,t(this,O)*n),p(this,L,t(this,L)*n)}),d.prototype.normalize.apply(this,s)}toString(...s){return d.prototype.toString=g([],function(){return JSON.stringify(this)}),d.prototype.toString.apply(this,s)}toJSON(){return{x:t(this,v),y:t(this,O),z:t(this,L)}}};en=zt(null),v=new WeakMap,O=new WeakMap,L=new WeakMap,H(en,3,"x",Cn,d),H(en,3,"y",Qn,d),H(en,3,"z",qn,d),gt(en,d);var z=d;var an=Symbol("constructor"),vn,On,Tt,yn,qt,Bt=class Bt{constructor(...s){wt(yn,5,this);rt(this,Tt,null);rt(this,qt,null);Bt[an].apply(this,s)}get direction(){return t(this,Tt)}set direction(s){p(this,Tt,s)}get position(){return t(this,qt)}set position(s){p(this,qt,s)}static"##STRUCT_CONSTRUCTOR##"(){return new Bt}static[(On=[Mt(()=>z)],vn=[Mt(()=>z)],an)](...s){return Bt[an]=g().add([],function(){p(this,qt,z.zero),p(this,Tt,z.zero)}).add([z,z],function(n,c){p(this,qt,n),p(this,Tt,c)}),Bt[an].apply(this,s)}*[Symbol.iterator](){yield t(this,qt),yield t(this,Tt)}"=="(...s){return this.equals.apply(this,s)}"!="(...s){return!this.equals.apply(this,s)}intersects(...s){return Bt.prototype.intersects=g().add([It],function(n){let c=-1/0,e=1/0,i=t(this,qt).x,r=t(this,qt).y,u=t(this,qt).z,a=t(this,Tt).x,y=t(this,Tt).y,h=t(this,Tt).z,b=(m,V,M,S)=>{if(Math.abs(V)<Number.EPSILON){if(m<M||m>S)return!1}else{let N=(M-m)/V,R=(S-m)/V;if(N>R&&([N,R]=[R,N]),N>c&&(c=N),R<e&&(e=R),c>e)return!1}return!0};return!b(i,a,n.min.x,n.max.x)||!b(r,y,n.min.y,n.max.y)||!b(u,h,n.min.z,n.max.z)?null:c<0&&e>0?0:c<0?null:c}).add([Yt],function(n){return n.intersects(this)}).add([Et],function(n){let c=z.subtract(n.center,t(this,qt)),e=c.lengthSquared(),i=n.radius*n.radius;if(e<i)return 0;let r=z.dot(t(this,Tt),c);if(r<0)return null;let u=i+r*r-e;return u<0?null:r-Math.sqrt(u)}).add([ft],function(n){let c=z.dot(t(this,Tt),n.normal);if(Math.abs(c)<1e-5)return null;let e=(-n.d-z.dot(n.normal,t(this,qt)))/c;if(e<0){if(e<-1e-5)return null;e=0}return e}),Bt.prototype.intersects.apply(this,s)}equals(...s){return Bt.prototype.equals=g([Bt],function(n){return t(this,Tt).equals(t(n,Tt))&&t(this,qt).equals(t(n,qt))}).any(()=>!1),Bt.prototype.equals.apply(this,s)}toString(...s){return Bt.prototype.toString=g([],function(){return JSON.stringify(this)}),Bt.prototype.toString.apply(this,s)}toJSON(){return{position:t(this,qt),direction:t(this,Tt)}}};yn=zt(null),Tt=new WeakMap,qt=new WeakMap,H(yn,3,"direction",On,Bt),H(yn,3,"position",vn,Bt),gt(yn,Bt);var Kt=Bt;var hn=Symbol("constructor"),Ln,Pn,ut,bn,$,ct=class ct{constructor(...s){wt(bn,5,this);rt(this,ut,null);rt(this,$,0);ct[hn].apply(this,s)}get center(){return t(this,ut)}set center(s){p(this,ut,s)}get radius(){return t(this,$)}set radius(s){p(this,$,s)}static"##STRUCT_CONSTRUCTOR##"(){return new ct}static[(Pn=[Mt(()=>z)],Ln=[st(Number)],hn)](...s){return ct[hn]=g().add([],function(){p(this,ut,z.zero),p(this,$,0)}).add([z,Number],function(n,c){p(this,ut,n),p(this,$,c)}),ct[hn].apply(this,s)}*[Symbol.iterator](){yield t(this,ut),yield t(this,$)}static createFromBoundingBox(...s){return ct.createFromBoundingBox=g().add([It],function(n){let c=new z((n.min.x+n.max.x)/2,(n.min.y+n.max.y)/2,(n.min.z+n.max.z)/2),e=z.distance(c,n.max);return new ct(c,e)}).add([It,ct],function(n,c){c.center=new z((n.min.x+n.max.x)/2,(n.min.y+n.max.y)/2,(n.min.z+n.max.z)/2),c.radius=z.distance(c.center,n.max)}),ct.createFromBoundingBox.apply(this,s)}static createFromFrustum(...s){return ct.createFromFrustum=g([Yt],function(n){return ct.createFromPoints(n.getCorners())}),ct.createFromFrustum.apply(this,s)}static createFromPoints(...s){return ct.createFromPoints=g([_.T(z)],function(n){if(n.length===0)throw new Error("points \u4E2D\u5E94\u81F3\u5C11\u5305\u542B\u4E00\u4E2A\u70B9\u3002");let c=new z(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),e=new z(Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(let b of n)c.x=Math.min(c.x,b.x),e.x=Math.max(e.x,b.x),c.y=Math.min(c.y,b.y),e.y=Math.max(e.y,b.y),c.z=Math.min(c.z,b.z),e.z=Math.max(e.z,b.z);let i=z.distanceSquared(new z(c.x,0,0),new z(e.x,0,0)),r=z.distanceSquared(new z(0,c.y,0),new z(0,e.y,0)),u=z.distanceSquared(new z(0,0,c.z),new z(0,0,e.z));r>i&&r>u?(c=new z(0,c.y,0),e=new z(0,e.y,0)):u>i&&u>r?(c=new z(0,0,c.z),e=new z(0,0,e.z)):(c=new z(c.x,0,0),e=new z(e.x,0,0));let a=z.multiply(z.add(c,e),.5),y=z.distance(e,a),h=y*y;for(let b of n){let m=z.subtract(b,a),V=m.lengthSquared();if(V>h){let M=Math.sqrt(V),S=z.divide(m,M),N=z.subtract(a,z.multiply(S,y));a=z.divide(z.add(N,b),2),y=z.distance(b,a),h=y*y}}return new ct(a,y)}),ct.createFromPoints.apply(this,s)}static createMerged(...s){return ct.createMerged=g().add([ct,ct],function(n,c){let e=z.subtract(t(c,ut),t(n,ut)),i=e.length();if(i<=t(n,$)+t(c,$)){if(i<=t(n,$)-t(c,$))return new ct(t(n,ut),t(n,$));if(i<=t(c,$)-t(n,$))return new ct(t(c,ut),t(c,$))}let r=Math.max(t(n,$)-i,t(c,$)),u=Math.max(t(n,$)+i,t(c,$)),a=(r-u)/(2*i);return e=z.add(e,z.multiply(e,a)),new ct(z.add(t(n,ut),e),(r+u)/2)}).add([ct,ct,ct],function(n,c,e){let i=z.subtract(t(c,ut),t(n,ut)),r=i.length();if(r<=t(n,$)+t(c,$)){if(r<=t(n,$)-t(c,$)){p(e,ut,t(n,ut)),p(e,$,t(n,$));return}if(r<=t(c,$)-t(n,$)){p(e,ut,t(c,ut)),p(e,$,t(c,$));return}}let u=Math.max(t(n,$)-r,t(c,$)),a=Math.max(t(n,$)+r,t(c,$)),y=(u-a)/(2*r);i=z.add(i,z.multiply(i,y)),p(e,ut,z.add(t(n,ut),i)),p(e,$,(u+a)/2)}),ct.createMerged.apply(this,s)}"=="(...s){return this.equals.apply(this,s)}"!="(...s){return!this.equals.apply(this,s)}contains(...s){return ct.prototype.contains=g().add([It],function(n){let c=!0;if(n.getCorners().forEach(u=>{this.contains(u)===D.disjoint&&(c=!1)}),c)return D.contains;let i=0,r=(u,a,y)=>u<a?(u-a)*(u-a):u>y?(u-y)*(u-y):0;return i+=r(t(this,ut).x,n.min.x,n.max.x),i+=r(t(this,ut).y,n.min.y,n.max.y),i+=r(t(this,ut).z,n.min.z,n.max.z),i<=t(this,$)**2?D.intersects:D.disjoint}).add([Yt],function(n){let c=!0,e=n.getCorners();for(var i=0;i<e.length;i++)if(this.contains(e[i])===D.disjoint){c=!1;break}return c?D.contains:n.intersects(this)?D.intersects:D.disjoint}).add([ct],function(n){let c=z.distanceSquared(t(n,ut),t(this,ut)),e=t(n,$)+t(this,$),i=t(this,$)-t(n,$);return c>e*e?D.disjoint:i>=0&&c<=i*i?D.contains:D.intersects}).add([z],function(n){let c=t(this,$)**2,e=z.distanceSquared(n,t(this,ut));return e>c?D.disjoint:e<c?D.contains:D.intersects}),ct.prototype.contains.apply(this,s)}equals(...s){return ct.prototype.equals=g([ct],function(n){return t(this,ut).equals(t(n,ut))&&t(this,$)===t(n,$)}).any(()=>!1),ct.prototype.equals.apply(this,s)}intersects(...s){return ct.prototype.intersects=g().add([ft],function(n){let c=z.dot(n.normal,t(this,ut));return c+=n.d,c>t(this,$)?Nt.front:c<-t(this,$)?Nt.back:Nt.intersecting}).add([It],function(n){return n.intersects(this)}).add([Yt],function(n){return n.intersects(this)}).add([ct],function(n){return!(z.distanceSquared(t(n,ut),t(this,ut))>(t(n,$)+t(this,$))**2)}).add([Kt],function(n){return n.intersects(this)}),ct.prototype.intersects.apply(this,s)}transform(...s){return ct.prototype.transform=g().add([tt],function(n){let c=new ct;p(c,ut,z.transform(t(this,ut),n));let e=n.m11,i=n.m12,r=n.m13,u=n.m21,a=n.m22,y=n.m23,h=n.m31,b=n.m32,m=n.m33,V=Math.max(e*e+i*i+r*r,u*u+a*a+y*y),M=Math.max(V,h*h+b*b+m*m);return p(c,$,t(this,$)*Math.sqrt(M)),c}).add([tt,ct],function(n,c){p(c,ut,z.transform(t(this,ut),n));let e=n.m11,i=n.m12,r=n.m13,u=n.m21,a=n.m22,y=n.m23,h=n.m31,b=n.m32,m=n.m33,V=Math.max(e*e+i*i+r*r,u*u+a*a+y*y),M=Math.max(V,h*h+b*b+m*m);p(c,$,t(this,$)*Math.sqrt(M))}),ct.prototype.transform.apply(this,s)}toString(...s){return ct.prototype.toString=g([],function(){return JSON.stringify(this)}),ct.prototype.toString.apply(this,s)}toJSON(){return{center:t(this,ut).toJSON(),radius:t(this,$)}}};bn=zt(null),ut=new WeakMap,$=new WeakMap,H(bn,3,"center",Pn,ct),H(bn,3,"radius",Ln,ct),gt(bn,ct);var Et=ct;var dn=Symbol("constructor"),Fn,tn,rn,Dt,Nn,xt,Qt,Vt,An,En,$t,_t,dt=class dt{constructor(...s){wt(Nn,5,this);rt(this,Vt);rt(this,Dt,null);rt(this,xt,null);rt(this,Qt,null);dt[dn].apply(this,s)}static get cornerCount(){return 8}get matrix(){return t(this,Dt)}set matrix(s){p(this,Dt,s),Rt(this,Vt,En).call(this),Rt(this,Vt,An).call(this)}get near(){return t(this,Qt)[0]}get far(){return t(this,Qt)[1]}get left(){return t(this,Qt)[2]}get right(){return t(this,Qt)[3]}get top(){return t(this,Qt)[4]}get bottom(){return t(this,Qt)[5]}static[(Fn=[Mt(()=>tt)],dn)](...s){return dt[dn]=g([tt],function(n){this.matrix=n}),dt[dn].apply(this,s)}*[Symbol.iterator](){yield t(this,Dt)}"=="(...s){return this.equals.apply(this,s)}"!="(...s){return!this.equals.apply(this,s)}contains(...s){return dt.prototype.contains=g().add([It],function(n){let c=!1,e=t(dt,tn,rn);for(let i=0;i<e;++i)switch(n.intersects(t(this,Qt)[i])){case Nt.front:return D.disjoint;case Nt.intersecting:c=!0;break}return c?D.intersects:D.contains}).add([dt],function(n){if(this===n)return D.contains;let c=!1,e=t(dt,tn,rn);for(let i=0;i<e;++i)switch(n.intersects(t(this,Qt)[i])){case Nt.front:return D.disjoint;case Nt.intersecting:c=!0;break}return c?D.intersects:D.contains}).add([Et],function(n){let c=!1,e=t(dt,tn,rn);for(let i=0;i<e;++i)switch(n.intersects(t(this,Qt)[i])){case Nt.front:return D.disjoint;case Nt.intersecting:c=!0;break}return c?D.intersects:D.contains}).add([z],function(n){let c=t(dt,tn,rn);for(let e=0;e<c;++e){let i=t(this,Qt)[e];if(n.x*i.normal.x+n.y*i.normal.y+n.z*i.normal.z+i.d>0)return D.disjoint}return D.contains}),dt.prototype.contains.apply(this,s)}equals(...s){return dt.prototype.equals=g([dt],function(n){return t(this,Dt).equals(t(n,Dt))}).any(()=>!1),dt.prototype.equals.apply(this,s)}getCorners(...s){return dt.prototype.getCorners=g().add([],function(){let n=new _(z),c=t(this,xt);for(let e=0;e<c.length;e++)n.add(new z(c[e].x,c[e].y,c[e].z));return n}).add([_.T(z)],function(n){if(n.length<dt.cornerCount)throw new RangeError("corners \u7684\u957F\u5EA6\u5C0F\u4E8E BoundingFrustum.cornerCount\u3002");let c=t(this,xt);for(let e=0;e<c.length;e++)n[e].x=c[e].x,n[e].y=c[e].y,n[e].z=c[e].z}),dt.prototype.getCorners.apply(this,s)}intersects(...s){return dt.prototype.intersects=g().add([ft],function(n){let c=t(this,xt),e=n.intersects(c[0]);for(var i=1;i<c.length;i++)n.intersects(c[i])!=e&&(e=Nt.intersecting);return e}).add([It],function(n){return this.contains(n)!==D.disjoint}).add([dt],function(n){return this.contains(n)!==D.disjoint}).add([Et],function(n){return this.contains(n)!==D.disjoint}).add([Kt],function(n){switch(this.contains(n.position)){case D.disjoint:return null;case D.contains:return 0;case D.intersects:return 0;default:throw new RangeError}}),dt.prototype.intersects.apply(this,s)}toString(...s){return dt.prototype.toString=g([],function(){return JSON.stringify(this)}),dt.prototype.toString.apply(this,s)}toJSON(){return{near:this.near,far:this.far,left:this.left,right:this.right,top:this.top,bottom:this.bottom}}};Nn=zt(null),tn=new WeakSet,rn=function(){return 6},Dt=new WeakMap,xt=new WeakMap,Qt=new WeakMap,Vt=new WeakSet,An=function(){p(this,xt,new _(z));let s=t(this,Qt);t(this,xt).addRange([Rt(this,Vt,$t).call(this,s[0],s[2],s[4]),Rt(this,Vt,$t).call(this,s[0],s[3],s[4]),Rt(this,Vt,$t).call(this,s[0],s[3],s[5]),Rt(this,Vt,$t).call(this,s[0],s[2],s[5]),Rt(this,Vt,$t).call(this,s[1],s[2],s[4]),Rt(this,Vt,$t).call(this,s[1],s[3],s[4]),Rt(this,Vt,$t).call(this,s[1],s[3],s[5]),Rt(this,Vt,$t).call(this,s[1],s[2],s[5])])},En=function(){p(this,Qt,new _(ft));let s=t(this,Dt),n=t(this,Qt),c=s.m11,e=s.m12,i=s.m13,r=s.m14,u=s.m21,a=s.m22,y=s.m23,h=s.m24,b=s.m31,m=s.m32,V=s.m33,M=s.m34,S=s.m41,N=s.m42,R=s.m43,C=s.m44;n.addRange([new ft(-i,-y,-V,-R),new ft(i-r,y-h,V-M,R-C),new ft(-r-c,-h-u,-M-b,-C-S),new ft(c-r,u-h,b-M,S-C),new ft(e-r,a-h,m-M,N-C),new ft(-r-e,-h-a,-M-m,-C-N)]),Rt(this,Vt,_t).call(this,n[0]),Rt(this,Vt,_t).call(this,n[1]),Rt(this,Vt,_t).call(this,n[2]),Rt(this,Vt,_t).call(this,n[3]),Rt(this,Vt,_t).call(this,n[4]),Rt(this,Vt,_t).call(this,n[5])},$t=function(s,n,c){let e,i,r,u=z.cross(n.normal,c.normal),a=z.dot(s.normal,u);a*=-1,u=z.cross(n.normal,c.normal),e=z.multiply(u,s.d),u=z.cross(c.normal,s.normal),i=z.multiply(u,n.d),u=z.cross(s.normal,n.normal),r=z.multiply(u,c.d);let y=(e.x+i.x+r.x)/a,h=(e.y+i.y+r.y)/a,b=(e.z+i.z+r.z)/a;return new z(y,h,b)},_t=function(s){let n=s.normal,c=1/n.length();n.x*=c,n.y*=c,n.z*=c,s.d*=c},H(Nn,3,"matrix",Fn,dt),rt(dt,tn),gt(Nn,dt);var Yt=dt;var ln=Symbol("constructor"),In,Yn,cn,jn,kn,at,mn,yt,et=class et{constructor(...s){wt(mn,5,this);rt(this,at,null);rt(this,yt,null);et[ln].apply(this,s)}static get cornerCount(){return 8}get max(){return t(this,at)}set max(s){p(this,at,s)}get min(){return t(this,yt)}set min(s){p(this,yt,s)}static"##STRUCT_CONSTRUCTOR##"(){return new et}static[(Yn=[Mt(()=>z)],In=[Mt(()=>z)],ln)](...s){return et[ln]=g().add([],function(){p(this,yt,z.zero),p(this,at,z.zero)}).add([z,z],function(n,c){p(this,yt,n),p(this,at,c)}),et[ln].apply(this,s)}*[Symbol.iterator](){yield t(this,yt),yield t(this,at)}static createFromPoints(...s){return et.createFromPoints=g([_.T(z)],function(n){let c=!0,e=t(et,cn,jn),i=t(et,cn,kn);for(let r=0;r<n.length;r++){let{x:u,y:a,z:y}=n[r];e.x=e.x<u?e.x:u,e.y=e.y<a?e.y:a,e.z=e.z<y?e.z:y,i.x=i.x>u?i.x:u,i.y=i.y>a?i.y:a,i.z=i.z>y?i.z:y,c=!1}if(c)throw new RangeError("\u5217\u8868\u4E2D\u6CA1\u6709\u70B9\u3002");return new et(e,i)}),et.createFromPoints.apply(this,s)}static createFromSphere(...s){return et.createFromSphere=g().add([Et],function(n){let c=new z(n.radius);return new et(z.subtract(n.center,c),z.add(n.center,c))}).add([Et,et],function(n,c){let e=new z(n.radius);c.min=z.subtract(n.center,e),c.max=z.add(n.center,e)}),et.createFromSphere.apply(this,s)}static createMerged(...s){return et.createMerged=g().add([et,et],function(n,c){let e=t(n,yt),i=t(n,at),r=t(c,yt),u=t(c,at),a=new z(Math.min(e.x,r.x),Math.min(e.y,r.y),Math.min(e.z,r.z)),y=new z(Math.max(i.x,u.x),Math.max(i.y,u.y),Math.max(i.z,u.z));return new et(a,y)}).add([et,et,et],function(n,c,e){let i=t(n,yt),r=t(n,at),u=t(c,yt),a=t(c,at);e.min=new z(Math.min(i.x,u.x),Math.min(i.y,u.y),Math.min(i.z,u.z)),e.max=new z(Math.max(r.x,a.x),Math.max(r.y,a.y),Math.max(r.z,a.z))}),et.createMerged.apply(this,s)}"=="(...s){return this.equals.apply(this,s)}"!="(...s){return!this.equals.apply(this,s)}contains(...s){return et.prototype.contains=g().add([et],function(n){let c=t(n,yt),e=t(n,at),i=t(this,yt),r=t(this,at);return e.x<i.x||c.x>r.x||e.y<i.y||c.y>r.y||e.z<i.z||c.z>r.z?D.disjoint:c.x>=i.x&&e.x<=r.x&&c.y>=i.y&&e.y<=r.y&&c.z>=i.z&&e.z<=r.z?D.contains:D.intersects}).add([Yt],function(n){let c=n.getCorners(),e;for(e=0;e<c.length&&this.contains(c[e])!==D.disjoint;e++);return e===c.length?D.contains:this.intersects(n)?D.intersects:D.disjoint}).add([Et],function(n){let c=n.radius,e=n.center,i=e.x,r=e.y,u=e.z,a=t(this,yt).x,y=t(this,yt).y,h=t(this,yt).z,b=t(this,at).x,m=t(this,at).y,V=t(this,at).z;if(i-a>=c&&r-y>=c&&u-h>=c&&b-i>=c&&m-r>=c&&V-u>=c)return D.contains;let M=0,S=[{c:i,min:a,max:b},{c:r,min:y,max:m},{c:u,min:h,max:V}];for(let{c:N,min:R,max:C}of S){let T=N-R;if(T<0){if(T<-c)return D.disjoint;M+=T*T}else if(T=N-C,T>0){if(T>c)return D.disjoint;M+=T*T}}return M<=c*c?D.intersects:D.disjoint}).add([z],function(n){let c=n.x,e=n.y,i=n.z,r=t(this,yt).x,u=t(this,yt).y,a=t(this,yt).z,y=t(this,at).x,h=t(this,at).y,b=t(this,at).z;return c<r||c>y||e<u||e>h||i<a||i>b?D.disjoint:c==r||c==y||e==u||e==h||i==a||i==b?D.intersects:D.contains}),et.prototype.contains.apply(this,s)}equals(...s){return et.prototype.equals=g([et],function(n){return t(this,yt).equals(t(n,yt))&&t(this,at).equals(t(n,at))}).any(()=>!1),et.prototype.equals.apply(this,s)}getCorners(...s){return et.prototype.getCorners=g().add([],function(){let n=t(this,yt).x,c=t(this,yt).y,e=t(this,yt).z,i=t(this,at).x,r=t(this,at).y,u=t(this,at).z;return new _(z,[new z(n,r,u),new z(i,r,u),new z(i,c,u),new z(n,c,u),new z(n,r,e),new z(i,r,e),new z(i,c,e),new z(n,c,e)])}).add([_.T(z)],function(n){if(n.length<8)throw new RangeError("\u5217\u8868\u5FC5\u987B\u81F3\u5C11\u6709 8 \u4E2A\u5143\u7D20\u3002");let c=t(this,yt).x,e=t(this,yt).y,i=t(this,yt).z,r=t(this,at).x,u=t(this,at).y,a=t(this,at).z,y=[{x:c,y:u,z:a},{x:r,y:u,z:a},{x:r,y:e,z:a},{x:c,y:e,z:a},{x:c,y:u,z:i},{x:r,y:u,z:i},{x:r,y:e,z:i},{x:c,y:e,z:i}];for(let h=0;h<8;h++)n[h].x=y[h].x,n[h].y=y[h].y,n[h].z=y[h].z}),et.prototype.getCorners.apply(this,s)}intersects(...s){return et.prototype.intersects=g().add([et],function(n){let c=t(this,yt).x,e=t(this,yt).y,i=t(this,yt).z,r=t(this,at).x,u=t(this,at).y,a=t(this,at).z,y=n.min.x,h=n.min.y,b=n.min.z,m=n.max.x,V=n.max.y,M=n.max.z;return r>=y&&c<=m?u<h||e>V?!1:a>=b&&i<=M:!1}).add([Yt],function(n){return n.intersects(this)}).add([Et],function(n){return this.contains(n)!==D.disjoint}).add([ft],function(n){let c=new z,e=new z,i=n.normal,r=i.x,u=i.y,a=i.z,y=n.d,h=t(this,yt).x,b=t(this,yt).y,m=t(this,yt).z,V=t(this,at).x,M=t(this,at).y,S=t(this,at).z,N=(C,T,P,j,X,k)=>{C>=0?(j[k]=P,X[k]=T):(j[k]=T,X[k]=P)};N(r,h,V,c,e,"x"),N(u,b,M,c,e,"y"),N(a,m,S,c,e,"z");let R=r*e.x+u*e.y+a*e.z+y;return R>0?Nt.front:(R=r*c.x+u*c.y+a*c.z+y,R<0?Nt.back:Nt.intersecting)}).add([Kt],function(n){return n.intersects(this)}),et.prototype.intersects.apply(this,s)}toString(...s){return et.prototype.toString=g([],function(){return JSON.stringify(this)}),et.prototype.toString.apply(this,s)}toJSON(){return{min:t(this,yt),max:t(this,at)}}};mn=zt(null),cn=new WeakSet,jn=function(){return new z(Number.MAX_SAFE_INTEGER)},kn=function(){return new z(Number.MIN_SAFE_INTEGER)},at=new WeakMap,yt=new WeakMap,H(mn,3,"max",Yn,et),H(mn,3,"min",In,et),rt(et,cn),gt(mn,et);var It=et;var fn=Symbol("constructor"),Xn,Zn,Jn,Un,E,on,I,Y,A,f=class f{constructor(...s){wt(on,5,this);rt(this,E,0);rt(this,I,0);rt(this,Y,0);rt(this,A,0);f[fn].apply(this,s)}static get one(){return new f(1,1,1,1)}static get unitW(){return new f(0,0,0,1)}static get unitX(){return new f(1,0,0,0)}static get unitY(){return new f(0,1,0,0)}static get unitZ(){return new f(0,0,1,0)}static get zero(){return new f(0,0,0,0)}get x(){return t(this,E)}set x(s){p(this,E,s)}get y(){return t(this,I)}set y(s){p(this,I,s)}get z(){return t(this,Y)}set z(s){p(this,Y,s)}get w(){return t(this,A)}set w(s){p(this,A,s)}static"##STRUCT_CONSTRUCTOR##"(){return f.zero}static[(Un=[st(Number)],Jn=[st(Number)],Zn=[st(Number)],Xn=[st(Number)],fn)](...s){return f[fn]=g().add([],function(){}).add([Number],function(n){p(this,E,n),p(this,I,n),p(this,Y,n),p(this,A,n)}).add([Number,Number,Number,Number],function(n,c,e,i){p(this,E,n),p(this,I,c),p(this,Y,e),p(this,A,i)}).add([Ut,Number,Number],function(n,c,e){p(this,E,n.x),p(this,I,n.y),p(this,Y,c),p(this,A,e)}).add([z,Number],function(n,c){p(this,E,n.x),p(this,I,n.y),p(this,Y,n.z),p(this,A,c)}),f[fn].apply(this,s)}*[Symbol.iterator](){yield t(this,E),yield t(this,I),yield t(this,Y),yield t(this,A)}static add(...s){return f.add=g().add([f,f],function(n,c){return new f(t(n,E)+t(c,E),t(n,I)+t(c,I),t(n,Y)+t(c,Y),t(n,A)+t(c,A))}).add([f,f,f],function(n,c,e){p(e,E,t(n,E)+t(c,E)),p(e,I,t(n,I)+t(c,I)),p(e,Y,t(n,Y)+t(c,Y)),p(e,A,t(n,A)+t(c,A))}),f.add.apply(this,s)}static barycentric(...s){return f.barycentric=g().add([f,f,f,Number,Number],function(n,c,e,i,r){return new f(F.barycentric(t(n,E),t(c,E),t(e,E),i,r),F.barycentric(t(n,I),t(c,I),t(e,I),i,r),F.barycentric(t(n,Y),t(c,Y),t(e,Y),i,r),F.barycentric(t(n,A),t(c,A),t(e,A),i,r))}).add([f,f,f,Number,Number,f],function(n,c,e,i,r,u){p(u,E,F.barycentric(t(n,E),t(c,E),t(e,E),i,r)),p(u,I,F.barycentric(t(n,I),t(c,I),t(e,I),i,r)),p(u,Y,F.barycentric(t(n,Y),t(c,Y),t(e,Y),i,r)),p(u,A,F.barycentric(t(n,A),t(c,A),t(e,A),i,r))}),f.barycentric.apply(this,s)}static catmullRom(...s){return f.catmullRom=g().add([f,f,f,f,Number],function(n,c,e,i,r){return new f(F.catmullRom(t(n,E),t(c,E),t(e,E),t(i,E),r),F.catmullRom(t(n,I),t(c,I),t(e,I),t(i,I),r),F.catmullRom(t(n,Y),t(c,Y),t(e,Y),t(i,Y),r),F.catmullRom(t(n,A),t(c,A),t(e,A),t(i,A),r))}).add([f,f,f,f,Number,f],function(n,c,e,i,r,u){p(u,E,F.catmullRom(t(n,E),t(c,E),t(e,E),t(i,E),r)),p(u,I,F.catmullRom(t(n,I),t(c,I),t(e,I),t(i,I),r)),p(u,Y,F.catmullRom(t(n,Y),t(c,Y),t(e,Y),t(i,Y),r)),p(u,A,F.catmullRom(t(n,A),t(c,A),t(e,A),t(i,A),r))}),f.catmullRom.apply(this,s)}static clamp(...s){return f.clamp=g().add([f,f,f],function(n,c,e){return new f(F.clamp(t(n,E),t(c,E),t(e,E)),F.clamp(t(n,I),t(c,I),t(e,I)),F.clamp(t(n,Y),t(c,Y),t(e,Y)),F.clamp(t(n,A),t(c,A),t(e,A)))}).add([f,f,f,f],function(n,c,e,i){p(i,E,F.clamp(t(n,E),t(c,E),t(e,E))),p(i,I,F.clamp(t(n,I),t(c,I),t(e,I))),p(i,Y,F.clamp(t(n,Y),t(c,Y),t(e,Y))),p(i,A,F.clamp(t(n,A),t(c,A),t(e,A)))}),f.clamp.apply(this,s)}static distance(...s){return f.distance=g().add([f,f],function(n,c){let e=n.w-c.w,i=n.x-c.x,r=n.y-c.y,u=n.z-c.z;return Math.sqrt(e**2+i**2+r**2+u**2)}),f.distance.apply(this,s)}static distanceSquared(...s){return f.distanceSquared=g().add([f,f],function(n,c){let e=n.w-c.w,i=n.x-c.x,r=n.y-c.y,u=n.z-c.z;return e**2+i**2+r**2+u**2}),f.distanceSquared.apply(this,s)}static divide(...s){return f.divide=g().add([f,Number],function(n,c){let e=1/c;return new f(t(n,E)*e,t(n,I)*e,t(n,Y)*e,t(n,A)*e)}).add([f,Number,f],function(n,c,e){let i=1/c;p(e,E,t(n,E)*i),p(e,I,t(n,I)*i),p(e,Y,t(n,Y)*i),p(e,A,t(n,A)*i)}).add([f,f],function(n,c){return new f(t(n,E)/t(c,E),t(n,I)/t(c,I),t(n,Y)/t(c,Y),t(n,A)/t(c,A))}).add([f,f,f],function(n,c,e){p(e,E,t(n,E)/t(c,E)),p(e,I,t(n,I)/t(c,I)),p(e,Y,t(n,Y)/t(c,Y)),p(e,A,t(n,A)/t(c,A))}),f.divide.apply(this,s)}static dot(...s){return f.dot=g().add([f,f],function(n,c){let e=t(n,E),i=t(n,I),r=t(n,Y),u=t(n,A),a=t(c,E),y=t(c,I),h=t(c,Y),b=t(c,A);return e*a+i*y+r*h+u*b}),f.dot.apply(this,s)}static hermite(...s){return f.hermite=g().add([f,f,f,f,Number],function(n,c,e,i,r){return new f(F.hermite(t(n,E),t(c,E),t(e,E),t(i,E),r),F.hermite(t(n,I),t(c,I),t(e,I),t(i,I),r),F.hermite(t(n,Y),t(c,Y),t(e,Y),t(i,Y),r),F.hermite(t(n,A),t(c,A),t(e,A),t(i,A),r))}).add([f,f,f,f,Number,f],function(n,c,e,i,r,u){p(u,E,F.hermite(t(n,E),t(c,E),t(e,E),t(i,E),r)),p(u,I,F.hermite(t(n,I),t(c,I),t(e,I),t(i,I),r)),p(u,Y,F.hermite(t(n,Y),t(c,Y),t(e,Y),t(i,Y),r)),p(u,A,F.hermite(t(n,A),t(c,A),t(e,A),t(i,A),r))}),f.hermite.apply(this,s)}static lerp(...s){return f.lerp=g().add([f,f,Number],function(n,c,e){return new f(F.lerp(t(n,E),t(c,E),e),F.lerp(t(n,I),t(c,I),e),F.lerp(t(n,Y),t(c,Y),e),F.lerp(t(n,A),t(c,A),e))}).add([f,f,Number,f],function(n,c,e,i){p(i,E,F.lerp(t(n,E),t(c,E),e)),p(i,I,F.lerp(t(n,I),t(c,I),e)),p(i,Y,F.lerp(t(n,Y),t(c,Y),e)),p(i,A,F.lerp(t(n,A),t(c,A),e))}),f.lerp.apply(this,s)}static max(...s){return f.max=g().add([f,f],function(n,c){return new f(Math.max(t(n,E),t(c,E)),Math.max(t(n,I),t(c,I)),Math.max(t(n,Y),t(c,Y)),Math.max(t(n,A),t(c,A)))}).add([f,f,f],function(n,c,e){p(e,E,Math.max(t(n,E),t(c,E))),p(e,I,Math.max(t(n,I),t(c,I))),p(e,Y,Math.max(t(n,Y),t(c,Y))),p(e,A,Math.max(t(n,A),t(c,A)))}),f.max.apply(this,s)}static min(...s){return f.min=g().add([f,f],function(n,c){return new f(Math.min(t(n,E),t(c,E)),Math.min(t(n,I),t(c,I)),Math.min(t(n,Y),t(c,Y)),Math.min(t(n,A),t(c,A)))}).add([f,f,f],function(n,c,e){p(e,E,Math.min(t(n,E),t(c,E))),p(e,I,Math.min(t(n,I),t(c,I))),p(e,Y,Math.min(t(n,Y),t(c,Y))),p(e,A,Math.min(t(n,A),t(c,A)))}),f.min.apply(this,s)}static multiply(...s){return f.multiply=g().add([f,Number],function(n,c){return new f(t(n,E)*c,t(n,I)*c,t(n,Y)*c,t(n,A)*c)}).add([f,Number,f],function(n,c,e){p(e,E,t(n,E)*c),p(e,I,t(n,I)*c),p(e,Y,t(n,Y)*c),p(e,A,t(n,A)*c)}).add([f,f],function(n,c){return new f(t(n,E)*t(c,E),t(n,I)*t(c,I),t(n,Y)*t(c,Y),t(n,A)*t(c,A))}).add([f,f,f],function(n,c,e){p(e,E,t(n,E)*t(c,E)),p(e,I,t(n,I)*t(c,I)),p(e,Y,t(n,Y)*t(c,Y)),p(e,A,t(n,A)*t(c,A))}),f.multiply.apply(this,s)}static negate(...s){return f.negate=g().add([f],function(n){return new f(-t(n,E),-t(n,I),-t(n,Y),-t(n,A))}).add([f,f],function(n,c){p(c,E,-t(n,E)),p(c,I,-t(n,I)),p(c,Y,-t(n,Y)),p(c,A,-t(n,A))}),f.negate.apply(this,s)}static normalize(...s){return f.normalize=g().add([f],function(n){let c=t(n,E),e=t(n,I),i=t(n,Y),r=t(n,A),u=1/Math.sqrt(c**2+e**2+i**2+r**2);return new f(c*u,e*u,i*u,r*u)}).add([f,f],function(n,c){let e=t(n,E),i=t(n,I),r=t(n,Y),u=t(n,A),a=1/Math.sqrt(e**2+i**2+r**2+u**2);p(c,E,e*a),p(c,I,i*a),p(c,Y,r*a),p(c,A,u*a)}),f.normalize.apply(this,s)}static smoothStep(...s){return f.smoothStep=g().add([f,f,Number],function(n,c,e){return new f(F.smoothStep(t(n,E),t(c,E),e),F.smoothStep(t(n,I),t(c,I),e),F.smoothStep(t(n,Y),t(c,Y),e),F.smoothStep(t(n,A),t(c,A),e))}).add([f,f,Number,f],function(n,c,e,i){p(i,E,F.smoothStep(t(n,E),t(c,E),e)),p(i,I,F.smoothStep(t(n,I),t(c,I),e)),p(i,Y,F.smoothStep(t(n,Y),t(c,Y),e)),p(i,A,F.smoothStep(t(n,A),t(c,A),e))}),f.smoothStep.apply(this,s)}static subtract(...s){return f.subtract=g().add([f,f],function(n,c){return new f(t(n,E)-t(c,E),t(n,I)-t(c,I),t(n,Y)-t(c,Y),t(n,A)-t(c,A))}).add([f,f,f],function(n,c,e){p(e,E,t(n,E)-t(c,E)),p(e,I,t(n,I)-t(c,I)),p(e,Y,t(n,Y)-t(c,Y)),p(e,A,t(n,A)-t(c,A))}),f.subtract.apply(this,s)}static transform(...s){return f.transform=g().add([Ut,tt],function(n,c){let e=n.x,i=n.y;return new f(e*c.m11+i*c.m21+c.m41,e*c.m12+i*c.m22+c.m42,e*c.m13+i*c.m23+c.m43,e*c.m14+i*c.m24+c.m44)}).add([Ut,tt,f],function(n,c,e){let i=n.x,r=n.y;p(e,E,i*c.m11+r*c.m21+c.m41),p(e,I,i*c.m12+r*c.m22+c.m42),p(e,Y,i*c.m13+r*c.m23+c.m43),p(e,A,i*c.m14+r*c.m24+c.m44)}).add([Ut,ht],function(n,c){let e=n.x,i=n.y,r=c.x,u=c.y,a=c.z,y=c.w,h=r+r,b=u+u,m=a+a,V=y*m,M=r*b,S=a*m;return new f(e*(1-u*b-S)+i*(M-V),e*(M+V)+i*(1-r*h-S),e*(r*m-y*b)+i*(u*m+y*h),1)}).add([Ut,ht,f],function(n,c,e){let i=n.x,r=n.y,u=c.x,a=c.y,y=c.z,h=c.w,b=u+u,m=a+a,V=y+y,M=h*V,S=u*m,N=y*V;p(e,E,i*(1-a*m-N)+r*(S-M)),p(e,I,i*(S+M)+r*(1-u*b-N)),p(e,Y,i*(u*V-h*m)+r*(a*V+h*b)),p(e,A,1)}).add([z,tt],function(n,c){let e=n.x,i=n.y,r=n.z;return new f(e*c.m11+i*c.m21+r*c.m31+c.m41,e*c.m12+i*c.m22+r*c.m32+c.m42,e*c.m13+i*c.m23+r*c.m33+c.m43,e*c.m14+i*c.m24+r*c.m34+c.m44)}).add([z,tt,f],function(n,c,e){let i=n.x,r=n.y,u=n.z;p(e,E,i*c.m11+r*c.m21+u*c.m31+c.m41),p(e,I,i*c.m12+r*c.m22+u*c.m32+c.m42),p(e,Y,i*c.m13+r*c.m23+u*c.m33+c.m43),p(e,A,i*c.m14+r*c.m24+u*c.m34+c.m44)}).add([z,ht],function(n,c){let e=n.x,i=n.y,r=n.z,u=c.x,a=c.y,y=c.z,h=c.w,b=u+u,m=a+a,V=y+y,M=h*b,S=h*m,N=h*V,R=u*b,C=u*m,T=u*V,P=a*m,j=a*V,X=y*V;return new f(e*(1-P-X)+i*(C-N)+r*(T+S),e*(C+N)+i*(1-R-X)+r*(j-M),e*(T-S)+i*(j+M)+r*(1-R-P),1)}).add([z,ht,f],function(n,c,e){let i=n.x,r=n.y,u=n.z,a=c.x,y=c.y,h=c.z,b=c.w,m=a+a,V=y+y,M=h+h,S=b*m,N=b*V,R=b*M,C=a*m,T=a*V,P=a*M,j=y*V,X=y*M,k=h*M;p(e,E,i*(1-j-k)+r*(T-R)+u*(P+N)),p(e,I,i*(T+R)+r*(1-C-k)+u*(X-S)),p(e,Y,i*(P-N)+r*(X+S)+u*(1-C-j)),p(e,A,1)}).add([f,tt],function(n,c){let e=t(n,E),i=t(n,I),r=t(n,Y),u=t(n,A);return new f(e*c.m11+i*c.m21+r*c.m31+u*c.m41,e*c.m12+i*c.m22+r*c.m32+u*c.m42,e*c.m13+i*c.m23+r*c.m33+u*c.m43,e*c.m14+i*c.m24+r*c.m34+u*c.m44)}).add([f,tt,f],function(n,c,e){let i=t(n,E),r=t(n,I),u=t(n,Y),a=t(n,A);p(e,E,i*c.m11+r*c.m21+u*c.m31+a*c.m41),p(e,I,i*c.m12+r*c.m22+u*c.m32+a*c.m42),p(e,Y,i*c.m13+r*c.m23+u*c.m33+a*c.m43),p(e,A,i*c.m14+r*c.m24+u*c.m34+a*c.m44)}).add([f,ht],function(n,c){let e=f.transform(new z(t(n,E),t(n,I),t(n,Y)),c);return e.w=t(n,A),e}).add([f,ht,f],function(n,c,e){f.transform(new z(t(n,E),t(n,I),t(n,Y)),c,e),p(e,A,t(n,A))}).add([_.T(f),Number,tt,_.T(f),Number,Number],function(n,c,e,i,r,u){if(n.length<c+u)throw new RangeError("sourceArray \u7684\u957F\u5EA6\u5C0F\u4E8E sourceIndex + length\u3002");if(i.length<r+u)throw new RangeError("destinationArray \u7684\u957F\u5EA6\u5C0F\u4E8E destinationIndex + length\u3002");for(let a=0;a<u;a++)i[r+a]=f.transform(n[c+a],e)}).add([_.T(f),Number,ht,_.T(f),Number,Number],function(n,c,e,i,r,u){if(n.length<c+u)throw new RangeError("sourceArray \u7684\u957F\u5EA6\u5C0F\u4E8E sourceIndex + length\u3002");if(i.length<r+u)throw new RangeError("destinationArray \u7684\u957F\u5EA6\u5C0F\u4E8E destinationIndex + length\u3002");for(let a=0;a<u;a++)i[r+a]=f.transform(n[c+a],e)}).add([_.T(f),tt,_.T(f)],function(n,c,e){f.transform(n,0,c,e,0,n.length)}).add([_.T(f),ht,_.T(f)],function(n,c,e){f.transform(n,0,c,e,0,n.length)}),f.transform.apply(this,s)}static"-"(...s){return f["-"]=g([f],function(n){return f.negate(n)}),f["-"].apply(this,s)}"+"(...s){return f.prototype["+"]=g([f],function(n){return f.add(this,n)}),f.prototype["+"].apply(this,s)}"-"(...s){return f.prototype["-"]=g([f],function(n){return f.subtract(this,n)}),f.prototype["-"].apply(this,s)}"*"(...s){return f.prototype["*"]=g([f],function(n){return f.multiply(this,n)}),f.prototype["*"].apply(this,s)}"/"(...s){return f.prototype["/"]=g([f],function(n){return f.divide(this,n)}),f.prototype["/"].apply(this,s)}"=="(...s){return f.prototype["=="]=g([f],function(n){return this.equals(n)}),f.prototype["=="].apply(this,s)}"!="(...s){return f.prototype["!="]=g([f],function(n){return!this.equals(n)}),f.prototype["!="].apply(this,s)}equals(...s){return f.prototype.equals=g([f],function(n){return t(this,E)===t(n,E)&&t(this,I)===t(n,I)&&t(this,Y)===t(n,Y)&&t(this,A)===t(n,A)}).any(()=>!1),f.prototype.equals.apply(this,s)}length(...s){return f.prototype.length=g([],function(){return Math.sqrt(t(this,E)**2+t(this,I)**2+t(this,Y)**2+t(this,A)**2)}),f.prototype.length.apply(this,s)}lengthSquared(...s){return f.prototype.lengthSquared=g([],function(){return t(this,E)**2+t(this,I)**2+t(this,Y)**2+t(this,A)**2}),f.prototype.lengthSquared.apply(this,s)}normalize(...s){return f.prototype.normalize=g().add([],function(){let n=1/Math.sqrt(t(this,E)**2+t(this,I)**2+t(this,Y)**2+t(this,A)**2);p(this,E,t(this,E)*n),p(this,I,t(this,I)*n),p(this,Y,t(this,Y)*n),p(this,A,t(this,A)*n)}),f.prototype.normalize.apply(this,s)}toString(...s){return f.prototype.toString=g().add([],function(){return JSON.stringify(this)}),f.prototype.toString.apply(this,s)}toJSON(){return{x:t(this,E),y:t(this,I),z:t(this,Y),w:t(this,A)}}};on=zt(null),E=new WeakMap,I=new WeakMap,Y=new WeakMap,A=new WeakMap,H(on,3,"x",Un,f),H(on,3,"y",Jn,f),H(on,3,"z",Zn,f),H(on,3,"w",Xn,f),gt(on,f);var Wt=f;var Vn=Symbol("constructor"),Wn,Gn,K,zn,bt,it=class it{constructor(...s){wt(zn,5,this);rt(this,K,null);rt(this,bt,0);p(this,K,z.zero),it[Vn].apply(this,s)}get normal(){return t(this,K)}set normal(s){p(this,K,s)}get d(){return t(this,bt)}set d(s){p(this,bt,s)}static"##STRUCT_CONSTRUCTOR##"(){return new it}static[(Gn=[Mt(()=>z)],Wn=[st(Number)],Vn)](...s){return it[Vn]=g().add([],function(){}).add([Number,Number,Number,Number],function(n,c,e,i){t(this,K).x=n,t(this,K).y=c,t(this,K).z=e,p(this,bt,i)}).add([z,Number],function(n,c){t(this,K).x=n.x,t(this,K).y=n.y,t(this,K).z=n.z,p(this,bt,c)}).add([z,z,z],function(n,c,e){let i=z.subtract(c,n),r=z.subtract(e,n),u=z.cross(i,r),a=z.normalize(u);t(this,K).x=a.x,t(this,K).y=a.y,t(this,K).z=a.z,p(this,bt,-z.dot(a,n))}).add([Wt],function(n){t(this,K).x=n.x,t(this,K).y=n.y,t(this,K).z=n.z,p(this,bt,n.w)}),it[Vn].apply(this,s)}*[Symbol.iterator](){yield t(this,K),yield t(this,bt)}static normalize(...s){return it.normalize=g().add([it],function(n){let c=new it;z.normalize(t(n,K),t(c,K));let e=t(c,K).x,i=t(c,K).y,r=t(c,K).z,u=t(n,K).x,a=t(n,K).y,y=t(n,K).z,h=Math.sqrt(e**2+i**2+r**2)/Math.sqrt(u**2+a**2+y**2);return p(c,bt,t(n,bt)*h),c}).add([it,it],function(n,c){z.normalize(t(n,K),t(c,K));let e=t(c,K).x,i=t(c,K).y,r=t(c,K).z,u=t(n,K).x,a=t(n,K).y,y=t(n,K).z,h=Math.sqrt(e**2+i**2+r**2)/Math.sqrt(u**2+a**2+y**2);p(c,bt,t(n,bt)*h)}),it.normalize.apply(this,s)}static transform(...s){return it.transform=g().add([it,tt],function(n,c){let e=tt.transpose(tt.invert(c)),i=new Wt(t(n,K),t(n,bt));return new it(Wt.transform(i,e))}).add([it,tt,it],function(n,c,e){let i=tt.transpose(tt.invert(c)),r=new Wt(t(n,K),t(n,bt));Wt.transform(r,i,r),t(e,K).x=r.x,t(e,K).y=r.y,t(e,K).z=r.z,p(e,bt,r.w)}).add([it,ht],function(n,c){let e=new it;return p(e,K,z.transform(t(n,K),c)),p(e,bt,t(n,bt)),e}).add([it,ht,it],function(n,c,e){z.transform(t(n,K),c,t(e,K)),p(e,bt,t(n,bt))}),it.transform.apply(this,s)}"=="(...s){return this.equals.apply(this,s)}"!="(...s){return!this.equals.apply(this,s)}dot(...s){return it.prototype.dot=g().add([Wt],function(n){let c=t(this,K),e=c.x,i=c.y,r=c.z,u=n.x,a=n.y,y=n.z,h=n.w;return e*u+i*a+r*y+t(this,bt)*h}),it.prototype.dot.apply(this,s)}dotCoordinate(...s){return it.prototype.dotCoordinate=g().add([z],function(n){let c=t(this,K),e=c.x,i=c.y,r=c.z,u=n.x,a=n.y,y=n.z;return e*u+i*a+r*y+t(this,bt)}),it.prototype.dotCoordinate.apply(this,s)}dotNormal(...s){return it.prototype.dotNormal=g().add([z],function(n){let c=t(this,K),e=c.x,i=c.y,r=c.z,u=n.x,a=n.y,y=n.z;return e*u+i*a+r*y}),it.prototype.dotNormal.apply(this,s)}equals(...s){return it.prototype.equals=g([it],function(n){return t(this,K).equals(t(n,K))&&t(this,bt)===t(n,bt)}).any(()=>!1),it.prototype.equals.apply(this,s)}intersects(...s){return it.prototype.intersects=g().add([It],function(n){return n.intersects(this)}).add([Yt],function(n){return n.intersects(this)}).add([Et],function(n){return n.intersects(this)}).add([z],function(n){let c=this.dotCoordinate(n);return c>0?Nt.front:c<0?Nt.back:Nt.intersecting}),it.prototype.intersects.apply(this,s)}normalize(...s){return it.prototype.normalize=g([],function(){let n=1/t(this,K).length();p(this,K,z.multiply(t(this,K),n)),p(this,bt,t(this,bt)*n)}),it.prototype.normalize.apply(this,s)}toString(...s){return it.prototype.toString=g([],function(){return JSON.stringify(this)}),it.prototype.toString.apply(this,s)}toJSON(){return{normal:t(this,K),d:t(this,bt)}}};zn=zt(null),K=new WeakMap,bt=new WeakMap,H(zn,3,"normal",Gn,it),H(zn,3,"d",Wn,it),gt(zn,it);var ft=it;var gn=Symbol("constructor"),Hn,Kn,$n,Dn,xn,_n,tc,nc,cc,oc,ec,ic,rc,sc,uc,pc,ac,yc,hc,bc,dc,lc,mc,mt,o,w=class w{constructor(...s){wt(mt,5,this);rt(this,o,new Float32Array(16));w[gn].apply(this,s)}static get identity(){return new w(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)}get m11(){return t(this,o)[0]}set m11(s){t(this,o)[0]=s}get m12(){return t(this,o)[1]}set m12(s){t(this,o)[1]=s}get m13(){return t(this,o)[2]}set m13(s){t(this,o)[2]=s}get m14(){return t(this,o)[3]}set m14(s){t(this,o)[3]=s}get m21(){return t(this,o)[4]}set m21(s){t(this,o)[4]=s}get m22(){return t(this,o)[5]}set m22(s){t(this,o)[5]=s}get m23(){return t(this,o)[6]}set m23(s){t(this,o)[6]=s}get m24(){return t(this,o)[7]}set m24(s){t(this,o)[7]=s}get m31(){return t(this,o)[8]}set m31(s){t(this,o)[8]=s}get m32(){return t(this,o)[9]}set m32(s){t(this,o)[9]=s}get m33(){return t(this,o)[10]}set m33(s){t(this,o)[10]=s}get m34(){return t(this,o)[11]}set m34(s){t(this,o)[11]=s}get m41(){return t(this,o)[12]}set m41(s){t(this,o)[12]=s}get m42(){return t(this,o)[13]}set m42(s){t(this,o)[13]=s}get m43(){return t(this,o)[14]}set m43(s){t(this,o)[14]=s}get m44(){return t(this,o)[15]}set m44(s){t(this,o)[15]=s}get backward(){return new z(t(this,o)[8],t(this,o)[9],t(this,o)[10])}set backward(s){t(this,o)[8]=s.x,t(this,o)[9]=s.y,t(this,o)[10]=s.z}get down(){return new z(-t(this,o)[4],-t(this,o)[5],-t(this,o)[6])}set down(s){t(this,o)[4]=-s.x,t(this,o)[5]=-s.y,t(this,o)[6]=-s.z}get forward(){return new z(-t(this,o)[8],-t(this,o)[9],-t(this,o)[10])}set forward(s){t(this,o)[8]=-s.x,t(this,o)[9]=-s.y,t(this,o)[10]=-s.z}get left(){return new z(-t(this,o)[0],-t(this,o)[1],-t(this,o)[2])}set left(s){t(this,o)[0]=-s.x,t(this,o)[1]=-s.y,t(this,o)[2]=-s.z}get right(){return new z(t(this,o)[0],t(this,o)[1],t(this,o)[2])}set right(s){t(this,o)[0]=s.x,t(this,o)[1]=s.y,t(this,o)[2]=s.z}get translation(){return new z(t(this,o)[12],t(this,o)[13],t(this,o)[14])}set translation(s){t(this,o)[12]=s.x,t(this,o)[13]=s.y,t(this,o)[14]=s.z}get up(){return new z(t(this,o)[4],t(this,o)[5],t(this,o)[6])}set up(s){t(this,o)[4]=s.x,t(this,o)[5]=s.y,t(this,o)[6]=s.z}get values(){return t(this,o)}static"##STRUCT_CONSTRUCTOR##"(){return new w}static[(mc=[st(Number)],lc=[st(Number)],dc=[st(Number)],bc=[st(Number)],hc=[st(Number)],yc=[st(Number)],ac=[st(Number)],pc=[st(Number)],uc=[st(Number)],sc=[st(Number)],rc=[st(Number)],ic=[st(Number)],ec=[st(Number)],oc=[st(Number)],cc=[st(Number)],nc=[st(Number)],tc=[Mt(()=>z)],_n=[Mt(()=>z)],xn=[Mt(()=>z)],Dn=[Mt(()=>z)],$n=[Mt(()=>z)],Kn=[Mt(()=>z)],Hn=[Mt(()=>z)],gn)](...s){return w[gn]=g().add([],function(){}).add([Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number,Number],function(n,c,e,i,r,u,a,y,h,b,m,V,M,S,N,R){t(this,o)[0]=n,t(this,o)[1]=c,t(this,o)[2]=e,t(this,o)[3]=i,t(this,o)[4]=r,t(this,o)[5]=u,t(this,o)[6]=a,t(this,o)[7]=y,t(this,o)[8]=h,t(this,o)[9]=b,t(this,o)[10]=m,t(this,o)[11]=V,t(this,o)[12]=M,t(this,o)[13]=S,t(this,o)[14]=N,t(this,o)[15]=R}),w[gn].apply(this,s)}*[Symbol.iterator](){let s=[t(this,o)[0],t(this,o)[1],t(this,o)[2],t(this,o)[3],t(this,o)[4],t(this,o)[5],t(this,o)[6],t(this,o)[7],t(this,o)[8],t(this,o)[9],t(this,o)[10],t(this,o)[11],t(this,o)[12],t(this,o)[13],t(this,o)[14],t(this,o)[15]];for(let n of s)yield n}static add(...s){return w.add=g().add([w,w],function(n,c){return new w(t(n,o)[0]+t(c,o)[0],t(n,o)[1]+t(c,o)[1],t(n,o)[2]+t(c,o)[2],t(n,o)[3]+t(c,o)[3],t(n,o)[4]+t(c,o)[4],t(n,o)[5]+t(c,o)[5],t(n,o)[6]+t(c,o)[6],t(n,o)[7]+t(c,o)[7],t(n,o)[8]+t(c,o)[8],t(n,o)[9]+t(c,o)[9],t(n,o)[10]+t(c,o)[10],t(n,o)[11]+t(c,o)[11],t(n,o)[12]+t(c,o)[12],t(n,o)[13]+t(c,o)[13],t(n,o)[14]+t(c,o)[14],t(n,o)[15]+t(c,o)[15])}).add([w,w,w],function(n,c,e){t(e,o)[0]=t(n,o)[0]+t(c,o)[0],t(e,o)[1]=t(n,o)[1]+t(c,o)[1],t(e,o)[2]=t(n,o)[2]+t(c,o)[2],t(e,o)[3]=t(n,o)[3]+t(c,o)[3],t(e,o)[4]=t(n,o)[4]+t(c,o)[4],t(e,o)[5]=t(n,o)[5]+t(c,o)[5],t(e,o)[6]=t(n,o)[6]+t(c,o)[6],t(e,o)[7]=t(n,o)[7]+t(c,o)[7],t(e,o)[8]=t(n,o)[8]+t(c,o)[8],t(e,o)[9]=t(n,o)[9]+t(c,o)[9],t(e,o)[10]=t(n,o)[10]+t(c,o)[10],t(e,o)[11]=t(n,o)[11]+t(c,o)[11],t(e,o)[12]=t(n,o)[12]+t(c,o)[12],t(e,o)[13]=t(n,o)[13]+t(c,o)[13],t(e,o)[14]=t(n,o)[14]+t(c,o)[14],t(e,o)[15]=t(n,o)[15]+t(c,o)[15]}),w.add.apply(this,s)}static createBillboard(...s){return w.createBillboard=g().add([z,z,z,[z,null]],function(n,c,e,i){let r=n.x,u=n.y,a=n.z,y=c.x,h=c.y,b=c.z,m=e.x,V=e.y,M=e.z,S=r-y,N=u-h,R=a-b,C=S*S+N*N+R*R;if(C<1e-4)i===null?(S=0,N=0,R=-1):(S=-i.x,N=-i.y,R=-i.z);else{let pt=1/Math.sqrt(C);S*=pt,N*=pt,R*=pt}let T=V*R-M*N,P=M*S-m*R,j=m*N-V*S,X=T*T+P*P+j*j,k=1/Math.sqrt(X);T*=k,P*=k,j*=k;let G=N*j-R*P,x=R*T-S*j,ot=S*P-N*T;return new w(T,P,j,0,G,x,ot,0,S,N,R,0,r,u,a,1)}).add([z,z,z,[z,null],w],function(n,c,e,i,r){let u=n.x,a=n.y,y=n.z,h=c.x,b=c.y,m=c.z,V=e.x,M=e.y,S=e.z,N=u-h,R=a-b,C=y-m,T=N*N+R*R+C*C;if(T<1e-4)i===null?(N=0,R=0,C=-1):(N=-i.x,R=-i.y,C=-i.z);else{let lt=1/Math.sqrt(T);N*=lt,R*=lt,C*=lt}let P=M*C-S*R,j=S*N-V*C,X=V*R-M*N,k=P*P+j*j+X*X,G=1/Math.sqrt(k);P*=G,j*=G,X*=G;let x=R*X-C*j,ot=C*P-N*X,pt=N*j-R*P;t(r,o)[0]=P,t(r,o)[1]=j,t(r,o)[2]=X,t(r,o)[3]=0,t(r,o)[4]=x,t(r,o)[5]=ot,t(r,o)[6]=pt,t(r,o)[7]=0,t(r,o)[8]=N,t(r,o)[9]=R,t(r,o)[10]=C,t(r,o)[11]=0,t(r,o)[12]=u,t(r,o)[13]=a,t(r,o)[14]=y,t(r,o)[15]=1}),w.createBillboard.apply(this,s)}static createConstrainedBillboard(...s){return w.createConstrainedBillboard=g().add([z,z,z,[z,null],[z,null]],function(n,c,e,i,r){let u=n.x,a=n.y,y=n.z,h=u-c.x,b=a-c.y,m=y-c.z,V=h*h+b*b+m*m;if(V<1e-4)i?(h=-i.x,b=-i.y,m=-i.z):(h=0,b=0,m=-1);else{let G=1/Math.sqrt(V);h*=G,b*=G,m*=G}let M=e.x,S=e.y,N=e.z,R=M*h+S*b+N*m,C,T,P,j,X,k;if(Math.abs(R)>.9982547){let G=0,x=0,ot=-1;r?(C=r.x,T=r.y,P=r.z,R=M*C+S*T+N*P,Math.abs(R)>.9982547&&(R=M*G+S*x+N*ot,Math.abs(R)>.9982547?(C=1,T=0,P=0):(C=G,T=x,P=ot))):(R=M*G+S*x+N*ot,Math.abs(R)>.9982547?(C=1,T=0,P=0):(C=G,T=x,P=ot)),j=S*P-N*T,X=N*C-M*P,k=M*T-S*C;let pt=j*j+X*X+k*k,lt=1/Math.sqrt(pt);j*=lt,X*=lt,k*=lt,C=X*N-k*S,T=k*M-j*N,P=j*S-X*M;let St=C*C+T*T+P*P,nt=1/Math.sqrt(St);C*=nt,T*=nt,P*=nt}else{j=S*m-N*b,X=N*h-M*m,k=M*b-S*h;let G=j*j+X*X+k*k,x=1/Math.sqrt(G);j*=x,X*=x,k*=x,C=X*N-k*S,T=k*M-j*N,P=j*S-X*M;let ot=C*C+T*T+P*P,pt=1/Math.sqrt(ot);C*=pt,T*=pt,P*=pt}return new w(j,X,k,0,M,S,N,0,C,T,P,0,u,a,y,1)}).add([z,z,z,[z,null],[z,null],w],function(n,c,e,i,r,u){let a=n.x,y=n.y,h=n.z,b=a-c.x,m=y-c.y,V=h-c.z,M=b*b+m*m+V*V;if(M<1e-4)i?(b=-i.x,m=-i.y,V=-i.z):(b=0,m=0,V=-1);else{let x=1/Math.sqrt(M);b*=x,m*=x,V*=x}let S=e.x,N=e.y,R=e.z,C=S*b+N*m+R*V,T,P,j,X,k,G;if(Math.abs(C)>.9982547){let x=0,ot=0,pt=-1;r?(T=r.x,P=r.y,j=r.z,C=S*T+N*P+R*j,Math.abs(C)>.9982547&&(C=S*x+N*ot+R*pt,Math.abs(C)>.9982547?(T=1,P=0,j=0):(T=x,P=ot,j=pt))):(C=S*x+N*ot+R*pt,Math.abs(C)>.9982547?(T=1,P=0,j=0):(T=x,P=ot,j=pt)),X=N*j-R*P,k=R*T-S*j,G=S*P-N*T;let lt=X*X+k*k+G*G,St=1/Math.sqrt(lt);X*=St,k*=St,G*=St,T=k*R-G*N,P=G*S-X*R,j=X*N-k*S;let nt=T*T+P*P+j*j,Ct=1/Math.sqrt(nt);T*=Ct,P*=Ct,j*=Ct}else{X=N*V-R*m,k=R*b-S*V,G=S*m-N*b;let x=X*X+k*k+G*G,ot=1/Math.sqrt(x);X*=ot,k*=ot,G*=ot,T=k*R-G*N,P=G*S-X*R,j=X*N-k*S;let pt=T*T+P*P+j*j,lt=1/Math.sqrt(pt);T*=lt,P*=lt,j*=lt}t(u,o)[0]=X,t(u,o)[1]=k,t(u,o)[2]=G,t(u,o)[3]=0,t(u,o)[4]=S,t(u,o)[5]=N,t(u,o)[6]=R,t(u,o)[7]=0,t(u,o)[8]=T,t(u,o)[9]=P,t(u,o)[10]=j,t(u,o)[11]=0,t(u,o)[12]=a,t(u,o)[13]=y,t(u,o)[14]=h,t(u,o)[15]=1}),w.createConstrainedBillboard.apply(this,s)}static createFromAxisAngle(...s){return w.createFromAxisAngle=g().add([z,Number],function(n,c){let e=n.x,i=n.y,r=n.z,u=Math.sin(c),a=Math.cos(c),y=e**2,h=i**2,b=r**2,m=e*i,V=e*r,M=i*r,S=m-a*m,N=u*r,R=V-a*V,C=u*i,T=M-a*M,P=u*e;return new w(y+a*(1-y),S+N,R-C,0,S-N,h+a*(1-h),T+P,0,R+C,T-P,b+a*(1-b),0,0,0,0,1)}).add([z,Number,w],function(n,c,e){let i=n.x,r=n.y,u=n.z,a=Math.sin(c),y=Math.cos(c),h=i**2,b=r**2,m=u**2,V=i*r,M=i*u,S=r*u,N=V-y*V,R=a*u,C=M-y*M,T=a*r,P=S-y*S,j=a*i;t(e,o)[0]=h+y*(1-h),t(e,o)[1]=N+R,t(e,o)[2]=C-T,t(e,o)[3]=0,t(e,o)[4]=N-R,t(e,o)[5]=b+y*(1-b),t(e,o)[6]=P+j,t(e,o)[7]=0,t(e,o)[8]=C+T,t(e,o)[9]=P-j,t(e,o)[10]=m+y*(1-m),t(e,o)[11]=0,t(e,o)[12]=0,t(e,o)[13]=0,t(e,o)[14]=0,t(e,o)[15]=1}),w.createFromAxisAngle.apply(this,s)}static createFromQuaternion(...s){return w.createFromQuaternion=g().add([ht],function(n){let c=n.x,e=n.y,i=n.z,r=n.w,u=c**2,a=e**2,y=i**2,h=c*e,b=c*i,m=e*i,V=r*c,M=r*e,S=r*i;return new w(1-2*(a+y),2*(h+S),2*(b-M),0,2*(h-S),1-2*(y+u),2*(m+V),0,2*(b+M),2*(m-V),1-2*(a+u),0,0,0,0,1)}).add([ht,w],function(n,c){let e=n.x,i=n.y,r=n.z,u=n.w,a=e**2,y=i**2,h=r**2,b=e*i,m=e*r,V=i*r,M=u*e,S=u*i,N=u*r;t(c,o)[0]=1-2*(y+h),t(c,o)[1]=2*(b+N),t(c,o)[2]=2*(m-S),t(c,o)[3]=0,t(c,o)[4]=2*(b-N),t(c,o)[5]=1-2*(h+a),t(c,o)[6]=2*(V+M),t(c,o)[7]=0,t(c,o)[8]=2*(m+S),t(c,o)[9]=2*(V-M),t(c,o)[10]=1-2*(y+a),t(c,o)[11]=0,t(c,o)[12]=0,t(c,o)[13]=0,t(c,o)[14]=0,t(c,o)[15]=1}),w.createFromQuaternion.apply(this,s)}static createFromYawPitchRoll(...s){return w.createFromYawPitchRoll=g().add([Number,Number,Number],function(n,c,e){let i=e*.5,r=c*.5,u=n*.5,a=Math.sin(i),y=Math.cos(i),h=Math.sin(r),b=Math.cos(r),m=Math.sin(u),V=Math.cos(u),M=V*h*y+m*b*a,S=m*b*y-V*h*a,N=V*b*a-m*h*y,R=V*b*y+m*h*a,C=M*M,T=S*S,P=N*N,j=M*S,X=M*N,k=S*N,G=R*M,x=R*S,ot=R*N;return new w(1-2*(T+P),2*(j+ot),2*(X-x),0,2*(j-ot),1-2*(P+C),2*(k+G),0,2*(X+x),2*(k-G),1-2*(T+C),0,0,0,0,1)}).add([Number,Number,Number,w],function(n,c,e,i){let r=e*.5,u=c*.5,a=n*.5,y=Math.sin(r),h=Math.cos(r),b=Math.sin(u),m=Math.cos(u),V=Math.sin(a),M=Math.cos(a),S=M*b*h+V*m*y,N=V*m*h-M*b*y,R=M*m*y-V*b*h,C=M*m*h+V*b*y,T=S*S,P=N*N,j=R*R,X=S*N,k=S*R,G=N*R,x=C*S,ot=C*N,pt=C*R;t(i,o)[0]=1-2*(P+j),t(i,o)[1]=2*(X+pt),t(i,o)[2]=2*(k-ot),t(i,o)[3]=0,t(i,o)[4]=2*(X-pt),t(i,o)[5]=1-2*(j+T),t(i,o)[6]=2*(G+x),t(i,o)[7]=0,t(i,o)[8]=2*(k+ot),t(i,o)[9]=2*(G-x),t(i,o)[10]=1-2*(P+T),t(i,o)[11]=0,t(i,o)[12]=0,t(i,o)[13]=0,t(i,o)[14]=0,t(i,o)[15]=1}),w.createFromYawPitchRoll.apply(this,s)}static createLookAt(...s){return w.createLookAt=g().add([z,z,z],function(n,c,e){let i=n.x-c.x,r=n.y-c.y,u=n.z-c.z,a=Math.sqrt(i*i+r*r+u*u),y=1/a,h=i*y,b=r*y,m=u*y,V=e.y*m-e.z*b,M=e.z*h-e.x*m,S=e.x*b-e.y*h;a=Math.sqrt(V*V+M*M+S*S);let N=1/a,R=V*N,C=M*N,T=S*N,P=b*T-m*C,j=m*R-h*T,X=h*C-b*R;return new w(R,P,h,0,C,j,b,0,T,X,m,0,-(R*n.x+C*n.y+T*n.z),-(P*n.x+j*n.y+X*n.z),-(h*n.x+b*n.y+m*n.z),1)}).add([z,z,z,w],function(n,c,e,i){let r=n.x-c.x,u=n.y-c.y,a=n.z-c.z,y=Math.sqrt(r*r+u*u+a*a),h=1/y,b=r*h,m=u*h,V=a*h,M=e.y*V-e.z*m,S=e.z*b-e.x*V,N=e.x*m-e.y*b;y=Math.sqrt(M*M+S*S+N*N);let R=1/y,C=M*R,T=S*R,P=N*R,j=m*P-V*T,X=V*C-b*P,k=b*T-m*C;t(i,o)[0]=C,t(i,o)[1]=j,t(i,o)[2]=b,t(i,o)[3]=0,t(i,o)[4]=T,t(i,o)[5]=X,t(i,o)[6]=m,t(i,o)[7]=0,t(i,o)[8]=P,t(i,o)[9]=k,t(i,o)[10]=V,t(i,o)[11]=0,t(i,o)[12]=-(C*n.x+T*n.y+P*n.z),t(i,o)[13]=-(j*n.x+X*n.y+k*n.z),t(i,o)[14]=-(b*n.x+m*n.y+V*n.z),t(i,o)[15]=1}),w.createLookAt.apply(this,s)}static createOrthographic(...s){return w.createOrthographic=g().add([Number,Number,Number,Number],function(n,c,e,i){let r=new w,u=2/n,a=2/c,y=1/(e-i),h=e/(e-i);return t(r,o)[0]=u,t(r,o)[1]=t(r,o)[2]=t(r,o)[3]=0,t(r,o)[5]=a,t(r,o)[4]=t(r,o)[6]=t(r,o)[7]=0,t(r,o)[10]=y,t(r,o)[8]=t(r,o)[9]=t(r,o)[11]=0,t(r,o)[12]=t(r,o)[13]=0,t(r,o)[14]=h,t(r,o)[15]=1,r}).add([Number,Number,Number,Number,w],function(n,c,e,i,r){let u=2/n,a=2/c,y=1/(e-i),h=e/(e-i);t(r,o)[0]=u,t(r,o)[1]=t(r,o)[2]=t(r,o)[3]=0,t(r,o)[5]=a,t(r,o)[4]=t(r,o)[6]=t(r,o)[7]=0,t(r,o)[10]=y,t(r,o)[8]=t(r,o)[9]=t(r,o)[11]=0,t(r,o)[12]=t(r,o)[13]=0,t(r,o)[14]=h,t(r,o)[15]=1}),w.createOrthographic.apply(this,s)}static createOrthographicOffCenter(...s){return w.createOrthographicOffCenter=g().add([Number,Number,Number,Number,Number,Number],function(n,c,e,i,r,u){return new w(2/(c-n),0,0,0,0,2/(i-e),0,0,0,0,1/(r-u),0,(n+c)/(n-c),(i+e)/(e-i),r/(r-u),1)}).add([Number,Number,Number,Number,Number,Number,w],function(n,c,e,i,r,u,a){t(a,o)[0]=2/(c-n),t(a,o)[1]=0,t(a,o)[2]=0,t(a,o)[3]=0,t(a,o)[4]=0,t(a,o)[5]=2/(i-e),t(a,o)[6]=0,t(a,o)[7]=0,t(a,o)[8]=0,t(a,o)[9]=0,t(a,o)[10]=1/(r-u),t(a,o)[11]=0,t(a,o)[12]=(n+c)/(n-c),t(a,o)[13]=(i+e)/(e-i),t(a,o)[14]=r/(r-u),t(a,o)[15]=1}),w.createOrthographicOffCenter.apply(this,s)}static createPerspective(...s){return w.createPerspective=g().add([Number,Number,Number,Number],function(n,c,e,i){if(e<=0)throw new RangeError("nearPlaneDistance \u5C0F\u4E8E\u6216\u7B49\u4E8E 0\u3002");if(i<=0)throw new RangeError("farPlaneDistance \u5C0F\u4E8E\u6216\u7B49\u4E8E 0\u3002");if(e>=i)throw new RangeError("nearPlaneDistance \u5927\u4E8E\u6216\u7B49\u4E8E farPlaneDistance\u3002");let r=new w;return t(r,o)[0]=2*e/n,t(r,o)[5]=2*e/c,t(r,o)[10]=i/(e-i),t(r,o)[11]=-1,t(r,o)[14]=e*i/(e-i),r}).add([Number,Number,Number,Number,w],function(n,c,e,i,r){if(e<=0)throw new RangeError("nearPlaneDistance \u5C0F\u4E8E\u6216\u7B49\u4E8E 0\u3002");if(i<=0)throw new RangeError("farPlaneDistance \u5C0F\u4E8E\u6216\u7B49\u4E8E 0\u3002");if(e>=i)throw new RangeError("nearPlaneDistance \u5927\u4E8E\u6216\u7B49\u4E8E farPlaneDistance\u3002");t(r,o)[0]=2*e/n,t(r,o)[1]=0,t(r,o)[2]=0,t(r,o)[3]=0,t(r,o)[4]=0,t(r,o)[5]=2*e/c,t(r,o)[6]=0,t(r,o)[7]=0,t(r,o)[8]=0,t(r,o)[9]=0,t(r,o)[10]=i/(e-i),t(r,o)[11]=-1,t(r,o)[12]=0,t(r,o)[13]=0,t(r,o)[14]=e*i/(e-i),t(r,o)[15]=0}),w.createPerspective.apply(this,s)}static createPerspectiveFieldOfView(...s){return w.createPerspectiveFieldOfView=g().add([Number,Number,Number,Number],function(n,c,e,i){if(n<=0||n>=F.pi)throw new RangeError("fieldOfView \u5C0F\u4E8E\u6216\u7B49\u4E8E 0 \u6216\u5927\u4E8E\u6216\u7B49\u4E8E PI\u3002");if(e<=0)throw new RangeError("nearPlaneDistance \u5C0F\u4E8E\u6216\u7B49\u4E8E 0\u3002");if(i<=0)throw new RangeError("farPlaneDistance \u5C0F\u4E8E\u6216\u7B49\u4E8E 0\u3002");if(e>=i)throw new RangeError("nearPlaneDistance \u5927\u4E8E\u6216\u7B49\u4E8E farPlaneDistance\u3002");let r=new w,a=1/Math.tan(n*.5),y=a/c,h=e-i;return t(r,o)[0]=y,t(r,o)[5]=a,t(r,o)[10]=i/h,t(r,o)[11]=-1,t(r,o)[14]=e*i/h,r}).add([Number,Number,Number,Number,w],function(n,c,e,i,r){if(n<=0||n>=F.pi)throw new RangeError("fieldOfView \u5C0F\u4E8E\u6216\u7B49\u4E8E 0 \u6216\u5927\u4E8E\u6216\u7B49\u4E8E PI\u3002");if(e<=0)throw new RangeError("nearPlaneDistance \u5C0F\u4E8E\u6216\u7B49\u4E8E 0\u3002");if(i<=0)throw new RangeError("farPlaneDistance \u5C0F\u4E8E\u6216\u7B49\u4E8E 0\u3002");if(e>=i)throw new RangeError("nearPlaneDistance \u5927\u4E8E\u6216\u7B49\u4E8E farPlaneDistance\u3002");let a=1/Math.tan(n*.5),y=a/c,h=e-i;t(r,o)[0]=y,t(r,o)[1]=0,t(r,o)[2]=0,t(r,o)[3]=0,t(r,o)[4]=0,t(r,o)[5]=a,t(r,o)[6]=0,t(r,o)[7]=0,t(r,o)[8]=0,t(r,o)[9]=0,t(r,o)[10]=i/h,t(r,o)[11]=-1,t(r,o)[12]=0,t(r,o)[13]=0,t(r,o)[14]=e*i/h,t(r,o)[15]=0}),w.createPerspectiveFieldOfView.apply(this,s)}static createPerspectiveOffCenter(...s){return w.createPerspectiveOffCenter=g().add([Number,Number,Number,Number,Number,Number],function(n,c,e,i,r,u){if(r<=0)throw new RangeError("nearPlaneDistance \u5C0F\u4E8E\u6216\u7B49\u4E8E 0\u3002");if(u<=0)throw new RangeError("farPlaneDistance \u5C0F\u4E8E\u6216\u7B49\u4E8E 0\u3002");if(r>=u)throw new RangeError("nearPlaneDistance \u5927\u4E8E\u6216\u7B49\u4E8E farPlaneDistance\u3002");let a=new w,y=2*r,h=c-n,b=i-e,m=r-u;return t(a,o)[0]=y/h,t(a,o)[5]=y/b,t(a,o)[8]=(n+c)/h,t(a,o)[9]=(i+e)/b,t(a,o)[10]=u/m,t(a,o)[11]=-1,t(a,o)[14]=r*u/m,a}).add([Number,Number,Number,Number,Number,Number,w],function(n,c,e,i,r,u,a){if(r<=0)throw new RangeError("nearPlaneDistance \u5C0F\u4E8E\u6216\u7B49\u4E8E 0\u3002");if(u<=0)throw new RangeError("farPlaneDistance \u5C0F\u4E8E\u6216\u7B49\u4E8E 0\u3002");if(r>=u)throw new RangeError("nearPlaneDistance \u5927\u4E8E\u6216\u7B49\u4E8E farPlaneDistance\u3002");let y=2*r,h=c-n,b=i-e,m=r-u;t(a,o)[0]=y/h,t(a,o)[1]=0,t(a,o)[2]=0,t(a,o)[3]=0,t(a,o)[4]=0,t(a,o)[5]=y/b,t(a,o)[6]=0,t(a,o)[7]=0,t(a,o)[8]=(n+c)/h,t(a,o)[9]=(i+e)/b,t(a,o)[10]=u/m,t(a,o)[11]=-1,t(a,o)[12]=0,t(a,o)[13]=0,t(a,o)[14]=r*u/m,t(a,o)[15]=0}),w.createPerspectiveOffCenter.apply(this,s)}static createReflection(...s){return w.createReflection=g().add([ft],function(n){let c=n.normal,e=c.x,i=c.y,r=c.z,u=n.d,a=e*e+i*i+r*r,y=1/Math.sqrt(a),h=e*y,b=i*y,m=r*y,V=u*y,M=-2*h,S=-2*b,N=-2*m;return new w(M*h+1,S*h,N*h,0,M*b,S*b+1,N*b,0,M*m,S*m,N*m+1,0,M*V,S*V,N*V,1)}).add([ft,w],function(n,c){let e=n.normal,i=e.x,r=e.y,u=e.z,a=n.d,y=i*i+r*r+u*u,h=1/Math.sqrt(y),b=i*h,m=r*h,V=u*h,M=a*h,S=-2*b,N=-2*m,R=-2*V;t(c,o)[0]=S*b+1,t(c,o)[1]=N*b,t(c,o)[2]=R*b,t(c,o)[3]=0,t(c,o)[4]=S*m,t(c,o)[5]=N*m+1,t(c,o)[6]=R*m,t(c,o)[7]=0,t(c,o)[8]=S*V,t(c,o)[9]=N*V,t(c,o)[10]=R*V+1,t(c,o)[11]=0,t(c,o)[12]=S*M,t(c,o)[13]=N*M,t(c,o)[14]=R*M,t(c,o)[15]=1}),w.createReflection.apply(this,s)}static createRotationX(...s){return w.createRotationX=g().add([Number],function(n){let c=w.identity,e=Math.cos(n),i=Math.sin(n);return t(c,o)[5]=e,t(c,o)[6]=i,t(c,o)[9]=-i,t(c,o)[10]=e,c}).add([Number,w],function(n,c){let e=Math.cos(n),i=Math.sin(n);t(c,o)[0]=1,t(c,o)[1]=0,t(c,o)[2]=0,t(c,o)[3]=0,t(c,o)[4]=0,t(c,o)[5]=e,t(c,o)[6]=i,t(c,o)[7]=0,t(c,o)[8]=0,t(c,o)[9]=-i,t(c,o)[10]=e,t(c,o)[11]=0,t(c,o)[12]=0,t(c,o)[13]=0,t(c,o)[14]=0,t(c,o)[15]=1}),w.createRotationX.apply(this,s)}static createRotationY(...s){return w.createRotationY=g().add([Number],function(n){let c=w.identity,e=Math.cos(n),i=Math.sin(n);return t(c,o)[0]=e,t(c,o)[2]=-i,t(c,o)[8]=i,t(c,o)[10]=e,c}).add([Number,w],function(n,c){let e=Math.cos(n),i=Math.sin(n);t(c,o)[0]=e,t(c,o)[1]=0,t(c,o)[2]=-i,t(c,o)[3]=0,t(c,o)[4]=0,t(c,o)[5]=1,t(c,o)[6]=0,t(c,o)[7]=0,t(c,o)[8]=i,t(c,o)[9]=0,t(c,o)[10]=e,t(c,o)[11]=0,t(c,o)[12]=0,t(c,o)[13]=0,t(c,o)[14]=0,t(c,o)[15]=1}),w.createRotationY.apply(this,s)}static createRotationZ(...s){return w.createRotationZ=g().add([Number],function(n){let c=w.identity,e=Math.cos(n),i=Math.sin(n);return t(c,o)[0]=e,t(c,o)[1]=i,t(c,o)[4]=-i,t(c,o)[5]=e,c}).add([Number,w],function(n,c){let e=Math.cos(n),i=Math.sin(n);t(c,o)[0]=e,t(c,o)[1]=i,t(c,o)[2]=0,t(c,o)[3]=0,t(c,o)[4]=-i,t(c,o)[5]=e,t(c,o)[6]=0,t(c,o)[7]=0,t(c,o)[8]=0,t(c,o)[9]=0,t(c,o)[10]=1,t(c,o)[11]=0,t(c,o)[12]=0,t(c,o)[13]=0,t(c,o)[14]=0,t(c,o)[15]=1}),w.createRotationZ.apply(this,s)}static createScale(...s){return w.createScale=g().add([Number],function(n){let c=new w;return t(c,o)[0]=n,t(c,o)[5]=n,t(c,o)[10]=n,t(c,o)[15]=1,c}).add([Number,w],function(n,c){t(c,o)[0]=n,t(c,o)[1]=0,t(c,o)[2]=0,t(c,o)[3]=0,t(c,o)[4]=0,t(c,o)[5]=n,t(c,o)[6]=0,t(c,o)[7]=0,t(c,o)[8]=0,t(c,o)[9]=0,t(c,o)[10]=n,t(c,o)[11]=0,t(c,o)[12]=0,t(c,o)[13]=0,t(c,o)[14]=0,t(c,o)[15]=1}).add([Number,Number,Number],function(n,c,e){let i=new w;return t(i,o)[0]=n,t(i,o)[5]=c,t(i,o)[10]=e,t(i,o)[15]=1,i}).add([Number,Number,Number,w],function(n,c,e,i){t(i,o)[0]=n,t(i,o)[1]=0,t(i,o)[2]=0,t(i,o)[3]=0,t(i,o)[4]=0,t(i,o)[5]=c,t(i,o)[6]=0,t(i,o)[7]=0,t(i,o)[8]=0,t(i,o)[9]=0,t(i,o)[10]=e,t(i,o)[11]=0,t(i,o)[12]=0,t(i,o)[13]=0,t(i,o)[14]=0,t(i,o)[15]=1}).add([z],function(n){let c=new w;return t(c,o)[0]=n.x,t(c,o)[5]=n.y,t(c,o)[10]=n.z,t(c,o)[15]=1,c}).add([z,w],function(n,c){t(c,o)[0]=n.x,t(c,o)[1]=0,t(c,o)[2]=0,t(c,o)[3]=0,t(c,o)[4]=0,t(c,o)[5]=n.y,t(c,o)[6]=0,t(c,o)[7]=0,t(c,o)[8]=0,t(c,o)[9]=0,t(c,o)[10]=n.z,t(c,o)[11]=0,t(c,o)[12]=0,t(c,o)[13]=0,t(c,o)[14]=0,t(c,o)[15]=1}),w.createScale.apply(this,s)}static createShadow(...s){return w.createShadow=g().add([z,ft],function(n,c){let e=n.x,i=n.y,r=n.z,u=c.normal,a=z.dot(u,n),y=-u.x,h=-u.y,b=-u.z,m=-c.d,V=new w;return t(V,o)[0]=y*e+a,t(V,o)[1]=y*i,t(V,o)[2]=y*r,t(V,o)[3]=0,t(V,o)[4]=h*e,t(V,o)[5]=h*i+a,t(V,o)[6]=h*r,t(V,o)[7]=0,t(V,o)[8]=b*e,t(V,o)[9]=b*i,t(V,o)[10]=b*r+a,t(V,o)[11]=0,t(V,o)[12]=m*e,t(V,o)[13]=m*i,t(V,o)[14]=m*r,t(V,o)[15]=a,V}).add([z,ft,w],function(n,c,e){let i=n.x,r=n.y,u=n.z,a=c.normal,y=z.dot(a,n),h=-a.x,b=-a.y,m=-a.z,V=-c.d;t(e,o)[0]=h*i+y,t(e,o)[1]=h*r,t(e,o)[2]=h*u,t(e,o)[3]=0,t(e,o)[4]=b*i,t(e,o)[5]=b*r+y,t(e,o)[6]=b*u,t(e,o)[7]=0,t(e,o)[8]=m*i,t(e,o)[9]=m*r,t(e,o)[10]=m*u+y,t(e,o)[11]=0,t(e,o)[12]=V*i,t(e,o)[13]=V*r,t(e,o)[14]=V*u,t(e,o)[15]=y}),w.createShadow.apply(this,s)}static createTranslation(...s){return w.createTranslation=g().add([Number,Number,Number],function(n,c,e){let i=new w;return t(i,o)[0]=1,t(i,o)[5]=1,t(i,o)[10]=1,t(i,o)[12]=n,t(i,o)[13]=c,t(i,o)[14]=e,t(i,o)[15]=1,i}).add([Number,Number,Number,w],function(n,c,e,i){t(i,o)[0]=1,t(i,o)[1]=0,t(i,o)[2]=0,t(i,o)[3]=0,t(i,o)[4]=0,t(i,o)[5]=1,t(i,o)[6]=0,t(i,o)[7]=0,t(i,o)[8]=0,t(i,o)[9]=0,t(i,o)[10]=1,t(i,o)[11]=0,t(i,o)[12]=n,t(i,o)[13]=c,t(i,o)[14]=e,t(i,o)[15]=1}).add([z],function(n){let c=new w;return t(c,o)[0]=1,t(c,o)[5]=1,t(c,o)[10]=1,t(c,o)[12]=n.x,t(c,o)[13]=n.y,t(c,o)[14]=n.z,t(c,o)[15]=1,c}).add([z,w],function(n,c){t(c,o)[0]=1,t(c,o)[1]=0,t(c,o)[2]=0,t(c,o)[3]=0,t(c,o)[4]=0,t(c,o)[5]=1,t(c,o)[6]=0,t(c,o)[7]=0,t(c,o)[8]=0,t(c,o)[9]=0,t(c,o)[10]=1,t(c,o)[11]=0,t(c,o)[12]=n.x,t(c,o)[13]=n.y,t(c,o)[14]=n.z,t(c,o)[15]=1}),w.createTranslation.apply(this,s)}static createWorld(...s){return w.createWorld=g().add([z,z,z],function(n,c,e){let i=c.x,r=c.y,u=c.z,a=Math.sqrt(i*i+r*r+u*u),y=1/a,h=i*y,b=r*y,m=u*y,V=b*e.z-m*e.y,M=m*e.x-h*e.z,S=h*e.y-b*e.x;a=Math.sqrt(V*V+M*M+S*S);let N=1/a,R=V*N,C=M*N,T=S*N,P=C*m-T*b,j=T*h-R*m,X=R*b-C*h,k=new w;return t(k,o)[0]=R,t(k,o)[1]=C,t(k,o)[2]=T,t(k,o)[3]=0,t(k,o)[4]=P,t(k,o)[5]=j,t(k,o)[6]=X,t(k,o)[7]=0,t(k,o)[8]=-h,t(k,o)[9]=-b,t(k,o)[10]=-m,t(k,o)[11]=0,t(k,o)[12]=n.x,t(k,o)[13]=n.y,t(k,o)[14]=n.z,t(k,o)[15]=1,k}).add([z,z,z,w],function(n,c,e,i){let r=c.x,u=c.y,a=c.z,y=Math.sqrt(r*r+u*u+a*a),h=1/y,b=r*h,m=u*h,V=a*h,M=m*e.z-V*e.y,S=V*e.x-b*e.z,N=b*e.y-m*e.x;y=Math.sqrt(M*M+S*S+N*N);let R=1/y,C=M*R,T=S*R,P=N*R,j=T*V-P*m,X=P*b-C*V,k=C*m-T*b;t(i,o)[0]=C,t(i,o)[1]=T,t(i,o)[2]=P,t(i,o)[3]=0,t(i,o)[4]=j,t(i,o)[5]=X,t(i,o)[6]=k,t(i,o)[7]=0,t(i,o)[8]=-b,t(i,o)[9]=-m,t(i,o)[10]=-V,t(i,o)[11]=0,t(i,o)[12]=n.x,t(i,o)[13]=n.y,t(i,o)[14]=n.z,t(i,o)[15]=1}),w.createWorld.apply(this,s)}static divide(...s){return w.divide=g().add([w,Number],function(n,c){let e=1/c;return new w(t(n,o)[0]*e,t(n,o)[1]*e,t(n,o)[2]*e,t(n,o)[3]*e,t(n,o)[4]*e,t(n,o)[5]*e,t(n,o)[6]*e,t(n,o)[7]*e,t(n,o)[8]*e,t(n,o)[9]*e,t(n,o)[10]*e,t(n,o)[11]*e,t(n,o)[12]*e,t(n,o)[13]*e,t(n,o)[14]*e,t(n,o)[15]*e)}).add([w,Number,w],function(n,c,e){let i=1/c;t(e,o)[0]=t(n,o)[0]*i,t(e,o)[1]=t(n,o)[1]*i,t(e,o)[2]=t(n,o)[2]*i,t(e,o)[3]=t(n,o)[3]*i,t(e,o)[4]=t(n,o)[4]*i,t(e,o)[5]=t(n,o)[5]*i,t(e,o)[6]=t(n,o)[6]*i,t(e,o)[7]=t(n,o)[7]*i,t(e,o)[8]=t(n,o)[8]*i,t(e,o)[9]=t(n,o)[9]*i,t(e,o)[10]=t(n,o)[10]*i,t(e,o)[11]=t(n,o)[11]*i,t(e,o)[12]=t(n,o)[12]*i,t(e,o)[13]=t(n,o)[13]*i,t(e,o)[14]=t(n,o)[14]*i,t(e,o)[15]=t(n,o)[15]*i}).add([w,w],function(n,c){return new w(t(n,o)[0]/t(c,o)[0],t(n,o)[1]/t(c,o)[1],t(n,o)[2]/t(c,o)[2],t(n,o)[3]/t(c,o)[3],t(n,o)[4]/t(c,o)[4],t(n,o)[5]/t(c,o)[5],t(n,o)[6]/t(c,o)[6],t(n,o)[7]/t(c,o)[7],t(n,o)[8]/t(c,o)[8],t(n,o)[9]/t(c,o)[9],t(n,o)[10]/t(c,o)[10],t(n,o)[11]/t(c,o)[11],t(n,o)[12]/t(c,o)[12],t(n,o)[13]/t(c,o)[13],t(n,o)[14]/t(c,o)[14],t(n,o)[15]/t(c,o)[15])}).add([w,w,w],function(n,c,e){t(e,o)[0]=t(n,o)[0]/t(c,o)[0],t(e,o)[1]=t(n,o)[1]/t(c,o)[1],t(e,o)[2]=t(n,o)[2]/t(c,o)[2],t(e,o)[3]=t(n,o)[3]/t(c,o)[3],t(e,o)[4]=t(n,o)[4]/t(c,o)[4],t(e,o)[5]=t(n,o)[5]/t(c,o)[5],t(e,o)[6]=t(n,o)[6]/t(c,o)[6],t(e,o)[7]=t(n,o)[7]/t(c,o)[7],t(e,o)[8]=t(n,o)[8]/t(c,o)[8],t(e,o)[9]=t(n,o)[9]/t(c,o)[9],t(e,o)[10]=t(n,o)[10]/t(c,o)[10],t(e,o)[11]=t(n,o)[11]/t(c,o)[11],t(e,o)[12]=t(n,o)[12]/t(c,o)[12],t(e,o)[13]=t(n,o)[13]/t(c,o)[13],t(e,o)[14]=t(n,o)[14]/t(c,o)[14],t(e,o)[15]=t(n,o)[15]/t(c,o)[15]}),w.divide.apply(this,s)}static invert(...s){return w.invert=g().add([w],function(n){let c=t(n,o)[0],e=t(n,o)[1],i=t(n,o)[2],r=t(n,o)[3],u=t(n,o)[4],a=t(n,o)[5],y=t(n,o)[6],h=t(n,o)[7],b=t(n,o)[8],m=t(n,o)[9],V=t(n,o)[10],M=t(n,o)[11],S=t(n,o)[12],N=t(n,o)[13],R=t(n,o)[14],C=t(n,o)[15],T=new w,P=V*C-M*R,j=m*C-M*N,X=m*R-V*N,k=b*C-M*S,G=b*R-V*S,x=b*N-m*S,ot=a*P-y*j+h*X,pt=-(u*P-y*k+h*G),lt=u*j-a*k+h*x,St=-(u*X-a*G+y*x),nt=1/(c*ot+e*pt+i*lt+r*St);t(T,o)[0]=ot*nt,t(T,o)[4]=pt*nt,t(T,o)[8]=lt*nt,t(T,o)[12]=St*nt,t(T,o)[1]=-(e*P-i*j+r*X)*nt,t(T,o)[5]=(c*P-i*k+r*G)*nt,t(T,o)[9]=-(c*j-e*k+r*x)*nt,t(T,o)[13]=(c*X-e*G+i*x)*nt;let Ct=y*C-h*R,kt=a*C-h*N,Xt=a*R-y*N,Zt=u*C-h*S,Jt=u*R-y*S,jt=u*N-a*S;t(T,o)[2]=(e*Ct-i*kt+r*Xt)*nt,t(T,o)[6]=-(c*Ct-i*Zt+r*Jt)*nt,t(T,o)[10]=(c*kt-e*Zt+r*jt)*nt,t(T,o)[14]=-(c*Xt-e*Jt+i*jt)*nt;let vt=y*M-h*V,Ot=a*M-h*m,Lt=a*V-y*m,Pt=u*M-h*b,Ft=u*V-y*b,At=u*m-a*b;return t(T,o)[3]=-(e*vt-i*Ot+r*Lt)*nt,t(T,o)[7]=(c*vt-i*Pt+r*Ft)*nt,t(T,o)[11]=-(c*Ot-e*Pt+r*At)*nt,t(T,o)[15]=(c*Lt-e*Ft+i*At)*nt,T}).add([w,w],function(n,c){let e=t(n,o)[0],i=t(n,o)[1],r=t(n,o)[2],u=t(n,o)[3],a=t(n,o)[4],y=t(n,o)[5],h=t(n,o)[6],b=t(n,o)[7],m=t(n,o)[8],V=t(n,o)[9],M=t(n,o)[10],S=t(n,o)[11],N=t(n,o)[12],R=t(n,o)[13],C=t(n,o)[14],T=t(n,o)[15],P=M*T-S*C,j=V*T-S*R,X=V*C-M*R,k=m*T-S*N,G=m*C-M*N,x=m*R-V*N,ot=y*P-h*j+b*X,pt=-(a*P-h*k+b*G),lt=a*j-y*k+b*x,St=-(a*X-y*G+h*x),nt=1/(e*ot+i*pt+r*lt+u*St);t(c,o)[0]=ot*nt,t(c,o)[4]=pt*nt,t(c,o)[8]=lt*nt,t(c,o)[12]=St*nt,t(c,o)[1]=-(i*P-r*j+u*X)*nt,t(c,o)[5]=(e*P-r*k+u*G)*nt,t(c,o)[9]=-(e*j-i*k+u*x)*nt,t(c,o)[13]=(e*X-i*G+r*x)*nt;let Ct=h*T-b*C,kt=y*T-b*R,Xt=y*C-h*R,Zt=a*T-b*N,Jt=a*C-h*N,jt=a*R-y*N;t(c,o)[2]=(i*Ct-r*kt+u*Xt)*nt,t(c,o)[6]=-(e*Ct-r*Zt+u*Jt)*nt,t(c,o)[10]=(e*kt-i*Zt+u*jt)*nt,t(c,o)[14]=-(e*Xt-i*Jt+r*jt)*nt;let vt=h*S-b*M,Ot=y*S-b*V,Lt=y*M-h*V,Pt=a*S-b*m,Ft=a*M-h*m,At=a*V-y*m;t(c,o)[3]=-(i*vt-r*Ot+u*Lt)*nt,t(c,o)[7]=(e*vt-r*Pt+u*Ft)*nt,t(c,o)[11]=-(e*Ot-i*Pt+u*At)*nt,t(c,o)[15]=(e*Lt-i*Ft+r*At)*nt}),w.invert.apply(this,s)}static lerp(...s){return w.lerp=g().add([w,w,Number],function(n,c,e){return new w(t(n,o)[0]+(t(c,o)[0]-t(n,o)[0])*e,t(n,o)[1]+(t(c,o)[1]-t(n,o)[1])*e,t(n,o)[2]+(t(c,o)[2]-t(n,o)[2])*e,t(n,o)[3]+(t(c,o)[3]-t(n,o)[3])*e,t(n,o)[4]+(t(c,o)[4]-t(n,o)[4])*e,t(n,o)[5]+(t(c,o)[5]-t(n,o)[5])*e,t(n,o)[6]+(t(c,o)[6]-t(n,o)[6])*e,t(n,o)[7]+(t(c,o)[7]-t(n,o)[7])*e,t(n,o)[8]+(t(c,o)[8]-t(n,o)[8])*e,t(n,o)[9]+(t(c,o)[9]-t(n,o)[9])*e,t(n,o)[10]+(t(c,o)[10]-t(n,o)[10])*e,t(n,o)[11]+(t(c,o)[11]-t(n,o)[11])*e,t(n,o)[12]+(t(c,o)[12]-t(n,o)[12])*e,t(n,o)[13]+(t(c,o)[13]-t(n,o)[13])*e,t(n,o)[14]+(t(c,o)[14]-t(n,o)[14])*e,t(n,o)[15]+(t(c,o)[15]-t(n,o)[15])*e)}).add([w,w,Number,w],function(n,c,e,i){t(i,o)[0]=t(n,o)[0]+(t(c,o)[0]-t(n,o)[0])*e,t(i,o)[1]=t(n,o)[1]+(t(c,o)[1]-t(n,o)[1])*e,t(i,o)[2]=t(n,o)[2]+(t(c,o)[2]-t(n,o)[2])*e,t(i,o)[3]=t(n,o)[3]+(t(c,o)[3]-t(n,o)[3])*e,t(i,o)[4]=t(n,o)[4]+(t(c,o)[4]-t(n,o)[4])*e,t(i,o)[5]=t(n,o)[5]+(t(c,o)[5]-t(n,o)[5])*e,t(i,o)[6]=t(n,o)[6]+(t(c,o)[6]-t(n,o)[6])*e,t(i,o)[7]=t(n,o)[7]+(t(c,o)[7]-t(n,o)[7])*e,t(i,o)[8]=t(n,o)[8]+(t(c,o)[8]-t(n,o)[8])*e,t(i,o)[9]=t(n,o)[9]+(t(c,o)[9]-t(n,o)[9])*e,t(i,o)[10]=t(n,o)[10]+(t(c,o)[10]-t(n,o)[10])*e,t(i,o)[11]=t(n,o)[11]+(t(c,o)[11]-t(n,o)[11])*e,t(i,o)[12]=t(n,o)[12]+(t(c,o)[12]-t(n,o)[12])*e,t(i,o)[13]=t(n,o)[13]+(t(c,o)[13]-t(n,o)[13])*e,t(i,o)[14]=t(n,o)[14]+(t(c,o)[14]-t(n,o)[14])*e,t(i,o)[15]=t(n,o)[15]+(t(c,o)[15]-t(n,o)[15])*e}),w.lerp.apply(this,s)}static multiply(...s){return w.multiply=g().add([w,Number],function(n,c){return new w(t(n,o)[0]*c,t(n,o)[1]*c,t(n,o)[2]*c,t(n,o)[3]*c,t(n,o)[4]*c,t(n,o)[5]*c,t(n,o)[6]*c,t(n,o)[7]*c,t(n,o)[8]*c,t(n,o)[9]*c,t(n,o)[10]*c,t(n,o)[11]*c,t(n,o)[12]*c,t(n,o)[13]*c,t(n,o)[14]*c,t(n,o)[15]*c)}).add([w,w],function(n,c){let e=new w;return t(e,o)[0]=t(n,o)[0]*t(c,o)[0]+t(n,o)[1]*t(c,o)[4]+t(n,o)[2]*t(c,o)[8]+t(n,o)[3]*t(c,o)[12],t(e,o)[1]=t(n,o)[0]*t(c,o)[1]+t(n,o)[1]*t(c,o)[5]+t(n,o)[2]*t(c,o)[9]+t(n,o)[3]*t(c,o)[13],t(e,o)[2]=t(n,o)[0]*t(c,o)[2]+t(n,o)[1]*t(c,o)[6]+t(n,o)[2]*t(c,o)[10]+t(n,o)[3]*t(c,o)[14],t(e,o)[3]=t(n,o)[0]*t(c,o)[3]+t(n,o)[1]*t(c,o)[7]+t(n,o)[2]*t(c,o)[11]+t(n,o)[3]*t(c,o)[15],t(e,o)[4]=t(n,o)[4]*t(c,o)[0]+t(n,o)[5]*t(c,o)[4]+t(n,o)[6]*t(c,o)[8]+t(n,o)[7]*t(c,o)[12],t(e,o)[5]=t(n,o)[4]*t(c,o)[1]+t(n,o)[5]*t(c,o)[5]+t(n,o)[6]*t(c,o)[9]+t(n,o)[7]*t(c,o)[13],t(e,o)[6]=t(n,o)[4]*t(c,o)[2]+t(n,o)[5]*t(c,o)[6]+t(n,o)[6]*t(c,o)[10]+t(n,o)[7]*t(c,o)[14],t(e,o)[7]=t(n,o)[4]*t(c,o)[3]+t(n,o)[5]*t(c,o)[7]+t(n,o)[6]*t(c,o)[11]+t(n,o)[7]*t(c,o)[15],t(e,o)[8]=t(n,o)[8]*t(c,o)[0]+t(n,o)[9]*t(c,o)[4]+t(n,o)[10]*t(c,o)[8]+t(n,o)[11]*t(c,o)[12],t(e,o)[9]=t(n,o)[8]*t(c,o)[1]+t(n,o)[9]*t(c,o)[5]+t(n,o)[10]*t(c,o)[9]+t(n,o)[11]*t(c,o)[13],t(e,o)[10]=t(n,o)[8]*t(c,o)[2]+t(n,o)[9]*t(c,o)[6]+t(n,o)[10]*t(c,o)[10]+t(n,o)[11]*t(c,o)[14],t(e,o)[11]=t(n,o)[8]*t(c,o)[3]+t(n,o)[9]*t(c,o)[7]+t(n,o)[10]*t(c,o)[11]+t(n,o)[11]*t(c,o)[15],t(e,o)[12]=t(n,o)[12]*t(c,o)[0]+t(n,o)[13]*t(c,o)[4]+t(n,o)[14]*t(c,o)[8]+t(n,o)[15]*t(c,o)[12],t(e,o)[13]=t(n,o)[12]*t(c,o)[1]+t(n,o)[13]*t(c,o)[5]+t(n,o)[14]*t(c,o)[9]+t(n,o)[15]*t(c,o)[13],t(e,o)[14]=t(n,o)[12]*t(c,o)[2]+t(n,o)[13]*t(c,o)[6]+t(n,o)[14]*t(c,o)[10]+t(n,o)[15]*t(c,o)[14],t(e,o)[15]=t(n,o)[12]*t(c,o)[3]+t(n,o)[13]*t(c,o)[7]+t(n,o)[14]*t(c,o)[11]+t(n,o)[15]*t(c,o)[15],e}).add([w,Number,w],function(n,c,e){t(e,o)[0]=t(n,o)[0]*c,t(e,o)[1]=t(n,o)[1]*c,t(e,o)[2]=t(n,o)[2]*c,t(e,o)[3]=t(n,o)[3]*c,t(e,o)[4]=t(n,o)[4]*c,t(e,o)[5]=t(n,o)[5]*c,t(e,o)[6]=t(n,o)[6]*c,t(e,o)[7]=t(n,o)[7]*c,t(e,o)[8]=t(n,o)[8]*c,t(e,o)[9]=t(n,o)[9]*c,t(e,o)[10]=t(n,o)[10]*c,t(e,o)[11]=t(n,o)[11]*c,t(e,o)[12]=t(n,o)[12]*c,t(e,o)[13]=t(n,o)[13]*c,t(e,o)[14]=t(n,o)[14]*c,t(e,o)[15]=t(n,o)[15]*c}).add([w,w,w],function(n,c,e){t(e,o)[0]=t(n,o)[0]*t(c,o)[0]+t(n,o)[1]*t(c,o)[4]+t(n,o)[2]*t(c,o)[8]+t(n,o)[3]*t(c,o)[12],t(e,o)[1]=t(n,o)[0]*t(c,o)[1]+t(n,o)[1]*t(c,o)[5]+t(n,o)[2]*t(c,o)[9]+t(n,o)[3]*t(c,o)[13],t(e,o)[2]=t(n,o)[0]*t(c,o)[2]+t(n,o)[1]*t(c,o)[6]+t(n,o)[2]*t(c,o)[10]+t(n,o)[3]*t(c,o)[14],t(e,o)[3]=t(n,o)[0]*t(c,o)[3]+t(n,o)[1]*t(c,o)[7]+t(n,o)[2]*t(c,o)[11]+t(n,o)[3]*t(c,o)[15],t(e,o)[4]=t(n,o)[4]*t(c,o)[0]+t(n,o)[5]*t(c,o)[4]+t(n,o)[6]*t(c,o)[8]+t(n,o)[7]*t(c,o)[12],t(e,o)[5]=t(n,o)[4]*t(c,o)[1]+t(n,o)[5]*t(c,o)[5]+t(n,o)[6]*t(c,o)[9]+t(n,o)[7]*t(c,o)[13],t(e,o)[6]=t(n,o)[4]*t(c,o)[2]+t(n,o)[5]*t(c,o)[6]+t(n,o)[6]*t(c,o)[10]+t(n,o)[7]*t(c,o)[14],t(e,o)[7]=t(n,o)[4]*t(c,o)[3]+t(n,o)[5]*t(c,o)[7]+t(n,o)[6]*t(c,o)[11]+t(n,o)[7]*t(c,o)[15],t(e,o)[8]=t(n,o)[8]*t(c,o)[0]+t(n,o)[9]*t(c,o)[4]+t(n,o)[10]*t(c,o)[8]+t(n,o)[11]*t(c,o)[12],t(e,o)[9]=t(n,o)[8]*t(c,o)[1]+t(n,o)[9]*t(c,o)[5]+t(n,o)[10]*t(c,o)[9]+t(n,o)[11]*t(c,o)[13],t(e,o)[10]=t(n,o)[8]*t(c,o)[2]+t(n,o)[9]*t(c,o)[6]+t(n,o)[10]*t(c,o)[10]+t(n,o)[11]*t(c,o)[14],t(e,o)[11]=t(n,o)[8]*t(c,o)[3]+t(n,o)[9]*t(c,o)[7]+t(n,o)[10]*t(c,o)[11]+t(n,o)[11]*t(c,o)[15],t(e,o)[12]=t(n,o)[12]*t(c,o)[0]+t(n,o)[13]*t(c,o)[4]+t(n,o)[14]*t(c,o)[8]+t(n,o)[15]*t(c,o)[12],t(e,o)[13]=t(n,o)[12]*t(c,o)[1]+t(n,o)[13]*t(c,o)[5]+t(n,o)[14]*t(c,o)[9]+t(n,o)[15]*t(c,o)[13],t(e,o)[14]=t(n,o)[12]*t(c,o)[2]+t(n,o)[13]*t(c,o)[6]+t(n,o)[14]*t(c,o)[10]+t(n,o)[15]*t(c,o)[14],t(e,o)[15]=t(n,o)[12]*t(c,o)[3]+t(n,o)[13]*t(c,o)[7]+t(n,o)[14]*t(c,o)[11]+t(n,o)[15]*t(c,o)[15]}),w.multiply.apply(this,s)}static negate(...s){return w.negate=g().add([w],function(n){return new w(-t(n,o)[0],-t(n,o)[1],-t(n,o)[2],-t(n,o)[3],-t(n,o)[4],-t(n,o)[5],-t(n,o)[6],-t(n,o)[7],-t(n,o)[8],-t(n,o)[9],-t(n,o)[10],-t(n,o)[11],-t(n,o)[12],-t(n,o)[13],-t(n,o)[14],-t(n,o)[15])}).add([w,w],function(n,c){t(c,o)[0]=-t(n,o)[0],t(c,o)[1]=-t(n,o)[1],t(c,o)[2]=-t(n,o)[2],t(c,o)[3]=-t(n,o)[3],t(c,o)[4]=-t(n,o)[4],t(c,o)[5]=-t(n,o)[5],t(c,o)[6]=-t(n,o)[6],t(c,o)[7]=-t(n,o)[7],t(c,o)[8]=-t(n,o)[8],t(c,o)[9]=-t(n,o)[9],t(c,o)[10]=-t(n,o)[10],t(c,o)[11]=-t(n,o)[11],t(c,o)[12]=-t(n,o)[12],t(c,o)[13]=-t(n,o)[13],t(c,o)[14]=-t(n,o)[14],t(c,o)[15]=-t(n,o)[15]}),w.negate.apply(this,s)}static subtract(...s){return w.subtract=g().add([w,w],function(n,c){return new w(t(n,o)[0]-t(c,o)[0],t(n,o)[1]-t(c,o)[1],t(n,o)[2]-t(c,o)[2],t(n,o)[3]-t(c,o)[3],t(n,o)[4]-t(c,o)[4],t(n,o)[5]-t(c,o)[5],t(n,o)[6]-t(c,o)[6],t(n,o)[7]-t(c,o)[7],t(n,o)[8]-t(c,o)[8],t(n,o)[9]-t(c,o)[9],t(n,o)[10]-t(c,o)[10],t(n,o)[11]-t(c,o)[11],t(n,o)[12]-t(c,o)[12],t(n,o)[13]-t(c,o)[13],t(n,o)[14]-t(c,o)[14],t(n,o)[15]-t(c,o)[15])}).add([w,w,w],function(n,c,e){t(e,o)[0]=t(n,o)[0]-t(c,o)[0],t(e,o)[1]=t(n,o)[1]-t(c,o)[1],t(e,o)[2]=t(n,o)[2]-t(c,o)[2],t(e,o)[3]=t(n,o)[3]-t(c,o)[3],t(e,o)[4]=t(n,o)[4]-t(c,o)[4],t(e,o)[5]=t(n,o)[5]-t(c,o)[5],t(e,o)[6]=t(n,o)[6]-t(c,o)[6],t(e,o)[7]=t(n,o)[7]-t(c,o)[7],t(e,o)[8]=t(n,o)[8]-t(c,o)[8],t(e,o)[9]=t(n,o)[9]-t(c,o)[9],t(e,o)[10]=t(n,o)[10]-t(c,o)[10],t(e,o)[11]=t(n,o)[11]-t(c,o)[11],t(e,o)[12]=t(n,o)[12]-t(c,o)[12],t(e,o)[13]=t(n,o)[13]-t(c,o)[13],t(e,o)[14]=t(n,o)[14]-t(c,o)[14],t(e,o)[15]=t(n,o)[15]-t(c,o)[15]}),w.subtract.apply(this,s)}static transform(...s){return w.transform=g().add([w,ht],function(n,c){let e=c.x,i=c.y,r=c.z,u=c.w,a=t(n,o)[0],y=t(n,o)[1],h=t(n,o)[2],b=t(n,o)[3],m=t(n,o)[4],V=t(n,o)[5],M=t(n,o)[6],S=t(n,o)[7],N=t(n,o)[8],R=t(n,o)[9],C=t(n,o)[10],T=t(n,o)[11],P=t(n,o)[12],j=t(n,o)[13],X=t(n,o)[14],k=t(n,o)[15],G=e+e,x=i+i,ot=r+r,pt=u*G,lt=u*x,St=u*ot,nt=e*G,Ct=e*x,kt=e*ot,Xt=i*x,Zt=i*ot,Jt=r*ot,jt=1-Xt-Jt,vt=Ct-St,Ot=kt+lt,Lt=Ct+St,Pt=1-nt-Jt,Ft=Zt-pt,At=kt-lt,Gt=Zt+pt,Ht=1-nt-Xt;return new w(a*jt+y*vt+h*Ot,a*Lt+y*Pt+h*Ft,a*At+y*Gt+h*Ht,b,m*jt+V*vt+M*Ot,m*Lt+V*Pt+M*Ft,m*At+V*Gt+M*Ht,S,N*jt+R*vt+C*Ot,N*Lt+R*Pt+C*Ft,N*At+R*Gt+C*Ht,T,P*jt+j*vt+X*Ot,P*Lt+j*Pt+X*Ft,P*At+j*Gt+X*Ht,k)}).add([w,ht,w],function(n,c,e){let i=c.x,r=c.y,u=c.z,a=c.w,y=t(n,o)[0],h=t(n,o)[1],b=t(n,o)[2],m=t(n,o)[3],V=t(n,o)[4],M=t(n,o)[5],S=t(n,o)[6],N=t(n,o)[7],R=t(n,o)[8],C=t(n,o)[9],T=t(n,o)[10],P=t(n,o)[11],j=t(n,o)[12],X=t(n,o)[13],k=t(n,o)[14],G=t(n,o)[15],x=i+i,ot=r+r,pt=u+u,lt=a*x,St=a*ot,nt=a*pt,Ct=i*x,kt=i*ot,Xt=i*pt,Zt=r*ot,Jt=r*pt,jt=u*pt,vt=1-Zt-jt,Ot=kt-nt,Lt=Xt+St,Pt=kt+nt,Ft=1-Ct-jt,At=Jt-lt,Gt=Xt-St,Ht=Jt+lt,sn=1-Ct-Zt;t(e,o)[0]=y*vt+h*Ot+b*Lt,t(e,o)[1]=y*Pt+h*Ft+b*At,t(e,o)[2]=y*Gt+h*Ht+b*sn,t(e,o)[3]=m,t(e,o)[4]=V*vt+M*Ot+S*Lt,t(e,o)[5]=V*Pt+M*Ft+S*At,t(e,o)[6]=V*Gt+M*Ht+S*sn,t(e,o)[7]=N,t(e,o)[8]=R*vt+C*Ot+T*Lt,t(e,o)[9]=R*Pt+C*Ft+T*At,t(e,o)[10]=R*Gt+C*Ht+T*sn,t(e,o)[11]=P,t(e,o)[12]=j*vt+X*Ot+k*Lt,t(e,o)[13]=j*Pt+X*Ft+k*At,t(e,o)[14]=j*Gt+X*Ht+k*sn,t(e,o)[15]=G}),w.transform.apply(this,s)}static transpose(...s){return w.transpose=g().add([w],function(n){return new w(t(n,o)[0],t(n,o)[4],t(n,o)[8],t(n,o)[12],t(n,o)[1],t(n,o)[5],t(n,o)[9],t(n,o)[13],t(n,o)[2],t(n,o)[6],t(n,o)[10],t(n,o)[14],t(n,o)[3],t(n,o)[7],t(n,o)[11],t(n,o)[15])}).add([w,w],function(n,c){t(c,o)[0]=t(n,o)[0],t(c,o)[1]=t(n,o)[4],t(c,o)[2]=t(n,o)[8],t(c,o)[3]=t(n,o)[12],t(c,o)[4]=t(n,o)[1],t(c,o)[5]=t(n,o)[5],t(c,o)[6]=t(n,o)[9],t(c,o)[7]=t(n,o)[13],t(c,o)[8]=t(n,o)[2],t(c,o)[9]=t(n,o)[6],t(c,o)[10]=t(n,o)[10],t(c,o)[11]=t(n,o)[14],t(c,o)[12]=t(n,o)[3],t(c,o)[13]=t(n,o)[7],t(c,o)[14]=t(n,o)[11],t(c,o)[15]=t(n,o)[15]}),w.transpose.apply(this,s)}static"-"(...s){return w.negate.apply(this,s)}"+"(...s){return w.add.apply(this,s)}"-"(...s){return w.subtract.apply(this,s)}"*"(...s){return w.multiply.apply(this,s)}"/"(...s){return w.divide.apply(this,s)}"=="(...s){return this.equals.apply(this,s)}"!="(...s){return!this.equals.apply(this,s)}decompose(...s){return w.prototype.decompose=g().add([z,ht,z],function(n,c,e){let i=t(this,o)[0],r=t(this,o)[1],u=t(this,o)[2],a=t(this,o)[3],y=t(this,o)[4],h=t(this,o)[5],b=t(this,o)[6],m=t(this,o)[7],V=t(this,o)[8],M=t(this,o)[9],S=t(this,o)[10],N=t(this,o)[11],R=t(this,o)[12],C=t(this,o)[13],T=t(this,o)[14];e.x=R,e.y=C,e.z=T;let P=Math.sign(i*r*u*a)<0?-1:1,j=Math.sign(y*h*b*m)<0?-1:1,X=Math.sign(V*M*S*N)<0?-1:1;if(n.x=P*Math.sqrt(i*i+r*r+u*u),n.y=j*Math.sqrt(y*y+h*h+b*b),n.z=X*Math.sqrt(V*V+M*M+S*S),n.x===0||n.y===0||n.z===0){let G=ht.identity;return c.x=G.x,c.y=G.y,c.z=G.z,c.w=G.w,!1}let k=ht.createFromRotationMatrix(new w(i/n.x,r/n.x,u/n.x,0,y/n.y,h/n.y,b/n.y,0,V/n.z,M/n.z,S/n.z,0,0,0,0,1));return c.x=k.x,c.y=k.y,c.z=k.z,c.w=k.w,!0}),w.prototype.decompose.apply(this,s)}determinant(...s){return w.prototype.determinant=g([],function(){let n=t(this,o)[0],c=t(this,o)[1],e=t(this,o)[2],i=t(this,o)[3],r=t(this,o)[4],u=t(this,o)[5],a=t(this,o)[6],y=t(this,o)[7],h=t(this,o)[8],b=t(this,o)[9],m=t(this,o)[10],V=t(this,o)[11],M=t(this,o)[12],S=t(this,o)[13],N=t(this,o)[14],R=t(this,o)[15],C=m*R-V*N,T=b*R-V*S,P=b*N-m*S,j=h*R-V*M,X=h*N-m*M,k=h*S-b*M;return n*(u*C-a*T+y*P)-c*(r*C-a*j+y*X)+e*(r*T-u*j+y*k)-i*(r*P-u*X+a*k)}),w.prototype.determinant.apply(this,s)}equals(...s){return w.prototype.equals=g([w],function(n){return t(this,o)[0]===t(n,o)[0]&&t(this,o)[5]===t(n,o)[5]&&t(this,o)[10]===t(n,o)[10]&&t(this,o)[15]===t(n,o)[15]&&t(this,o)[1]===t(n,o)[1]&&t(this,o)[2]===t(n,o)[2]&&t(this,o)[3]===t(n,o)[3]&&t(this,o)[4]===t(n,o)[4]&&t(this,o)[6]===t(n,o)[6]&&t(this,o)[7]===t(n,o)[7]&&t(this,o)[8]===t(n,o)[8]&&t(this,o)[9]===t(n,o)[9]&&t(this,o)[11]===t(n,o)[11]&&t(this,o)[12]===t(n,o)[12]&&t(this,o)[13]===t(n,o)[13]&&t(this,o)[14]===t(n,o)[14]}).any(()=>!1),w.prototype.equals.apply(this,s)}toString(...s){return w.prototype.toString=g([],function(){return JSON.stringify(this)}),w.prototype.toString.apply(this,s)}toJSON(){return{m11:t(this,o)[0],m12:t(this,o)[1],m13:t(this,o)[2],m14:t(this,o)[3],m21:t(this,o)[4],m22:t(this,o)[5],m23:t(this,o)[6],m24:t(this,o)[7],m31:t(this,o)[8],m32:t(this,o)[9],m33:t(this,o)[10],m34:t(this,o)[11],m41:t(this,o)[12],m42:t(this,o)[13],m43:t(this,o)[14],m44:t(this,o)[15]}}};mt=zt(null),o=new WeakMap,H(mt,3,"m11",mc,w),H(mt,3,"m12",lc,w),H(mt,3,"m13",dc,w),H(mt,3,"m14",bc,w),H(mt,3,"m21",hc,w),H(mt,3,"m22",yc,w),H(mt,3,"m23",ac,w),H(mt,3,"m24",pc,w),H(mt,3,"m31",uc,w),H(mt,3,"m32",sc,w),H(mt,3,"m33",rc,w),H(mt,3,"m34",ic,w),H(mt,3,"m41",ec,w),H(mt,3,"m42",oc,w),H(mt,3,"m43",cc,w),H(mt,3,"m44",nc,w),H(mt,3,"backward",tc,w),H(mt,3,"down",_n,w),H(mt,3,"forward",xn,w),H(mt,3,"left",Dn,w),H(mt,3,"right",$n,w),H(mt,3,"translation",Kn,w),H(mt,3,"up",Hn,w),gt(mt,w);var tt=w;var wn=Symbol("constructor"),fc,Vc,q,Mn,Q,l=class l{constructor(...s){wt(Mn,5,this);rt(this,q,0);rt(this,Q,0);l[wn].apply(this,s)}static get one(){return new l(1,1)}static get unitX(){return new l(1,0)}static get unitY(){return new l(0,1)}static get zero(){return new l(0,0)}get x(){return t(this,q)}set x(s){p(this,q,s)}get y(){return t(this,Q)}set y(s){p(this,Q,s)}static"##STRUCT_CONSTRUCTOR##"(){return l.zero}static[(Vc=[st(Number)],fc=[st(Number)],wn)](...s){return l[wn]=g().add([],function(){}).add([Number],function(n){p(this,q,n),p(this,Q,n)}).add([Number,Number],function(n,c){p(this,q,n),p(this,Q,c)}),l[wn].apply(this,s)}*[Symbol.iterator](){yield t(this,q),yield t(this,Q)}static add(...s){return l.add=g().add([l,l],function(n,c){return new l(t(n,q)+t(c,q),t(n,Q)+t(c,Q))}).add([l,l,l],function(n,c,e){p(e,q,t(n,q)+t(c,q)),p(e,Q,t(n,Q)+t(c,Q))}),l.add.apply(this,s)}static barycentric(...s){return l.barycentric=g().add([l,l,l,Number,Number],function(n,c,e,i,r){return new l(F.barycentric(t(n,q),t(c,q),t(e,q),i,r),F.barycentric(t(n,Q),t(c,Q),t(e,Q),i,r))}).add([l,l,l,Number,Number,l],function(n,c,e,i,r,u){p(u,q,F.barycentric(t(n,q),t(c,q),t(e,q),i,r)),p(u,Q,F.barycentric(t(n,Q),t(c,Q),t(e,Q),i,r))}),l.barycentric.apply(this,s)}static catmullRom(...s){return l.catmullRom=g().add([l,l,l,l,Number],function(n,c,e,i,r){return new l(F.catmullRom(t(n,q),t(c,q),t(e,q),t(i,q),r),F.catmullRom(t(n,Q),t(c,Q),t(e,Q),t(i,Q),r))}).add([l,l,l,l,Number,l],function(n,c,e,i,r,u){p(u,q,F.catmullRom(t(n,q),t(c,q),t(e,q),t(i,q),r)),p(u,Q,F.catmullRom(t(n,Q),t(c,Q),t(e,Q),t(i,Q),r))}),l.catmullRom.apply(this,s)}static clamp(...s){return l.clamp=g().add([l,l,l],function(n,c,e){return new l(F.clamp(t(n,q),t(c,q),t(e,q)),F.clamp(t(n,Q),t(c,Q),t(e,Q)))}).add([l,l,l,l],function(n,c,e,i){p(i,q,F.clamp(t(n,q),t(c,q),t(e,q))),p(i,Q,F.clamp(t(n,Q),t(c,Q),t(e,Q)))}),l.clamp.apply(this,s)}static cross(...s){return l.cross=g().add([l,l],function(n,c){return t(n,q)*t(c,Q)-t(n,Q)*t(c,q)}),l.cross.apply(this,s)}static distance(...s){return l.distance=g().add([l,l],function(n,c){let e=t(n,q)-t(c,q),i=t(n,Q)-t(c,Q);return Math.sqrt(e*e+i*i)}),l.distance.apply(this,s)}static distanceSquared(...s){return l.distanceSquared=g().add([l,l],function(n,c){let e=t(n,q)-t(c,q),i=t(n,Q)-t(c,Q);return e*e+i*i}),l.distanceSquared.apply(this,s)}static divide(...s){return l.divide=g().add([l,Number],function(n,c){let e=1/c;return new l(t(n,q)*e,t(n,Q)*e)}).add([l,Number,l],function(n,c,e){let i=1/c;p(e,q,t(n,q)*i),p(e,Q,t(n,Q)*i)}).add([l,l],function(n,c){return new l(t(n,q)/t(c,q),t(n,Q)/t(c,Q))}).add([l,l,l],function(n,c,e){p(e,q,t(n,q)/t(c,q)),p(e,Q,t(n,Q)/t(c,Q))}),l.divide.apply(this,s)}static dot(...s){return l.dot=g().add([l,l],function(n,c){return t(n,q)*t(c,q)+t(n,Q)*t(c,Q)}),l.dot.apply(this,s)}static hermite(...s){return l.hermite=g().add([l,l,l,l,Number],function(n,c,e,i,r){return new l(F.hermite(t(n,q),t(c,q),t(e,q),t(i,q),r),F.hermite(t(n,Q),t(c,Q),t(e,Q),t(i,Q),r))}).add([l,l,l,l,Number,l],function(n,c,e,i,r,u){p(u,q,F.hermite(t(n,q),t(c,q),t(e,q),t(i,q),r)),p(u,Q,F.hermite(t(n,Q),t(c,Q),t(e,Q),t(i,Q),r))}),l.hermite.apply(this,s)}static lerp(...s){return l.lerp=g().add([l,l,Number],function(n,c,e){return new l(F.lerp(t(n,q),t(c,q),e),F.lerp(t(n,Q),t(c,Q),e))}).add([l,l,Number,l],function(n,c,e,i){p(i,q,F.lerp(t(n,q),t(c,q),e)),p(i,Q,F.lerp(t(n,Q),t(c,Q),e))}),l.lerp.apply(this,s)}static max(...s){return l.max=g().add([l,l],function(n,c){return new l(t(n,q)>t(c,q)?t(n,q):t(c,q),t(n,Q)>t(c,Q)?t(n,Q):t(c,Q))}).add([l,l,l],function(n,c,e){p(e,q,t(n,q)>t(c,q)?t(n,q):t(c,q)),p(e,Q,t(n,Q)>t(c,Q)?t(n,Q):t(c,Q))}),l.max.apply(this,s)}static min(...s){return l.min=g().add([l,l],function(n,c){return new l(t(n,q)<t(c,q)?t(n,q):t(c,q),t(n,Q)<t(c,Q)?t(n,Q):t(c,Q))}).add([l,l,l],function(n,c,e){p(e,q,t(n,q)<t(c,q)?t(n,q):t(c,q)),p(e,Q,t(n,Q)<t(c,Q)?t(n,Q):t(c,Q))}),l.min.apply(this,s)}static multiply(...s){return l.multiply=g().add([l,Number],function(n,c){return new l(t(n,q)*c,t(n,Q)*c)}).add([l,Number,l],function(n,c,e){p(e,q,t(n,q)*c),p(e,Q,t(n,Q)*c)}).add([l,l],function(n,c){return new l(t(n,q)*t(c,q),t(n,Q)*t(c,Q))}).add([l,l,l],function(n,c,e){p(e,q,t(n,q)*t(c,q)),p(e,Q,t(n,Q)*t(c,Q))}),l.multiply.apply(this,s)}static negate(...s){return l.negate=g().add([l],function(n){return new l(-t(n,q),-t(n,Q))}).add([l,l],function(n,c){p(c,q,-t(n,q)),p(c,Q,-t(n,Q))}),l.negate.apply(this,s)}static normalize(...s){return l.normalize=g().add([l],function(n){let c=1/Math.sqrt(t(n,q)*t(n,q)+t(n,Q)*t(n,Q));return new l(t(n,q)*c,t(n,Q)*c)}).add([l,l],function(n,c){let e=1/Math.sqrt(t(n,q)*t(n,q)+t(n,Q)*t(n,Q));p(c,q,t(n,q)*e),p(c,Q,t(n,Q)*e)}),l.normalize.apply(this,s)}static reflect(...s){return l.reflect=g().add([l,l],function(n,c){let e=2*(t(n,q)*t(c,q)+t(n,Q)*t(c,Q));return new l(t(n,q)-t(c,q)*e,t(n,Q)-t(c,Q)*e)}).add([l,l,l],function(n,c,e){let i=2*(t(n,q)*t(c,q)+t(n,Q)*t(c,Q));p(e,q,t(n,q)-t(c,q)*i),p(e,Q,t(n,Q)-t(c,Q)*i)}),l.reflect.apply(this,s)}static smoothStep(...s){return l.smoothStep=g().add([l,l,Number],function(n,c,e){return new l(F.smoothStep(t(n,q),t(c,q),e),F.smoothStep(t(n,Q),t(c,Q),e))}).add([l,l,Number,l],function(n,c,e,i){p(i,q,F.smoothStep(t(n,q),t(c,q),e)),p(i,Q,F.smoothStep(t(n,Q),t(c,Q),e))}),l.smoothStep.apply(this,s)}static subtract(...s){return l.subtract=g().add([l,l],function(n,c){return new l(t(n,q)-t(c,q),t(n,Q)-t(c,Q))}).add([l,l,l],function(n,c,e){p(e,q,t(n,q)-t(c,q)),p(e,Q,t(n,Q)-t(c,Q))}),l.subtract.apply(this,s)}static transform(...s){return l.transform=g().add([l,tt],function(n,c){return new l(t(n,q)*c.m11+t(n,Q)*c.m21+c.m41,t(n,q)*c.m12+t(n,Q)*c.m22+c.m42)}).add([l,tt,l],function(n,c,e){p(e,q,t(n,q)*c.m11+t(n,Q)*c.m21+c.m41),p(e,Q,t(n,q)*c.m12+t(n,Q)*c.m22+c.m42)}).add([l,ht],function(n,c){let e=c.x,i=c.y,r=c.z,u=c.w,a=t(n,q),y=t(n,Q),h=new z(e+e,i+i,r+r),b=new z(e,e,u),m=new z(1,i,r),V=z.multiply(h,b),M=z.multiply(h,m);return new l(a*(1-M.y-M.z)+y*(V.y-V.z),a*(V.y+V.z)+y*(1-V.x-M.z))}).add([l,ht,l],function(n,c,e){let i=c.x,r=c.y,u=c.z,a=c.w,y=t(n,q),h=t(n,Q),b=new z(i+i,r+r,u+u),m=new z(i,i,a),V=new z(1,r,u),M=z.multiply(b,m),S=z.multiply(b,V);p(e,q,y*(1-S.y-S.z)+h*(M.y-M.z)),p(e,Q,y*(M.y+M.z)+h*(1-M.x-S.z))}).add([_.T(l),Number,tt,_.T(l),Number,Number],function(n,c,e,i,r,u){if(n.length<c+u)throw new RangeError("sourceArray \u7684\u957F\u5EA6\u5C0F\u4E8E sourceIndex + length\u3002");if(i.length<r+u)throw new RangeError("destinationArray \u7684\u957F\u5EA6\u5C0F\u4E8E destinationIndex + length\u3002");for(let a=0;a<u;a++){let y=n[c+a],h=i[r+a];p(h,q,t(y,q)*e.m11+t(y,Q)*e.m21+e.m41),p(h,Q,t(y,q)*e.m12+t(y,Q)*e.m22+e.m42),i[r+a]=h}}).add([_.T(l),Number,ht,_.T(l),Number,Number],function(n,c,e,i,r,u){if(n.length<c+u)throw new RangeError("sourceArray \u7684\u957F\u5EA6\u5C0F\u4E8E sourceIndex + length\u3002");if(i.length<r+u)throw new RangeError("destinationArray \u7684\u957F\u5EA6\u5C0F\u4E8E destinationIndex + length\u3002");for(let a=0;a<u;a++){let y=n[c+a],h=i[r+a],b=l.transform(y,e);p(h,q,t(b,q)),p(h,Q,t(b,Q)),i[r+a]=h}}).add([_.T(l),tt,_.T(l)],function(n,c,e){l.transform(n,0,c,e,0,n.length)}).add([_.T(l),ht,_.T(l)],function(n,c,e){l.transform(n,0,c,e,0,n.length)}),l.transform.apply(this,s)}static transformNormal(...s){return l.transformNormal=g().add([l,tt],function(n,c){return new l(t(n,q)*c.m11+t(n,Q)*c.m21,t(n,q)*c.m12+t(n,Q)*c.m22)}).add([l,tt,l],function(n,c,e){p(e,q,t(n,q)*c.m11+t(n,Q)*c.m21),p(e,Q,t(n,q)*c.m12+t(n,Q)*c.m22)}).add([_.T(l),Number,tt,_.T(l),Number,Number],function(n,c,e,i,r,u){if(n.length<c+u)throw new RangeError("sourceArray \u7684\u957F\u5EA6\u5C0F\u4E8E sourceIndex + length\u3002");if(i.length<r+u)throw new RangeError("destinationArray \u7684\u957F\u5EA6\u5C0F\u4E8E destinationIndex + length\u3002");for(let a=0;a<u;a++)i[r+a]=l.transformNormal(n[c+a],e)}).add([_.T(l),tt,_.T(l)],function(n,c,e){if(e.length<n.length)throw new RangeError("destinationArray \u7684\u957F\u5EA6\u5C0F\u4E8E sourceArray \u7684\u957F\u5EA6\u3002");for(let i=0;i<n.length;i++)e[i]=l.transformNormal(n[i],c)}),l.transformNormal.apply(this,s)}static"-"(...s){return l["-"]=g([l],function(n){return l.negate(n)}),l["-"].apply(this,s)}"+"(...s){return l.prototype["+"]=g([l],function(n){return l.add(this,n)}),l.prototype["+"].apply(this,s)}"-"(...s){return l.prototype["-"]=g([l],function(n){return l.subtract(this,n)}),l.prototype["-"].apply(this,s)}"*"(...s){return l.prototype["*"]=g([l],function(n){return l.multiply(this,n)}).any(function(n){return l.multiply(this,n)}),l.prototype["*"].apply(this,s)}"/"(...s){return l.prototype["/"]=g([l],function(n){return l.divide(this,n)}).any(function(n){return l.divide(this,n)}),l.prototype["/"].apply(this,s)}"=="(...s){return l.prototype["=="]=g([l],function(n){return this.equals(n)}),l.prototype["=="].apply(this,s)}"!="(...s){return l.prototype["!="]=g([l],function(n){return!this.equals(n)}),l.prototype["!="].apply(this,s)}length(...s){return l.prototype.length=g([],function(){return Math.sqrt(t(this,q)**2+t(this,Q)**2)}),l.prototype.length.apply(this,s)}lengthSquared(...s){return l.prototype.lengthSquared=g([],function(){return t(this,q)**2+t(this,Q)**2}),l.prototype.lengthSquared.apply(this,s)}normalize(...s){return l.prototype.normalize=g([],function(){let n=1/this.length();p(this,q,t(this,q)*n),p(this,Q,t(this,Q)*n)}),l.prototype.normalize.apply(this,s)}equals(...s){return l.prototype.equals=g([l],function(n){return t(this,q)===t(n,q)&&t(this,Q)===t(n,Q)}).any(()=>!1),l.prototype.equals.apply(this,s)}toString(...s){return l.prototype.toString=g([],function(){return JSON.stringify(this)}),l.prototype.toString.apply(this,s)}toJSON(){return{x:t(this,q),y:t(this,Q)}}};Mn=zt(null),q=new WeakMap,Q=new WeakMap,H(Mn,3,"x",Vc,l),H(Mn,3,"y",fc,l),gt(Mn,l);var Ut=l;export{Ut as a,z as b,ht as c,Wt as d,ft as e,tt as f,Kt as g,Et as h,Yt as i,It as j};
//# sourceMappingURL=chunk-P4VIRXSN.js.map
